[
    {
        "id": "52d0ba6e087a1e67",
        "type": "tab",
        "label": "Intern PLC",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6fc709f0bff89a08",
        "type": "tab",
        "label": "Entrades PLC",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "865b764148bf192a",
        "type": "tab",
        "label": "Comandaments",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3c26247f8ee91864",
        "type": "tab",
        "label": "Càlculs",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "ef7a0ef305dd237e",
        "type": "tab",
        "label": "Sortides PLC",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "fc4592acfe4a957a",
        "type": "tab",
        "label": "Modbus RTU",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "eb9b13ea99aacf08",
        "type": "tab",
        "label": "Tarifes",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "40e18b1fe1f3daf0",
        "type": "tab",
        "label": "Fuxa",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8dd0653486d5a6d4",
        "type": "tab",
        "label": "Com. Gronxadors",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d18f2ebb0dd49b18",
        "type": "tab",
        "label": "Alarms i Avaries",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "662afd5c1069609f",
        "type": "tab",
        "label": "Servidor IOT",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8d8051626fa38eec",
        "type": "tab",
        "label": "Backups",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "bb65a77b590797ae",
        "type": "group",
        "z": "40e18b1fe1f3daf0",
        "name": "Cap a Fuxa",
        "style": {
            "label": true
        },
        "nodes": [
            "04fc45b459865162",
            "d2919c6e39dd32a0",
            "a7d7bf97d5b09072",
            "19ff3bc73b0a78ad",
            "3dac1e306cd03dda",
            "8f3a7ee1892e2dbc",
            "23d9f608fc7a5dc5",
            "7f47caed5f5d3238",
            "e40fbc658e86ae6e",
            "262a494857426b31",
            "b5c2c0cad4e07807",
            "74633c378cf9c346",
            "a406553517367c83",
            "d33d91b3ec104220",
            "94396212841e66c0",
            "fb2929d25a504084",
            "ab0ba175788d46bc",
            "eb1d138b205f94ff",
            "6777f7904103cb6b",
            "753aa89ed9093bc1",
            "f91db0aeec5c2461",
            "b562dc251e5acd73",
            "31d3d976e537b1cc",
            "66cd77d6d302aa9a",
            "9fa3248947dea251",
            "1cd209dd3bc8f34c",
            "1977247eefe0893f",
            "9c79fae732a2d838",
            "b0eff72c6fc85d73",
            "6b0848e0bc4f9bbc",
            "af425e7f2ebb4632",
            "559cb5ad9ef091d0",
            "d8be47f1cb41d432",
            "77ce7e067abc9064"
        ],
        "x": 34,
        "y": 1799,
        "w": 912,
        "h": 1362
    },
    {
        "id": "7e51bb6ae7b3ffd4",
        "type": "group",
        "z": "ef7a0ef305dd237e",
        "name": "Sortides PLC",
        "style": {
            "label": true
        },
        "nodes": [
            "8d85dfe2ba06b248",
            "571e4c9a782e5a6e"
        ],
        "x": 338,
        "y": 53,
        "w": 704,
        "h": 594
    },
    {
        "id": "9f9cc9de8822527d",
        "type": "group",
        "z": "fc4592acfe4a957a",
        "name": "UMF100 3 - Adr. 3",
        "style": {
            "label": true
        },
        "nodes": [
            "cc72850f6f3752bd",
            "4f52e74b53f842af",
            "aeafb92202bb68c2",
            "eef78d4a289849c7",
            "5f99e5cadd934fca",
            "dc193b3db33837fe",
            "e90cc7aa96138aae",
            "c00560783c1ac154",
            "007e9eca7c051f6f",
            "3ed18510a3c8d0d9",
            "2069b573f4670348",
            "bf043b459aade923",
            "a10dc5d7b31fab9c",
            "07353153e3f2f085",
            "bd2285d20773e9b8",
            "da85d9fe9bae8baf",
            "406f92387106f109",
            "1470d92199319171",
            "641e52862bc7933e",
            "b466fa669edbfb83",
            "ad73d76acf6c73a3",
            "3494f2549b23df41",
            "9b9980aee8ad4ae2",
            "57b1fa0e311759be",
            "b10f26b4dab72ee0",
            "4d21453f032a7021",
            "f60b957c17b696dd",
            "2cf7b3ca79860cd1",
            "04fd3c1cee533414",
            "1684eb5985d85c07",
            "770f87e3079d5ac9",
            "f33c0f31d9da3191",
            "ba1d108fd5547fe4",
            "2a124257113345fe",
            "c24a1b1d28aedd99",
            "cecf33eb5c422d79",
            "9b82113eecf059e2",
            "eedb9f8e6203f121",
            "87fb7338225ab238",
            "d3094fccfbc53052",
            "6e5fc8d172280392",
            "e3062c8453336511",
            "3c6fe822f6374303",
            "01ff2d47b01f76ec",
            "f39d868ab284f023",
            "aaab559685211d5e",
            "45831b0a736fdc76",
            "e9ceb38dbadc5c1d",
            "ab0abab9fe46a60a",
            "8a9b5e92e21f936d",
            "3b1808607f93cd87",
            "c671ec7f6f5a66dc",
            "0a5349007eb45e97",
            "16a095750ce79e18"
        ],
        "x": 54,
        "y": 1659,
        "w": 1032,
        "h": 962
    },
    {
        "id": "3d3d5d7c2a056bfc",
        "type": "group",
        "z": "fc4592acfe4a957a",
        "name": "UMF100 2 -  Adr. 2",
        "style": {
            "label": true
        },
        "nodes": [
            "14af1dccbfc83bbd",
            "a99632b53d2e59c0",
            "b2c8a990a1d7425d",
            "4848c4f2213139fc",
            "c406e9ce7f02a1f6",
            "a936e1cf0b51043e",
            "45d4bdb60859fe3f",
            "0fc17e6f705cf533",
            "cd847ac34958f124",
            "ee7acd1f498b0c54",
            "2fcdf6e11422de48",
            "c83c22f651029e6a",
            "8bef82416b8800c5",
            "61bfc6b3f0c18d37",
            "7254f01a2ba46baf",
            "a9b6dadb02e9660b",
            "4c4c1e8d9d935386",
            "79733c6749eabcb8",
            "93f0043dc20ced01",
            "af99dee93aebaf60",
            "82b3d86d8065e8d0",
            "3535709e173e08aa"
        ],
        "x": 54,
        "y": 1299,
        "w": 1132,
        "h": 322
    },
    {
        "id": "d018bb775d102d7d",
        "type": "group",
        "z": "52d0ba6e087a1e67",
        "name": "Valors iterns PLC",
        "style": {
            "label": true,
            "stroke": "#ffdf7f"
        },
        "nodes": [
            "4fe39c1704264f52",
            "955d36898f8e86f4",
            "0dd3d844f9043a6c",
            "fc21d60935d3ec9a",
            "33f4621df84de10a",
            "ffa9f205a30331ee",
            "506890f13f9217c7",
            "25230cca09861bdd",
            "8a28edfc13be9256"
        ],
        "x": 54,
        "y": 19,
        "w": 632,
        "h": 342
    },
    {
        "id": "c45707e804209f80",
        "type": "group",
        "z": "fc4592acfe4a957a",
        "name": "Modbus analitzador APMIX5 adreça 6",
        "style": {
            "stroke": "#ff7f7f",
            "label": true
        },
        "nodes": [
            "2d895c362130e849",
            "749a2cce34a16d74",
            "55f57ee6678e4303",
            "96ada0a568f14d20",
            "bf6fd7c055d2fced",
            "f8afea510f09371f",
            "07d0f684c73b006b",
            "5d0833a2c377bed1",
            "2b0a8df684974e30",
            "f0e76529169db28f",
            "d27483b2591442a5",
            "ae62d11f90ef6956",
            "c5f0d1d885355364"
        ],
        "x": 54,
        "y": 2659,
        "w": 1032,
        "h": 302
    },
    {
        "id": "0af86376f01f059b",
        "type": "group",
        "z": "fc4592acfe4a957a",
        "name": "UMF100 1 -  Adr. 1",
        "style": {
            "label": true
        },
        "nodes": [
            "94f3684763b1c83a",
            "d14fdba1d1d63003",
            "f9168b180ea0e4f2",
            "98cb96487bd3fecf",
            "32de1f20250e2833",
            "faa316e39b736737",
            "8ad0e9fba9c0fd5f",
            "c999d4ca421f7cfc",
            "04caea1045385af9",
            "9a3aaf18a5bd0e1d",
            "92e44a03050101bc",
            "1919ec360abdb14a",
            "b4eb1fe4239d28f1",
            "3c3a9797cc9c9122",
            "01cda01328f69de6",
            "60e8fc448c532454",
            "a892b90efe1866f4",
            "ce6eabe2a6765311",
            "a18fc374aa452ba7",
            "77fd90961e9582de",
            "5398652ff646ee52",
            "0825d9b1aeb256f0",
            "0ff50efd5d9055f9",
            "1f5e5434db0c0962",
            "86c48526fd91ad8f",
            "bf7cb4835af53658",
            "c187fab1092b9f26",
            "ea6988142098c9e6",
            "d77934f20cae1061",
            "f18f1bd64de377e9",
            "acf95e42e5160214",
            "ce9ba80c23329bc0",
            "210afc3dab0a138d",
            "9d801473557daee7",
            "e032bf41fe585d41",
            "8c403e48eb8ed1bf",
            "1cad5cfa0c91e91e",
            "4e2fc1a3ccb14648",
            "2e8b1b91881c3560",
            "dfdf734cea7e16a8",
            "98a71e3f420a438f",
            "2e36525c1bf8df64",
            "110cb313f288cd3f",
            "0d28c250e46f07f1",
            "c75fe7a88f872952",
            "3a4f3966dc568f33",
            "4dc731cac0fd5fca",
            "b4e39d8d51d7eb45",
            "9db8e882d2804c5d",
            "f56cdcbc9051046d",
            "5aa89d80589e7fef",
            "f738bd26e7c25dc9",
            "eb5c1d43bd49d27c",
            "05d880f5d9079463",
            "ccf252ad74f50700",
            "0cfb0f567d1a8920",
            "6f6046769b6253d4",
            "changeNode",
            "statusNode",
            "6e684175c47507c6",
            "fb8a605c7bc225f3"
        ],
        "x": 54,
        "y": 299,
        "w": 1392,
        "h": 962
    },
    {
        "id": "1af84737a891cd02",
        "type": "group",
        "z": "fc4592acfe4a957a",
        "name": "Litres per impuls cabalímetres",
        "style": {
            "label": true
        },
        "nodes": [
            "814d5a4510c71a63",
            "439d3548645f3dfe",
            "5b351e48f66d3302",
            "06171cb2d973ff23",
            "f2bbb34f0455641d",
            "9a8fbfe7bc1fc7b2",
            "4e1290f183b868b3",
            "768a6305ab9d74dc",
            "21e91e0ba475afdd",
            "b0793a3d1866d1c6",
            "d34a12912135cab5",
            "1f8384fe6ed02526",
            "93cf34f05385c29f",
            "2513aff14b06b452"
        ],
        "x": 54,
        "y": 19,
        "w": 872,
        "h": 202
    },
    {
        "id": "a712dd8b257c8e86",
        "type": "group",
        "z": "eb9b13ea99aacf08",
        "name": "",
        "style": {
            "stroke": "#9363b7",
            "label": true
        },
        "nodes": [
            "b7e684e429596127",
            "be573dfc4d2b591b",
            "0a939f855ae02809",
            "369ae52e332674d0",
            "84a7ab677a13b7bc",
            "e9b57f84ce9214ee",
            "4751cddaddd3e859",
            "4a478816f0cc719a",
            "05d4bac89bafedad",
            "206797ad850874c4",
            "18c18c2448cd6f9d",
            "3be2780e0dbf2d29",
            "f7517a36ecf8a9dc",
            "3397089ea5633f23",
            "963a44eaea22671f",
            "8d1758299f39521e",
            "a38aa2bb1d723e05",
            "af810a858a78a216",
            "e72ec901f4896f78",
            "b71786898ded190b",
            "29547304faaaad1e",
            "b12a30a1ae9a60ff",
            "3ef0d30e74135c18",
            "4d42cdf2c783f393",
            "6892330dbf87dee6"
        ],
        "x": 54,
        "y": 59,
        "w": 692,
        "h": 802
    },
    {
        "id": "5b1fd42b76148691",
        "type": "group",
        "z": "d18f2ebb0dd49b18",
        "name": "Gestió Alarmes",
        "style": {
            "stroke": "#ffC000",
            "label": true
        },
        "nodes": [
            "ed041976a18576d6",
            "5bf0662f125320fd",
            "e56a3a47c24e2aa4",
            "6b4c05b030c9b261",
            "e605265d32c71e37",
            "cfa88792d9a5309c",
            "a53d412234c7fed4",
            "a045be917f981728",
            "4b80af1113bc09b9",
            "4a4f2291b9287f3b",
            "d286cbd0e9ed5974",
            "f219495dee97cab1",
            "1fdca9d6bdba6c2b",
            "b6ed100552d50d2c",
            "b53eb0e8cc5e1990",
            "4d05a6529c7b8c5f",
            "146aee312e69e885",
            "048d9bfbfde41581",
            "04a805abe82df77e",
            "912ef5187eb25296",
            "e049c85ce6305d4a",
            "136dd9b349b3eae4",
            "2490a7661ffdae63",
            "4d799aa3ba280a7a",
            "d88de63389ed0d5a",
            "1cb0918c5ba48946",
            "40ab21cfb14ff7b1",
            "e6d2814e15aef9b6",
            "f49fbde78bed5d6a",
            "c379be4aacdaf761",
            "0fe875b941c4b8c0",
            "34a826f4c2750b19",
            "28276088bda35a1b",
            "2d15227cacc659a1",
            "e1efffcc06af9c93",
            "9bf45065524ae152",
            "0d1d532075c1f684",
            "920d579124f84301",
            "39718590c56cef0a",
            "09fc3af29bf25655",
            "e4a35978c45c5a10",
            "b596bcf8c080a55e",
            "e84f39c453821804",
            "7d616ec1bf751f9f",
            "dadb2d1147b1508f",
            "a89ffa5ed7062a63",
            "8dfcd36f23323b4e",
            "7887b054757c1b1b",
            "76dd71d2c470cec2",
            "6331c893fbe46c23",
            "f802c573b7bba24e",
            "a56622dfbd40e0da",
            "4748af944b53ffd4",
            "4d3243f63d668c0c",
            "e4f91b31e0a0e044",
            "b16efdd69c667cf1",
            "2d0aed29f5a0c4b7",
            "6d0b4017e5a743c4",
            "c8551fa8b03b6720",
            "9ea7a79d188381f4",
            "e68ec712832cdcb1",
            "63dff4f04f011869",
            "56ae3a5ad5ba28d8",
            "839266da2ccd70e6",
            "7501d6b258aa2b3c",
            "070c8e1b67ac437c",
            "fed56a76268a8206",
            "1d1558c8b1381f5f",
            "372543d9489c83c3",
            "4306902cb9eff109",
            "085f982d0b0927f0",
            "c901c12f1d5e4637",
            "6e71b8e4146ca54c",
            "1c82ecf3b131c571",
            "9be7936c69b427f6",
            "1347855876902ae2",
            "1b9e5ef78ee9c31f",
            "38b004df253637be",
            "aa31838213f0c6c3",
            "fd71c2c05eb41e1f",
            "8e27b8e8a9922216",
            "750eebf9b5c5eeba",
            "0360a759ce631c99",
            "6fa23a3945dfdfcf",
            "0a7a733cdc4a760c",
            "7ee3c9cf2837a040",
            "f8f430c3ece80307",
            "f6762bfa014efd01",
            "9ca129f07df545d7",
            "6901f9602577b2f8",
            "4589775655090696",
            "3606a106fe333dfd",
            "e75dbf45e866c32b",
            "bf71fe33d24efa3d",
            "f9d3eb0354294278",
            "4fad51b3fdb62181",
            "13b768e906826115",
            "c6583d31e68c1618",
            "4fdd31e79daf8ec9",
            "21875cd12c674713",
            "95afc6fd03638ff6",
            "8151a345a28b32e7",
            "a76c7dc43ba9ce09",
            "59e5572e1580a8e8",
            "5b92396e73b2409c",
            "396c5545aeef730d",
            "61334d7bc495e69b",
            "6a969910f20bb0e1",
            "63741b86de34532a",
            "fbf29ed380d3d356",
            "8a618c49f760115f",
            "b12d1e872dcfe000",
            "4368cd8c19b54655",
            "a1e73493b670f8e2",
            "4b7594a1052d81fb",
            "7b0544130a3b726a",
            "710556f6e0097261",
            "ef2316da6b270b71",
            "04d18f5e61b343a3",
            "4d0307f17de9f79d",
            "752299edd23e2ece",
            "9409b6741df8a591",
            "2dcf6610d54f92a3",
            "a5c90b9390d7c3f3",
            "652f774103cd5cbb",
            "0e629436207fa0df",
            "f2a472c55d451cfb",
            "c48d6c948bb425e4",
            "abaf0d4e90b4d2a7",
            "5cdf51f810195ecc",
            "83418fffc9073379",
            "33c20d0b6413a737",
            "e025a0b23ab4bbe0",
            "50497a4fed4459c7",
            "3df26833bbd65a92",
            "0414160e175fa462",
            "bf18c31f8fce413a",
            "2bef59883fb231a0",
            "449978af8f6b75ce",
            "8bbefec9d90b74b7",
            "bc835768be44f438"
        ],
        "x": 54,
        "y": 519,
        "w": 1152,
        "h": 2022
    },
    {
        "id": "9b2933ab4b100a51",
        "type": "group",
        "z": "40e18b1fe1f3daf0",
        "name": "Figures FUXA",
        "style": {
            "label": true
        },
        "nodes": [
            "aeeacf7c01a35926",
            "424466ba0116847a",
            "bde60443c61fba26",
            "598776789d6d7398",
            "2b11395eb3163ce0",
            "0f78d7bb1dc31819",
            "eaa365e88ca7fec8",
            "d78042691c6b5106",
            "fdf211275312083f",
            "7c2117af6ffa5e1f",
            "82ac2b5809546802",
            "a6426f54e64e5c5f",
            "d639ddfbdddd5d8d",
            "22204fce814e324c",
            "b61faa7a1e44d363",
            "e82d38e9874c4fed",
            "ded19ab0b96ce00e",
            "4dc224b742881706",
            "70af1b8d33229058",
            "c036382d6301a932",
            "1365ad359f498a50",
            "c4f3543a077fc107",
            "84253d667c92c4ab",
            "86d5a60c62150951",
            "d94bd775abfefe7d",
            "cce227b1e7f16cda",
            "865984d4b65ebd2c",
            "65bd5ede554da3a2",
            "8115fd4ac3daad53",
            "7d9ebd0478b88400",
            "e9f7b5f871d5b96b",
            "25050b4ec8b71a61",
            "2c64f8fef94e7c5f",
            "b4922ae5fc09368d",
            "84df56a4af2189bc",
            "2d33780ddd8e011e",
            "0ba354eeaad19f59",
            "9ac0d4c5f64e2b69",
            "14dc0ad125c313e2",
            "0432de45cc1789a8",
            "781b0791bbcbeb8a",
            "43901cb417d1faa8",
            "553efaa4fa20997f",
            "2e538c8c7354afb1",
            "9a53c76801318abc",
            "7b1c55528750f79e",
            "e69157330b5b7ed5",
            "06a35071943a2857",
            "9b64fb6ae176c8b7",
            "7b9079fa3136dd56",
            "ea3709af16568a9c",
            "5fb6d76bd545190d",
            "528aef13fee9e653",
            "5f6c5144846461df",
            "dd77912c3babf31b",
            "162b236edd1933f0",
            "56756b516b412091",
            "031ec2c01610c9de",
            "05e6e3ae7d9b2821",
            "d92d9c1c9e097d52",
            "099149c2e5d77022",
            "1120662f3bf57657",
            "2039c47e40dcd6cc",
            "cb70d1db07a4ba7c",
            "f8b7bd3bbc7d6ad3",
            "28ad7edf37fb7e62",
            "9ed6c64c4af5230c",
            "86d77ec2548268e8",
            "4e4d19d10cec1821",
            "68764693c90b3b2d",
            "7f011332338c0d48",
            "a25d33a88bfe6320",
            "4c06bee04a916f91",
            "f32c43c6f3ecc658",
            "d3c2aa1172d8a70a",
            "ea04c7dba23a18e7",
            "666238e7c8700130",
            "9a6e9b30f93a31ef",
            "bb24a4a078a61b6d",
            "dc78747e9b84535e",
            "602b57748f526616",
            "61141507483c3a36",
            "5a0aa88a34e300cf",
            "8fa9fcc33a02eac8",
            "1ff441b2af3c8acb",
            "df27a5ae053385e2",
            "4768ed38c3523177",
            "413094742396bb74",
            "138dd04729f0d4c4",
            "20fb7b78fae9b64a",
            "cdbe6bb517ecafa9",
            "a19761b209d4ee03",
            "5b30b17b06ac026e",
            "8b000766422b857e",
            "f15a56a11bfbbbb9",
            "516ccca22c7fa335",
            "701dec0a9486547c",
            "1b0f6ad09018793d",
            "b3c26445a8934bdc",
            "98c96f5eb4f1135b",
            "0b2894401c66e83e",
            "b887c692236a8389",
            "7d2d124a0341bb7f",
            "a1e91c3dbc18a52c",
            "660c57591565019d",
            "f84fcd17d8c0ee5f",
            "a84f37b58e127470",
            "330b441c8af70f13",
            "5e30e1447d82469d"
        ],
        "x": 34,
        "y": 179,
        "w": 1032,
        "h": 1602
    },
    {
        "id": "93352943ee6bd00d",
        "type": "group",
        "z": "662afd5c1069609f",
        "name": "Alarmes a IoT",
        "style": {
            "label": true,
            "stroke": "#ff0000"
        },
        "nodes": [
            "5d019910101c91dd"
        ],
        "x": 28,
        "y": 4193,
        "w": 1084,
        "h": 2154
    },
    {
        "id": "0658c68795d7bd56",
        "type": "group",
        "z": "865b764148bf192a",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#383c45",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#dddddd"
        },
        "nodes": [
            "db6c711a74d1b0e7",
            "c2560d931447189e",
            "48d01962275e47b8",
            "c4bbb9461798770c",
            "42c1f1f8bf382e04",
            "04fd885e4e38df97",
            "bdf08ad19b98dfc7",
            "41bb0d82f16b107f",
            "05d845e77138443f",
            "2edc079c545c19d6",
            "5d040724ed331a28",
            "a14827af9761e311",
            "fe1827b7e3539df9",
            "e0172a4b4ec010db",
            "7a3c77873533a531",
            "ee3b0d124d48e5a3",
            "2aba4d08a93efca4",
            "79beda12b8aac90f",
            "f92765111d51c7e1",
            "9fe09b2c99fed96b",
            "cb2e93e196aa08f7",
            "f6d2b70ee28b5efc",
            "7a4f8246c10a71e8",
            "caf3e0c5eb64c0c5",
            "c042cf11302e1961",
            "740745b695e7323c",
            "b88461942bb7b0ad"
        ],
        "x": 14,
        "y": 979,
        "w": 1792,
        "h": 462
    },
    {
        "id": "5fbb08b7a4506c32",
        "type": "group",
        "z": "865b764148bf192a",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#383c45",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#dddddd"
        },
        "nodes": [
            "90706d5da1e322c3",
            "501b61821cf799bb",
            "677378e3c80b2bab",
            "5fbf6df9c5e6e459",
            "4b17132729be60cc",
            "39f11a06e634b97e",
            "0ac6f2790c4ca9f8",
            "f8205b4eb106ece9",
            "3daa863b766e1311"
        ],
        "x": 14,
        "y": 19,
        "w": 1292,
        "h": 202
    },
    {
        "id": "9f6f84c83a27a3f2",
        "type": "group",
        "z": "865b764148bf192a",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#383c45",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#dddddd"
        },
        "nodes": [
            "a2623de6ec77b98b",
            "c925d3f8d0817497",
            "b3369edaad65f468",
            "796a18f1f3952c05",
            "6f0729d46df87b2b",
            "e4e20e31ac739021"
        ],
        "x": 14,
        "y": 239,
        "w": 872,
        "h": 222
    },
    {
        "id": "4bddc11fb1f5bd9e",
        "type": "group",
        "z": "865b764148bf192a",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#383c45",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#dddddd"
        },
        "nodes": [
            "ce4974e81f3699d8",
            "f6bac9041f830cb1",
            "76e3b63dccd719b6",
            "155717848e4a27a9",
            "88908eda396684f1",
            "2e47c1114bd5ae68",
            "3c7195fbef8be291",
            "c451b8460146d613",
            "00f77a3368a906a5",
            "aeff316d530568fc",
            "283c38c5be2589f7",
            "dd2743c00e44cae4"
        ],
        "x": 14,
        "y": 479,
        "w": 1472,
        "h": 222
    },
    {
        "id": "2a6a05742fc37b27",
        "type": "group",
        "z": "865b764148bf192a",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#383c45",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#dddddd"
        },
        "nodes": [
            "8f59f19194752c0b",
            "0b5889a5ce4beddb",
            "52cb5acd1b5c23e9",
            "404b15da50784bc5",
            "21d6f238496e0d55",
            "bc45153c192786a0",
            "1ce041eabfa66fe9",
            "fc02021521d30a2c",
            "8cfa644a5be2a76a",
            "353bb8098c5ebe0b",
            "204be802af82daa1",
            "c275f8a662e9f3db",
            "97867745a80dfadc"
        ],
        "x": 14,
        "y": 719,
        "w": 1712,
        "h": 242
    },
    {
        "id": "72e0644bd5809e84",
        "type": "group",
        "z": "865b764148bf192a",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#383c45",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#dddddd"
        },
        "nodes": [
            "2bdcedbee5b11407",
            "3da63000dfd1a253",
            "70954475831d28a3",
            "f8a99b321dfa2741",
            "bac1332bfbe9c927",
            "5882e0c3cc0dda6c",
            "ced91b66ba2392eb",
            "23bfab6a01457111",
            "1efd1b6e99e282d5",
            "587a56754b388070",
            "e5dea343ebb10507",
            "7eae762a2cec81cf",
            "89cb140b6fe37e7c",
            "a43617c1e9173798"
        ],
        "x": 14,
        "y": 1459,
        "w": 1692,
        "h": 202
    },
    {
        "id": "feb6db95aaf4e6ee",
        "type": "group",
        "z": "865b764148bf192a",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#383c45",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#dddddd"
        },
        "nodes": [
            "ca750438ee28474d",
            "bb5e6ef688da1875",
            "a1d3b2e8804cb8be",
            "7f42d378a5280d97",
            "408ac27785445e78",
            "fbe6352d18e6ecb9",
            "db3b6a6feb4307a8",
            "caa72a0ead0f49d3",
            "ea97b7bfe04122b5",
            "0efb867b7f313e5b",
            "2bc8e87d990d054c",
            "261b18cf91357610",
            "9748978c1100df96",
            "8de37b3ec4d85f23",
            "170c0fa016ec696b",
            "79ba0c9955a0acc9",
            "cb531c65fe0f2d6f",
            "d996b1a7a31a947f",
            "3e76542edbef3c3f",
            "85a4c7c64d3681b3",
            "bb7449cbdcd8e9f8",
            "4e6dde2785dec7d3",
            "1989440e88e393cd",
            "5e98709eb678a7c3"
        ],
        "x": 14,
        "y": 1679,
        "w": 1672,
        "h": 362
    },
    {
        "id": "f6c602e4d12c6c2d",
        "type": "group",
        "z": "865b764148bf192a",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#383c45",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#dddddd"
        },
        "nodes": [
            "9882aaa9036e8d24",
            "7138e8eab9f90bf1",
            "3313ee015ff2d338",
            "fb14cdde2fd5a3aa",
            "76eec778bd72fc01",
            "5830616edff0cd5b",
            "2afbbd9b398673cb",
            "2c8fe4e3707f3ca5",
            "3ff62ed255ec050f",
            "38989b74933ddfd1",
            "320961b6e1c1c011",
            "f116c0b8fa12f614",
            "67b90f344940bd7d",
            "d8aa48a006de49e0"
        ],
        "x": 14,
        "y": 2059,
        "w": 1692,
        "h": 222
    },
    {
        "id": "88010a504113ec9e",
        "type": "group",
        "z": "eb9b13ea99aacf08",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#383c45",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#dddddd"
        },
        "nodes": [
            "d77eed99aa02e76c",
            "271f5abe19fded0c",
            "4df7010725549e38",
            "180d881496a243ca",
            "1c5d544f2907841e",
            "3e8c794b53f57f8c",
            "9afc1104e379bff5",
            "de8163150711ca15",
            "10915b5eaad452ca",
            "15bff8b04cabf591",
            "aa32301e283303ca",
            "547b5d0daa89f799",
            "6ea4871330afd57c",
            "210561599986f771",
            "b2ce1236ce0bf052",
            "882fac419d612ec4",
            "5b1cdf0e5c62d6a5",
            "1f91fa6d48882425",
            "1a795361bd83e434",
            "26772bb4b6611d30",
            "9b6861ea17c1bfcb"
        ],
        "x": 54,
        "y": 879,
        "w": 1584,
        "h": 2062
    },
    {
        "id": "33361096e981ad94",
        "type": "group",
        "z": "d18f2ebb0dd49b18",
        "name": "Gestio avaries",
        "style": {
            "label": true
        },
        "nodes": [
            "c806efbe3d419c66",
            "22fe4883f2e9b762",
            "630c5f6e02691325",
            "f024987ad8501b38",
            "1bc32d24587bb201",
            "1116d67f9d328f79",
            "26ba5321978346dc",
            "02ee2514deba4c09",
            "44a3f388aecc9c20",
            "bb147fe3a5514daa",
            "45e04f6b17f211b3",
            "52710fe6f83f43ca",
            "116b939df40db327",
            "f0f28078438c5370",
            "e9551458273ad19c",
            "9d63760523ccf54c",
            "becfabc507d2b2e0"
        ],
        "x": 54,
        "y": 19,
        "w": 632,
        "h": 482
    },
    {
        "id": "93e274aebef92385",
        "type": "group",
        "z": "d18f2ebb0dd49b18",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#383c45",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#dddddd"
        },
        "nodes": [
            "085377df68fd8cbe",
            "7b74f78f5bdc4652",
            "060b54794724b332",
            "15a110f912e0a009",
            "4b88787f0a9799b9",
            "6ffd69542da5e62d",
            "4b7a70721ccba21c",
            "67bd2b508a0aeec0",
            "cbea85b2f651f72d",
            "e55b600f53fa45de",
            "20365a7e8ae444b0",
            "27608e581ba3dce5",
            "304b45427619085b",
            "bc8c927b0b6cd1be",
            "3e8ad2322d8115c3",
            "c238b5308d959d6e",
            "b6eae5b9a9e6349b"
        ],
        "x": 714,
        "y": 19,
        "w": 792,
        "h": 322
    },
    {
        "id": "4f7fe2aadae19e9a",
        "type": "group",
        "z": "662afd5c1069609f",
        "name": "Consum dades a IoT",
        "style": {
            "stroke": "#92d04f",
            "label": true,
            "fill-opacity": "0.36"
        },
        "nodes": [
            "47e456f7bbd6e9bc",
            "5ca8b0088f5cc021",
            "af04943cadfda188",
            "d737981c2463da04",
            "2c3d9b508ef0467d",
            "0885de2cf550d6cf",
            "b1bc22d3d5938734",
            "13a4ee9b7a6c48ca",
            "c467fb78c281be0a",
            "d8e309b15ccd7db6",
            "dcd38ebc6686396f",
            "39e60aa5c000a05e",
            "c48126f67e54a4a7",
            "3e5c26ce15f85a43",
            "0ca6df7acc5282d7",
            "65ca13542cb42f72",
            "c8be1e4288137fc8",
            "aadb51c673295760",
            "edbd16e2cd352173",
            "6c947258bf249b62",
            "499dffa763011a4e",
            "8ee98e89a952a1f5",
            "9cf61e66d0bb0943",
            "0135665d0e36716c",
            "19387f63c14229ae",
            "dd52ffe72bc699ed"
        ],
        "x": 34,
        "y": 6379,
        "w": 1212,
        "h": 642
    },
    {
        "id": "908439d0cf7debb6",
        "type": "group",
        "z": "eb9b13ea99aacf08",
        "style": {
            "stroke": "#2e333a",
            "stroke-opacity": "1",
            "fill": "#383c45",
            "fill-opacity": "0.5",
            "label": true,
            "label-position": "nw",
            "color": "#dddddd"
        },
        "nodes": [
            "3f43c11f7e1df0a5",
            "95d64cdbdf4f9c26",
            "703f055e9a59a8ba",
            "3c89f3b4a2805c1b",
            "bcbb09422db294e6",
            "ed5c4208d1f33df7",
            "6ff6421b2ad99fdf",
            "6308aea184cd9837",
            "3a5a57e1bc72067d",
            "8b5f4a1b90dab8a5",
            "85889f3744b02e66",
            "c597db9a0c089032",
            "23a504b4cb3295f3",
            "942d7d7912449075",
            "aee1904ad09e3b98",
            "3acd07d984b0065d",
            "19ace7ffd213ca48",
            "c88ced4cbcdd4e01",
            "6bd566e482ef5572",
            "ba7f9b20aa769784",
            "1acba6be2522903d",
            "2ef041f398de2603",
            "0ef6cb2ba63b427b",
            "d48c937c4e191216",
            "a105ab66b8f3c394",
            "919ccdf52fef9d5c",
            "5f64ed2d85c8ec46",
            "7801467ccf18bf07",
            "7de9cdab3affadba",
            "7adb6c2d9bd6c84d",
            "4b9d1d12e3c2dad0",
            "36cc6c8f4df7600b",
            "cdc5b71b2c1efe07"
        ],
        "x": 54,
        "y": 2979,
        "w": 1852,
        "h": 2082
    },
    {
        "id": "8827eb5e5f892be4",
        "type": "group",
        "z": "865b764148bf192a",
        "name": "Gestió Alarma Intrusió i il·luminació ",
        "style": {
            "stroke": "#ffff00",
            "label": true
        },
        "nodes": [
            "db7b7e9ef93ca0bb",
            "3d5fa6a41e56277b",
            "fd9abced55f13214",
            "3c9fd372ddd4c8dc",
            "19c483e0d212fef8",
            "912588fe6e334f05",
            "10b9e9f350dd9663",
            "6d02e8035c0fa16d",
            "6e4d2fcc88533c48",
            "8905a24277b25cb8",
            "a9a8a9d868b3d78a",
            "fe62b1bd0f3472ba",
            "fbcd4e7503b33a38",
            "b48a7b1a4a0e0ef3",
            "8c77a1da92a24e6d",
            "894df740e71133a7",
            "aea0ca39b6f2727d",
            "6bb0f1e785f2b1b1",
            "9de5aea7ffaf444e",
            "907b12acdd33c60b"
        ],
        "x": 14,
        "y": 2319,
        "w": 1452,
        "h": 262
    },
    {
        "id": "90c4fdba66880276",
        "type": "group",
        "z": "3c26247f8ee91864",
        "name": "Vàlvula 1",
        "style": {
            "stroke": "#777777",
            "label": true,
            "color": "#777777"
        },
        "nodes": [
            "2c0c766b0d86f270",
            "9e15e46b9c032b19",
            "1dfa333156e2c80c",
            "2e845179eb90917d",
            "b53235cab153f94e",
            "7d08d8204c30d33c",
            "4f82489df674cdcb",
            "b1602e7d0256563e",
            "d92898c86bb8ef14",
            "156065c2a8b0c591",
            "550ffa073c3e1a79",
            "81d3d231c1e8cd77",
            "f1f9c330acda7fe0",
            "fb65e05a394e5f01",
            "96eb128209e6311a",
            "199e0f71f786fc08",
            "5ac0d7aba34a4c7e",
            "c0b4f993e687cd4e",
            "5b8c8851a1f08fbe",
            "b518651611e3d718",
            "40fb0868d67c7eed",
            "224c616ce599e5a1",
            "e07f50dc6583fb33",
            "669d0b8a801945c6",
            "3d5488e58b5b223b"
        ],
        "x": 54,
        "y": 39,
        "w": 1438,
        "h": 548
    },
    {
        "id": "265da229b703bf7c",
        "type": "group",
        "z": "3c26247f8ee91864",
        "name": "Vàlvula 2",
        "style": {
            "stroke": "#777777",
            "label": true,
            "color": "#777777"
        },
        "nodes": [
            "fe2748ae3af3da88",
            "e3ce178841ef7c3a",
            "45c8ac7350786d2c",
            "897845e117e1d727",
            "9c2dd5e948676d3f",
            "5cbeb594bc9bd680",
            "440e818a32f62575",
            "1c79d2d23da7460f",
            "3bb9e950956b9d37",
            "3536e45e1df26ec1",
            "9c783807ec0abee0",
            "4b70335b9f5efaee",
            "d91f7d259744677f",
            "dab1666cef290867",
            "958c0f8b68c69f3e",
            "1b192f50d0bfb610",
            "85ec0b647f8d142a",
            "6db5fcf206431836",
            "938a6c55e2d36b3f",
            "a088b00dd55f6df4",
            "2c5994355f713f28",
            "8a4958e01b562aaa",
            "35dece925567b511",
            "28cdfd24d3474583",
            "9ffd663a07f84e6d",
            "1d32c84f25e533ef",
            "f87e8390cac7e026",
            "4d9d870f35727bb7",
            "30d6ba1b19ad52a5"
        ],
        "x": 54,
        "y": 654,
        "w": 1438,
        "h": 613
    },
    {
        "id": "2e276e924096040c",
        "type": "group",
        "z": "3c26247f8ee91864",
        "name": "Vàlvula 3",
        "style": {
            "stroke": "#777777",
            "label": true,
            "color": "#777777"
        },
        "nodes": [
            "a8033b25007a641c",
            "f29ad5dd2a70a6a6",
            "d327ae4de21d2fe2",
            "9de4e955976ae717",
            "34cdc562d79db86a",
            "4b89328b02c02cdf",
            "2aaad8f9e294cac7",
            "9b04ed0b17d47637",
            "74c6ba1185773539",
            "4d5a9421c808e285",
            "605409d71545ef52",
            "4f185b3172eb538c",
            "6a190020381ffd54",
            "ce3d83858bdb19bf",
            "1effac3da8f2cc80",
            "b6cfb09d5a538017",
            "21496fff1d4498e2",
            "0c8c078dff253e97",
            "bd782fea866c7d80",
            "0b21767ac5b53eab",
            "6bbf0ee0201d3e31",
            "c488d6b41052dc34",
            "335ba4e51491178b",
            "38e81abaf0d5012e"
        ],
        "x": 54,
        "y": 1379,
        "w": 1372,
        "h": 262
    },
    {
        "id": "c88a13287c6d9f52",
        "type": "group",
        "z": "662afd5c1069609f",
        "name": "Lectures a IoT",
        "style": {
            "label": true
        },
        "nodes": [
            "1491e3910f4adf1d",
            "c57236362ca5da04",
            "74c5fe9af2d83de1"
        ],
        "x": 28,
        "y": 33,
        "w": 1164,
        "h": 4134
    },
    {
        "id": "369b1294abc3fe12",
        "type": "group",
        "z": "40e18b1fe1f3daf0",
        "name": "Alarmes Fuxa",
        "style": {
            "label": true
        },
        "nodes": [
            "748b9d1028bef358",
            "91afb37136937a3e",
            "0a809d1e7c897b58",
            "baf7a1405ee76482",
            "957c4e6dc2cca905",
            "fa2c706cd44248fc",
            "ed3301b70fbc23fc",
            "a3d9348c8db47b42",
            "2ff3fd3f127d869d",
            "29eade8d6ab7a9a6",
            "ccfc26794fcab363",
            "f444a538a650c577",
            "1b5d6d1d7b43422a",
            "567f8b0baf68c5cf",
            "b638fa55f948f2a8",
            "6a3bc9f30bc54140",
            "6583617781cf9442",
            "b6e70d77d94127cd",
            "9bfa7e7654ec876b",
            "a56219b1b4cb36b8",
            "f822aa7825702d60",
            "f98abb051adefd7e",
            "8a951c2679d1d25d",
            "0fec6eb5111851a2",
            "420c03a5a8477411",
            "7b5678cf2a9dcc23",
            "9846c58f26dd1497",
            "bb69d9835f5abc97",
            "c39def618fb17dcc",
            "ad8bbe301fa47329",
            "2354a99035a18128",
            "c012a7e2f2ce5f96",
            "c439b9228a8be73c",
            "6f44983617457343",
            "02668bc4b5c2061f",
            "d3329bac17ba4cd7",
            "6ccda5a71718940d",
            "19ebe889bf46985a",
            "4c2d646507538e13",
            "760915b0fd1bb433",
            "b2c7ba375ee1f1c2",
            "cfa02ad9260a0c6d",
            "a73fad34034f0a2f",
            "81cf952c8c725c14",
            "d568a5bf78586574",
            "efe6b04498c0eb8c",
            "c23c8900db4fdd55",
            "cd2f5301b7b3e067",
            "a941bd399beb6093",
            "11c78a9d9436cf82",
            "c3990a6cd6bbd44f",
            "6821781c40c918bd",
            "a465080284c8c444",
            "4297994b27e62876",
            "f38ecda9245663a9",
            "ab40c78f1323be01",
            "943e36fbdd1cc2fd",
            "a76bdeb68e607891",
            "0e3efaac39990192",
            "82816b0cd9ece897",
            "f883054c7ca18df7",
            "a6a2d3ca8461feb6",
            "21daa6d30779e2b8",
            "03ce8ba904caa370",
            "6cd03ff5cd3b5c77",
            "578c92f88c4ad491",
            "c48daddacee7c6e3",
            "26e1c51d4bbf94a5",
            "aaa0e4714a3c2243",
            "748ccd98a6aaa33a",
            "fcc0efe55f23e344",
            "cf515328c9095d48",
            "62aac12f16c82c99",
            "61b97b7ad90f0dbe",
            "e6e9f26001570c56",
            "60799418d07ef065",
            "22664306c5664025",
            "d8e32ad0fe9ea1d8",
            "6e39a09e1b9c9644",
            "a754e54859ae945b",
            "a785bb17a55ae012",
            "d41f4a6bdd8cbc2b",
            "203373dcb6bf65b2"
        ],
        "x": 34,
        "y": 3179,
        "w": 652,
        "h": 1922
    },
    {
        "id": "14a904ecd01d32e0",
        "type": "group",
        "z": "40e18b1fe1f3daf0",
        "name": "Canvi de contrasenya",
        "style": {
            "stroke": "#000000",
            "label": true
        },
        "nodes": [
            "acd4bc5eeddb246c",
            "0c8367e6d33a76b2",
            "1d3a960290f6328d",
            "f755455d5b9b64d4",
            "10e89340d7996d22",
            "12979d1915220889",
            "84825f466033c3c2",
            "b579c07f4a9658d4"
        ],
        "x": 74,
        "y": 5179,
        "w": 1372,
        "h": 162
    },
    {
        "id": "2f11ac2582cc21c9",
        "type": "group",
        "z": "662afd5c1069609f",
        "name": "ALARMES EN PROVES",
        "style": {
            "label": true,
            "stroke": "#ff0000"
        },
        "nodes": [
            "5cae43d5c30dde7c"
        ],
        "x": 1108,
        "y": 4193,
        "w": 1064,
        "h": 2154
    },
    {
        "id": "84a6903f779e9ea1",
        "type": "group",
        "z": "3c26247f8ee91864",
        "name": "Mínim cabal",
        "style": {
            "label": true
        },
        "nodes": [
            "c4bd9070c5fc2674",
            "744fcad135ee881c",
            "4e0d9e64da94fdfa",
            "d4700e7409dbca9b",
            "2f9d23d9e3b0b585"
        ],
        "x": 54,
        "y": 1719,
        "w": 792,
        "h": 122
    },
    {
        "id": "8d85dfe2ba06b248",
        "type": "group",
        "z": "ef7a0ef305dd237e",
        "g": "7e51bb6ae7b3ffd4",
        "name": "Sortides Zona A",
        "style": {
            "label": true
        },
        "nodes": [
            "c8e5256f53247cd8",
            "1fd0653b9084dabe",
            "46826c015d39b932",
            "cb4d00e0cd32d6a5",
            "f8b180d5673e9f5e",
            "6298ba6219eea5e7",
            "2552f743350cb4a5",
            "53b737ac84109d26",
            "a0b98b3b491d7728",
            "8645ac779c625b07"
        ],
        "x": 364,
        "y": 79,
        "w": 652,
        "h": 362
    },
    {
        "id": "571e4c9a782e5a6e",
        "type": "group",
        "z": "ef7a0ef305dd237e",
        "g": "7e51bb6ae7b3ffd4",
        "name": "Sortides Zona B",
        "style": {
            "label": true
        },
        "nodes": [
            "571d619347f63776",
            "cc34bd6a52a5158e",
            "3ce168dec0734a7b"
        ],
        "x": 374,
        "y": 459,
        "w": 332,
        "h": 162
    },
    {
        "id": "1c5d544f2907841e",
        "type": "group",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "Selecció Tarifes",
        "style": {
            "stroke": "#000000",
            "label": true,
            "fill-opacity": "0.6",
            "color": "#ffffff"
        },
        "nodes": [
            "cfed5fda317bd14b",
            "ab77213ae3bfea3c",
            "3f0568e01967c718",
            "067cc3e74e0af4eb",
            "e21fd0c0daba2060",
            "7b3e0b8e6384ccfe",
            "d4faaaa6b8993ac8",
            "e6e50a2d2882c50e",
            "d3c1c5fa026ef173",
            "049aceb3ef48c63b",
            "f9ebc10fda039ab0",
            "83f22432830419ef",
            "314a5418a82771dc",
            "2d161c1ee5ee8c5d",
            "7c80da2c2f6e8e3b",
            "f5786486776cff30",
            "544d3002a910df1d",
            "20d0cc62df7a2282",
            "73da721737fa5282",
            "b85af6dc0a4f5396"
        ],
        "x": 134,
        "y": 954,
        "w": 1212,
        "h": 347
    },
    {
        "id": "3e8c794b53f57f8c",
        "type": "group",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "dipòsit 1",
        "style": {
            "label": true,
            "color": "#ffffff"
        },
        "nodes": [
            "327594619ddb9dad",
            "5ece3380e8a58b91",
            "cec8714353811125"
        ],
        "x": 634,
        "y": 1333,
        "w": 978,
        "h": 634
    },
    {
        "id": "9afc1104e379bff5",
        "type": "group",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "dipòsit 2",
        "style": {
            "label": true,
            "color": "#ffffff"
        },
        "nodes": [
            "d59cb02be0e850b3",
            "d72fd464c0ef7527"
        ],
        "x": 634,
        "y": 1993,
        "w": 978,
        "h": 334
    },
    {
        "id": "7801467ccf18bf07",
        "type": "group",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "Selecció Tarifes",
        "style": {
            "stroke": "#000000",
            "label": true,
            "fill-opacity": "0.6",
            "color": "#ffffff"
        },
        "nodes": [
            "91bfb25de9571ab3",
            "26d86fade7720796",
            "ca5c1e6f32f7b949",
            "0be5df2983351baf",
            "91505f49d04be116",
            "5713319853ae2b3d",
            "27ccc78a8c6375ca",
            "e7c9dbd2f3e074e3",
            "f9e9dd8717bcfba8",
            "b8e2e4b3d18379bf",
            "1a3ac9eebcea46e3",
            "ea88459cda2633df",
            "99521499dfec490e",
            "a2ca08f3f4de84d6",
            "ad1ff4d00ec3c415",
            "5123eac7279abc0a",
            "5ca48b55ea6252d0",
            "e07e89cc901e91bd",
            "9985aa6372fdbbe5",
            "33246b0567f06e20"
        ],
        "x": 134,
        "y": 3054,
        "w": 1212,
        "h": 347
    },
    {
        "id": "7de9cdab3affadba",
        "type": "group",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "dipòsit 2",
        "style": {
            "label": true,
            "color": "#ffffff"
        },
        "nodes": [
            "0b5ca5159c636e50",
            "05ab6833a2e8eaac"
        ],
        "x": 634,
        "y": 4093,
        "w": 978,
        "h": 334
    },
    {
        "id": "7adb6c2d9bd6c84d",
        "type": "group",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "Hivern",
        "style": {
            "label": true
        },
        "nodes": [
            "29279d327a751e7b",
            "80deeba20765c6f7",
            "742f81d4d4a203ac",
            "d9ba2683fc099a82",
            "a8e9e19f153ec716",
            "bbafafeb3f18e823",
            "f2c60cd3ce1d35ce",
            "0bd4774426cf9782",
            "d54998289403d7eb",
            "d19c33f3ce24bcbe",
            "38e18f0bdb5e518d",
            "d8fe78a93aec3ebc"
        ],
        "x": 854,
        "y": 4399,
        "w": 732,
        "h": 282
    },
    {
        "id": "5d019910101c91dd",
        "type": "group",
        "z": "662afd5c1069609f",
        "g": "93352943ee6bd00d",
        "name": "Enviament Alarmes",
        "style": {
            "label": true
        },
        "nodes": [
            "4a384be57976e1ec",
            "23954c07a119e332",
            "246e7946027e2bdd",
            "585e8dde1a46d302",
            "c7adc06d2427f119",
            "eecb1d012f844340",
            "d6acfb4d677f4ee4",
            "0f82da69a7bb2106",
            "89be7291c6732243",
            "abed3077c35c06ae",
            "edfb830fd62bfc77",
            "d05ab5c2bcc7f0f1",
            "b19f87724a792b75",
            "707b292b9c245786",
            "b6a9fb652d9bf0a6",
            "4c1fb34e99398ae4",
            "86b6e06306c66bbf",
            "03e7f0edfd8587af",
            "a19892ce78f44494",
            "a648692c75dd3ef8",
            "55501adb2ba45c40",
            "cda573fb3ab32f03",
            "115fb740e21fb977",
            "bdc52c8c5d630b52",
            "3300e26910eed7b3",
            "b0ed73a163da8378",
            "023f468f544cf5d3",
            "d4d695e42b583142",
            "5107fdf1702b6977",
            "68454bdb5f1613ec",
            "5733e2054bd47b33",
            "aee019e62dd3826f",
            "bf4840a9004cbaa9",
            "b4183ede9f22126d",
            "5aa95727f6453f81",
            "8e8bf8ea5fcaa5ca",
            "bf576c8fdee14fff",
            "5d3175e0f89c73b4",
            "a93a7ad29a1bf7e0",
            "0b1f62f621bfaa71",
            "44168186b41f8b57",
            "fd41613e986e4fcb",
            "20751df6f2d28c04",
            "6bc2764185f34293",
            "2bb64fbfb4871e0c",
            "0c02e3a68b8e54cc",
            "c83cda06b8bd91c7",
            "728ad3cbd624b432",
            "4dfa54f53c87fb93",
            "4130134589ca3eb2",
            "b6d428286ed9de8f",
            "8f7c4906517cf784",
            "b07bf872c766b402",
            "ce80bd81b68d9a91",
            "98d182e0d92ceff0",
            "cc30e7407f5a79ea",
            "9fe8427360a42e93",
            "f7e501efe3e32d2a",
            "b47f6021a35beee1",
            "0328592668b50fe4",
            "a204ebdd2ab10d9a",
            "f45798dedd182440",
            "4862c9835311804b",
            "6a9131da5f4c53c4",
            "7c3f99c6fea97b58",
            "529c7d3953662ad3",
            "f4c9690ee8fb1218",
            "b374fca1736ccd41",
            "b0f4520ed3dcc124",
            "85f590f9ea6211fb",
            "d961e09854ea80b7",
            "76cced02ab77a3d3",
            "f61122225ad932a1",
            "44d4b6b9146a172e",
            "83051c85674f33f3",
            "1fdfc771b7ac9caa",
            "0e8127a34a04e858",
            "a4e293da876d39d8",
            "5cbb8036a3345c15",
            "8e7904ba61f7853b",
            "37f508fe39dfaf2e",
            "dc12f015f2c3d593",
            "a0930d9d9d9f0819",
            "d742b2b309bfba64",
            "b3a5d09a35864707",
            "5fe78a6c62e944a0",
            "27cd38b8eca595bf"
        ],
        "x": 54,
        "y": 4219,
        "w": 1032,
        "h": 2102
    },
    {
        "id": "1491e3910f4adf1d",
        "type": "group",
        "z": "662afd5c1069609f",
        "g": "c88a13287c6d9f52",
        "name": "Canvi estat",
        "style": {
            "label": true
        },
        "nodes": [
            "640b1768bd3a9056",
            "777d64a2cf13897c",
            "831f391c3ded6798",
            "6f79b77431535226",
            "e5aa2df05f321711",
            "50e5abfb2473be40",
            "427cdd1862b91ffd",
            "6a6e2a740a66c159",
            "fb115ec2915862fb",
            "f63d088a7812546b",
            "4a377b266eb11c44",
            "e14cdc8739cbfc27",
            "1a60d2e72354b7af",
            "6805f4b5e71b90c9",
            "cd6cabb0f9dc4e9a",
            "dd382a812fcef6ac",
            "6fb0d7af9a941589",
            "39acaa7479a8aa70",
            "86553e272f8c2498",
            "e8cae876fe8472fa",
            "d3f82f354731ddf1",
            "6707384ce311e2f8",
            "410bdc25e02b88c5",
            "b046d82e9f17db0a",
            "a5500b91b3850d85",
            "8dad1bcba8e03dde",
            "9acad5adabbafee5",
            "29a3ca4a46af87c8",
            "2c19eda128bcff60",
            "dce3672fbfeae62a",
            "dd0f7851061befd8",
            "aca477319dbc376a",
            "f224b0b821b93998",
            "4c81ec1b57dec879",
            "5db79808c8912f8b",
            "91f7ef66bf40c405",
            "b5f9c97e7cb02dbf",
            "6f33383d7d1c1bb3",
            "b624897340149a4b",
            "66814c011c6e3f10",
            "aac47ec3e032836b",
            "39d4ac0f24c3c643",
            "7d0381cb96158ce8",
            "7870e622b10632c3",
            "237c98b6feb2d065",
            "543cbc518246f985",
            "5a6836f48d5ee18d",
            "b99309940bdd81da",
            "8d3ebbf4011b2fe6",
            "788dcce653000f77",
            "0abab518350d3d42",
            "d62b9dfa0cf69785",
            "7410787cfbc967e0",
            "e8d482a96640b2ee",
            "19c5ecdde8c04049",
            "8e2826beec632698",
            "20e0d67dd92368e0",
            "e31c874715762ffd",
            "438190ae7d37face",
            "65d3820746840648",
            "4f776fa032193554",
            "6fc03f83733e6138",
            "7e492a08914dd8f7",
            "9c1d1f5e7b3746ea",
            "15dfaf5234f4238b",
            "9d5f17dbc16ec1ed",
            "03a04a25ec7c0276",
            "3c010cc153f8d56e",
            "62ecee1112054959",
            "9bd4a4defdbce77f",
            "c098236dbf71bb95",
            "c1873649f84bba37",
            "f0901526e4a23ffb",
            "4d0159e7f066fead",
            "b956c0fc02067a99",
            "1708fe3701ba7c67",
            "87449f4a9e659fec",
            "5098149d01675da8",
            "cff0f51ce9ecf7eb",
            "d81902d1f01ab8a8",
            "02a44ea50f8ba3de",
            "4371b5e87e24494b",
            "739f06d2e83f524f",
            "0526d90880caa80a",
            "8376866b256d20e2",
            "f1c43578f7a49a8e",
            "e9c728e8b8b0938d",
            "65a47c6a6663fa7c",
            "687d0af339aad277",
            "e73ce8cb7b77ec81",
            "5d97e6a072c36140",
            "88b3ae7d7eb576ab",
            "afd934dda5c66c4b",
            "8d2e5e3aa0f9def8",
            "1057f091bb49c4b8",
            "412dca95b1bd649f",
            "d28e1316ed26b7aa",
            "62e6d289c199f5c7",
            "c51a785dd7a9c86e",
            "1466da104e6483a7",
            "3e219ec4aec01397",
            "fd54caee8b77423b",
            "7b806e35134ac807",
            "e9614325288b3e66",
            "84fad30a1ddfbeee",
            "2696c3a86af1f280",
            "8f4f086b640b9906",
            "8c2b0bc81ad8bf7c",
            "8b32db0c36d475a4",
            "0dbd1915fbf2b68b",
            "7582e6731c1423f8",
            "935b16774b6281f7",
            "960aa0d6346cb721",
            "e2d8f6dc2e24a6a2",
            "dc46d3f456c0f523",
            "90d9a5cf271e3c74",
            "e4ae54b5e9ce89d2",
            "529df419da5ba9a9",
            "1594eb6183bb9f44"
        ],
        "x": 54,
        "y": 59,
        "w": 1112,
        "h": 1982
    },
    {
        "id": "c57236362ca5da04",
        "type": "group",
        "z": "662afd5c1069609f",
        "g": "c88a13287c6d9f52",
        "name": "Cada 12 Hores",
        "style": {
            "label": true
        },
        "nodes": [
            "3626aedb7fa0d29f",
            "0c83fcb7a0a90a14",
            "7da318aaa46b87c9",
            "c2c1a32d93c5afe9",
            "e572a7970ec12afc",
            "6ee93059a8f8af84",
            "ed1a49882bd5ec7e",
            "8d81760a056f85ea",
            "e71e7a14a0854e27",
            "46b7333a1b5aea68",
            "3fda8f5dd8bb59ed",
            "873be17fca6d182e",
            "09e78e5812b1396d",
            "bfb64b6e69936def",
            "f7f5024a17dceb30",
            "272600cf55fbea44",
            "c583881421e35c99",
            "97b06ef17b0811ad",
            "6ae005e6067a7e4c",
            "4244038abd13028c",
            "aaac046819d0c889",
            "d4a20cdac3bd7718",
            "a4004c1a58892a07",
            "b275a3ce573028e0",
            "32865a7fd75ebabf",
            "890dd9b58f8fac9f",
            "01115f72671cf392",
            "549c36f1f68c571a",
            "35d9fe748ee3f6c6",
            "9bf0a17e91203a51",
            "6dcaad29423e1d8b",
            "f2798f27e77a7964",
            "2ce3e84d255b2ec0",
            "6ad07c30ee59632d",
            "2fdd63fb5a3d690d",
            "3a216e90ab2aa455",
            "98ef9afb24529f57",
            "eab412e1f4537d14",
            "37e76e508b06df74",
            "f7835ecebdf50fb9",
            "01e48a5a86286519",
            "e447ccf614717f19",
            "353fe52afee9f6a0",
            "02faaa0dd3eed122",
            "1a7bb7acee69e0a2",
            "31cc842710ab6f81",
            "bd92a45bd09360fd",
            "e36da733a722677f",
            "bd4837a4724a6d76",
            "088346f62662b312",
            "34d66fa407bded98",
            "2982df14a21baf6c",
            "6c9fe0a069b1446e",
            "84bcccb58c97b16a",
            "b6a8b6a79e63a172",
            "418c87ea68c7fb1c",
            "aeafe5d8c5755185",
            "53d43a492dc32838",
            "6d650839d593cd2f",
            "4e19b1a9b50a41be",
            "c189e0af65b900cb",
            "4065893b41b302f8",
            "7d94af341dbf3e12",
            "f42bf27cf9f1e473",
            "970d10eb78dff6dd",
            "b854465d1db54e20",
            "42623841a3f4e966",
            "66fd87f81331eab8",
            "cab0cd1605dd8940",
            "9e8f545a8d9524d7",
            "3ccaf49f23c416b0",
            "320b878aa6de7c1c",
            "5a5bb04bc30162e7",
            "6fc75b14f9e6281b",
            "9e431e40d721c189",
            "0b91dab45395e981",
            "e76707fa9509dac6",
            "567c9dc50ade8159",
            "cd0d78a35148bc0c",
            "b12b9de30326b166",
            "9acad962c82b5311",
            "b0bcfd04d551e164",
            "8e530a0e122687fa",
            "1f749ec98b66a9f9",
            "48edb5b8c11120ce",
            "441956122f5c21c3",
            "ba896631eca3bd05",
            "3a478dada6b0e9fb",
            "c93f66dafd208d55",
            "339a38bc9ea38c97",
            "4f2b6861104ca839",
            "75617ee996f17dd2"
        ],
        "x": 54,
        "y": 2059,
        "w": 1112,
        "h": 1942
    },
    {
        "id": "40fb0868d67c7eed",
        "type": "group",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "Control Pas aigua",
        "style": {
            "label": true
        },
        "nodes": [
            "4629a316247ebd77",
            "cbc241e9b64d6687",
            "45b7162ac253833b",
            "6ef2268f81178bdb",
            "8cfa2bf17eb4a7f4",
            "d137952caf7546e2",
            "2a92d55248b02e59",
            "21e345c690a3854e",
            "2624d0c06bdc5fb2",
            "79d3af4b005980fb",
            "83a4b277a047f7b0",
            "3394e1c47bcc396d",
            "b809cc3e7079c054",
            "bd6d09542a81cfa0",
            "56c190f6845845d6",
            "f8230a0fd4eececc"
        ],
        "x": 94,
        "y": 279,
        "w": 1372,
        "h": 282
    },
    {
        "id": "2c5994355f713f28",
        "type": "group",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "Control Pas aigua",
        "style": {
            "label": true
        },
        "nodes": [
            "b4a6783fe55afb17",
            "8bdcb47dfb821860",
            "fad3d170d7fcd76e",
            "1db084b51071d439",
            "429a04c479a9641f",
            "976907b5f0378e71",
            "9ee8b2851af3e021",
            "8e291a4b8b005d8c",
            "487b3ed24b56095f",
            "03cb73cfa591bbee",
            "a6aceed4abc1796d",
            "fe389155fb66cacf",
            "9f8a60b0d968fd95",
            "890b809c15332987",
            "2c37fee2c806e4c6",
            "7413318fed08c688"
        ],
        "x": 94,
        "y": 979,
        "w": 1372,
        "h": 262
    },
    {
        "id": "5cae43d5c30dde7c",
        "type": "group",
        "z": "662afd5c1069609f",
        "g": "2f11ac2582cc21c9",
        "name": "Enviament Alarmes",
        "style": {
            "label": true
        },
        "nodes": [
            "eedf434a79bcf9a7",
            "2df3ff515ff84cb0",
            "06f45ae8ede804c6",
            "c4367426c4d7266c",
            "397afeff3ddf603d",
            "dcfae06d5af2152b",
            "c68d3321965ce6be",
            "9a7c6ffa08e7a657",
            "7c2824437ebda03f",
            "f61596bdedcf995a",
            "ba7e5bd7e1e6aa91",
            "b9acf4d98cd6f805",
            "916d408ed2b39a7a",
            "ac6ec5524ddb2f2f",
            "f773a03015682152",
            "a9788522eefd5f1e",
            "3c80fb74b4188859",
            "2e452e3ae0804160",
            "ba4c54b72334b653",
            "5ec481901edf3808",
            "93684397d221f4f1",
            "d535b86e88bc1ff4",
            "8a86dfb4edda940a",
            "46f05dd7b1524668",
            "a77216c87a5c118e",
            "9272931cfde1269e",
            "46106005a17306b3",
            "d45438b464e0fea1",
            "287f0eb710f94095",
            "8cf7c7149040e4c7",
            "2846b8cfedd79b45",
            "c0c187e889f38521",
            "6780a1656f2d0f43",
            "0fd3095d8ee576be",
            "b18ba915e1ca80d7",
            "378f03e714388994",
            "3efcb3f14c5371f3",
            "642654960aa24332",
            "8de92d2ddc32897a",
            "4b48c991158b44e7",
            "ee42dd32b5824a06",
            "0b52fca5346cb029",
            "e96f0b86969e3156",
            "6196f1c9c291b30d",
            "88a7e17d30ef221c",
            "5a4d1b91b29dc88f",
            "a28f1c94c14a85bc",
            "1cf5b4022b0c6b5d",
            "30cb4e4556ed28e2",
            "44009a33eecc673f",
            "19b4b0eb33dc72fa",
            "db9ec4aea498fb5b",
            "0fe8b653dd0483b3",
            "af2ca0f87887fc23",
            "c5bcb6864a05ebc8",
            "65b706dd56aad988",
            "6effb8d24ea11a80",
            "52e6ef9ea1da1128",
            "c267ec2c5b395297",
            "e971bb5cfb27b58d",
            "7ef6128eb03d227c",
            "e356d03e1f4235ba",
            "14d285a7a6dcf8f7",
            "82680d57991d0b11",
            "67507d3206a2dadc",
            "9dfa5fe8e37108a1",
            "50ee3fe15a43659e",
            "2844602117189374",
            "19d2fdd92d1d0d92",
            "8622aba5bdb6be4f",
            "ebbd271652d28957",
            "f6c7aafccfe97980",
            "4e7782b931a83223",
            "6351af48592b3f49",
            "130198fb4ff781c3",
            "008286b028eb6c0a",
            "10263d84e49d26ad",
            "38e5e3bb5c143575",
            "07403caf809e199c",
            "ab4a16ac4c9833db",
            "9afd9667e1b3d618",
            "b13fb1fa4994efd2",
            "8a8cc11f8852c73a",
            "01d954a258890f2a",
            "34f4464b541a681a",
            "ab1201b7606c182c",
            "7bd96b7d88ed4d2e"
        ],
        "x": 1134,
        "y": 4219,
        "w": 1012,
        "h": 2102
    },
    {
        "id": "74c5fe9af2d83de1",
        "type": "group",
        "z": "662afd5c1069609f",
        "g": "c88a13287c6d9f52",
        "name": "Cada 24 hores",
        "style": {
            "label": true
        },
        "nodes": [
            "b1853772b0ed2158",
            "386b875be345d4c8",
            "d2748d935b1962cc",
            "dbb8f2bdbde007cf"
        ],
        "x": 54,
        "y": 4019,
        "w": 672,
        "h": 122
    },
    {
        "id": "5ece3380e8a58b91",
        "type": "group",
        "z": "eb9b13ea99aacf08",
        "g": "3e8c794b53f57f8c",
        "name": "estiu",
        "style": {
            "label": true,
            "color": "#ffffff"
        },
        "nodes": [
            "a90f0da08743fbf2",
            "b4a3d7e7ebdbf962",
            "89d5f9cf1db8308b",
            "02ac5a41f46f6480",
            "a366e67e0e586d6e",
            "03ab7a4851f647ed",
            "6a1c742da348d703",
            "471ac6f85b1f19b0",
            "2ce34d4bf6972d28",
            "9952ac00a2403b10",
            "bce18556eb1078ed",
            "ac1653894dd34e92"
        ],
        "x": 854,
        "y": 1359,
        "w": 732,
        "h": 282
    },
    {
        "id": "cec8714353811125",
        "type": "group",
        "z": "eb9b13ea99aacf08",
        "g": "3e8c794b53f57f8c",
        "name": "hivern",
        "style": {
            "label": true,
            "color": "#ffffff"
        },
        "nodes": [
            "c5199db2b7325552",
            "fe46476f3662ef15",
            "8c21e302d6885e49",
            "ea2c5936b5160db5",
            "3445228d68550abd",
            "e56530dcab55652e",
            "8a779688e96d6cf8",
            "f8e5251aafe249b2",
            "6b4c8e3afb127695",
            "7f3d2623575c4775",
            "8ea568b05ad7192e",
            "51516c7bf95661c0"
        ],
        "x": 854,
        "y": 1659,
        "w": 732,
        "h": 282
    },
    {
        "id": "d72fd464c0ef7527",
        "type": "group",
        "z": "eb9b13ea99aacf08",
        "g": "9afc1104e379bff5",
        "name": "estiu",
        "style": {
            "label": true,
            "color": "#ffffff"
        },
        "nodes": [
            "dba19fd762ff8a06",
            "4a323e10da5837e3",
            "767d40f753b369da",
            "2fd98b4ab1d93e4c",
            "136795241fd91158",
            "5e56be75c7ec6651",
            "7597064351c49ad6",
            "4725bf42d8ee0d83",
            "ea0d058132e917d9",
            "8aab9a861f735984",
            "3acb31294159e642",
            "5728e2d84958d41c"
        ],
        "x": 854,
        "y": 2019,
        "w": 732,
        "h": 282
    },
    {
        "id": "05ab6833a2e8eaac",
        "type": "group",
        "z": "eb9b13ea99aacf08",
        "g": "7de9cdab3affadba",
        "name": "estiu",
        "style": {
            "label": true,
            "color": "#ffffff"
        },
        "nodes": [
            "6e022686fe68340d",
            "8e444bbc9ed99813",
            "2247c07c8dbca0ab",
            "9845c2151afc05b8",
            "ba515348cd99b405",
            "303111a29d843174",
            "f89dfce910632cf9",
            "3e79ee1c96e0e26f",
            "bf21e39b961ee4db",
            "a0dc938a24a46a3b",
            "d734a1b9ac8017f6",
            "3d28013ffecd5b27"
        ],
        "x": 854,
        "y": 4119,
        "w": 732,
        "h": 282
    },
    {
        "id": "7a3c77873533a531",
        "type": "junction",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "x": 1160,
        "y": 1200,
        "wires": [
            [
                "e0172a4b4ec010db"
            ]
        ]
    },
    {
        "id": "ee3b0d124d48e5a3",
        "type": "junction",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "x": 1200,
        "y": 1120,
        "wires": [
            [
                "e0172a4b4ec010db"
            ]
        ]
    },
    {
        "id": "89cb140b6fe37e7c",
        "type": "junction",
        "z": "865b764148bf192a",
        "g": "72e0644bd5809e84",
        "x": 1340,
        "y": 1560,
        "wires": [
            [
                "7eae762a2cec81cf"
            ]
        ]
    },
    {
        "id": "1989440e88e393cd",
        "type": "junction",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "x": 1300,
        "y": 1800,
        "wires": [
            [
                "261b18cf91357610"
            ]
        ]
    },
    {
        "id": "67b90f344940bd7d",
        "type": "junction",
        "z": "865b764148bf192a",
        "g": "f6c602e4d12c6c2d",
        "x": 1320,
        "y": 2180,
        "wires": [
            [
                "320961b6e1c1c011"
            ]
        ]
    },
    {
        "id": "aa32301e283303ca",
        "type": "junction",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "x": 160,
        "y": 2660,
        "wires": [
            [
                "6ea4871330afd57c"
            ]
        ]
    },
    {
        "id": "547b5d0daa89f799",
        "type": "junction",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "x": 160,
        "y": 2800,
        "wires": [
            [
                "210561599986f771"
            ]
        ]
    },
    {
        "id": "7c80da2c2f6e8e3b",
        "type": "junction",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "x": 640,
        "y": 980,
        "wires": [
            [
                "f5786486776cff30"
            ]
        ]
    },
    {
        "id": "f5786486776cff30",
        "type": "junction",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "x": 1180,
        "y": 980,
        "wires": [
            [
                "b85af6dc0a4f5396"
            ]
        ]
    },
    {
        "id": "544d3002a910df1d",
        "type": "junction",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "x": 640,
        "y": 1020,
        "wires": [
            [
                "d4faaaa6b8993ac8",
                "7b3e0b8e6384ccfe"
            ]
        ]
    },
    {
        "id": "ad1ff4d00ec3c415",
        "type": "junction",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "x": 640,
        "y": 3080,
        "wires": [
            [
                "5123eac7279abc0a"
            ]
        ]
    },
    {
        "id": "5123eac7279abc0a",
        "type": "junction",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "x": 1180,
        "y": 3080,
        "wires": [
            [
                "33246b0567f06e20"
            ]
        ]
    },
    {
        "id": "5ca48b55ea6252d0",
        "type": "junction",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "x": 640,
        "y": 3120,
        "wires": [
            [
                "27ccc78a8c6375ca",
                "5713319853ae2b3d"
            ]
        ]
    },
    {
        "id": "6308aea184cd9837",
        "type": "junction",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "x": 160,
        "y": 4760,
        "wires": [
            [
                "8b5f4a1b90dab8a5"
            ]
        ]
    },
    {
        "id": "3a5a57e1bc72067d",
        "type": "junction",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "x": 160,
        "y": 4900,
        "wires": [
            [
                "85889f3744b02e66"
            ]
        ]
    },
    {
        "id": "c88ced4cbcdd4e01",
        "type": "junction",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "x": 480,
        "y": 5020,
        "wires": [
            [
                "ba7f9b20aa769784"
            ]
        ]
    },
    {
        "id": "ba7f9b20aa769784",
        "type": "junction",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "x": 1140,
        "y": 5020,
        "wires": [
            [
                "c597db9a0c089032"
            ]
        ]
    },
    {
        "id": "0ef6cb2ba63b427b",
        "type": "junction",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "x": 1080,
        "y": 4880,
        "wires": [
            [
                "ba7f9b20aa769784"
            ]
        ]
    },
    {
        "id": "2e845179eb90917d",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "x": 420,
        "y": 240,
        "wires": [
            [
                "2c0c766b0d86f270"
            ]
        ]
    },
    {
        "id": "550ffa073c3e1a79",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "x": 940,
        "y": 180,
        "wires": [
            [
                "81d3d231c1e8cd77"
            ]
        ]
    },
    {
        "id": "5ac0d7aba34a4c7e",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "x": 700,
        "y": 120,
        "wires": [
            [
                "e07f50dc6583fb33"
            ]
        ]
    },
    {
        "id": "c0b4f993e687cd4e",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "x": 1080,
        "y": 120,
        "wires": [
            [
                "f1f9c330acda7fe0",
                "d92898c86bb8ef14"
            ]
        ]
    },
    {
        "id": "897845e117e1d727",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "x": 420,
        "y": 940,
        "wires": [
            [
                "fe2748ae3af3da88"
            ]
        ]
    },
    {
        "id": "9c783807ec0abee0",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "x": 900,
        "y": 860,
        "wires": [
            [
                "4b70335b9f5efaee"
            ]
        ]
    },
    {
        "id": "1b192f50d0bfb610",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "x": 1080,
        "y": 700,
        "wires": [
            [
                "d91f7d259744677f",
                "3bb9e950956b9d37"
            ]
        ]
    },
    {
        "id": "9de4e955976ae717",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "x": 420,
        "y": 1580,
        "wires": [
            [
                "a8033b25007a641c"
            ]
        ]
    },
    {
        "id": "605409d71545ef52",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "x": 930,
        "y": 1520,
        "wires": [
            [
                "4f185b3172eb538c"
            ]
        ]
    },
    {
        "id": "21496fff1d4498e2",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "x": 700,
        "y": 1460,
        "wires": [
            [
                "c488d6b41052dc34"
            ]
        ]
    },
    {
        "id": "0c8c078dff253e97",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "x": 1080,
        "y": 1460,
        "wires": [
            [
                "6a190020381ffd54",
                "74c6ba1185773539"
            ]
        ]
    },
    {
        "id": "b518651611e3d718",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "x": 400,
        "y": 260,
        "wires": [
            [
                "2e845179eb90917d"
            ]
        ]
    },
    {
        "id": "a088b00dd55f6df4",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "x": 400,
        "y": 960,
        "wires": [
            [
                "897845e117e1d727"
            ]
        ]
    },
    {
        "id": "0b21767ac5b53eab",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "x": 400,
        "y": 1600,
        "wires": [
            [
                "9de4e955976ae717"
            ]
        ]
    },
    {
        "id": "a73fad34034f0a2f",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3220,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "81cf952c8c725c14",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3260,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "d568a5bf78586574",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3320,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "efe6b04498c0eb8c",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3360,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "c23c8900db4fdd55",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3420,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "cd2f5301b7b3e067",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3460,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "a941bd399beb6093",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3500,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "11c78a9d9436cf82",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3560,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "c3990a6cd6bbd44f",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3600,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "6821781c40c918bd",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3640,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "a465080284c8c444",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3700,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "4297994b27e62876",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3740,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "f38ecda9245663a9",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3780,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "ab40c78f1323be01",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3840,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "943e36fbdd1cc2fd",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3880,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "a76bdeb68e607891",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3920,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "0e3efaac39990192",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 3960,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "82816b0cd9ece897",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4020,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "f883054c7ca18df7",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4060,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "a6a2d3ca8461feb6",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4120,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "21daa6d30779e2b8",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4160,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "03ce8ba904caa370",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4220,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "6cd03ff5cd3b5c77",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4260,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "578c92f88c4ad491",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4300,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "c48daddacee7c6e3",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4360,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "26e1c51d4bbf94a5",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4400,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "aaa0e4714a3c2243",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4440,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "748ccd98a6aaa33a",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4480,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "fcc0efe55f23e344",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4540,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "cf515328c9095d48",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4580,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "62aac12f16c82c99",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4620,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "61b97b7ad90f0dbe",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4660,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "e6e9f26001570c56",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4760,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "60799418d07ef065",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4800,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "22664306c5664025",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4700,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "d8e32ad0fe9ea1d8",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4840,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "6e39a09e1b9c9644",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4900,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "a754e54859ae945b",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4940,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "a785bb17a55ae012",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 4980,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "d41f4a6bdd8cbc2b",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 5020,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "203373dcb6bf65b2",
        "type": "junction",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "x": 500,
        "y": 5060,
        "wires": [
            [
                "748b9d1028bef358"
            ]
        ]
    },
    {
        "id": "237c98b6feb2d065",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1120,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "543cbc518246f985",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 980,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "5a6836f48d5ee18d",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 900,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "b99309940bdd81da",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 820,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "8d3ebbf4011b2fe6",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 740,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "788dcce653000f77",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 660,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "0abab518350d3d42",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 580,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "d62b9dfa0cf69785",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 500,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "7410787cfbc967e0",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 940,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "e8d482a96640b2ee",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 860,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "19c5ecdde8c04049",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 780,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "8e2826beec632698",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 700,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "20e0d67dd92368e0",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 620,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "e31c874715762ffd",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 540,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "438190ae7d37face",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 460,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "02faaa0dd3eed122",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3080,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "1a7bb7acee69e0a2",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3220,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "31cc842710ab6f81",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2940,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "bd92a45bd09360fd",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2860,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "e36da733a722677f",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2780,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "bd4837a4724a6d76",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2700,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "088346f62662b312",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2620,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "34d66fa407bded98",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2540,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "2982df14a21baf6c",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2460,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "6c9fe0a069b1446e",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2900,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "84bcccb58c97b16a",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2820,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "b6a8b6a79e63a172",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2740,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "418c87ea68c7fb1c",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2660,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "aeafe5d8c5755185",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2580,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "53d43a492dc32838",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2500,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "6d650839d593cd2f",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2420,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "7e492a08914dd8f7",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 400,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "9c1d1f5e7b3746ea",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 360,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "15dfaf5234f4238b",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 320,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "9d5f17dbc16ec1ed",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 260,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "03a04a25ec7c0276",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 220,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "3c010cc153f8d56e",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 180,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "62ecee1112054959",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 140,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "c098236dbf71bb95",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1040,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "f0901526e4a23ffb",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1080,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "b956c0fc02067a99",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1180,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "87449f4a9e659fec",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1220,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "5098149d01675da8",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1260,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "d81902d1f01ab8a8",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1320,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "4371b5e87e24494b",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1360,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "0526d90880caa80a",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1400,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "f1c43578f7a49a8e",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1440,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "65a47c6a6663fa7c",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1500,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "e73ce8cb7b77ec81",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1540,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "88b3ae7d7eb576ab",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1580,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "8d2e5e3aa0f9def8",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1620,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "412dca95b1bd649f",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1660,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "62e6d289c199f5c7",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1700,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "1466da104e6483a7",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1760,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "fd54caee8b77423b",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1800,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "e9614325288b3e66",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1840,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "4e19b1a9b50a41be",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2280,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "c189e0af65b900cb",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2320,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "4065893b41b302f8",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2360,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "7d94af341dbf3e12",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3000,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "f42bf27cf9f1e473",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3280,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "970d10eb78dff6dd",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3800,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "cab0cd1605dd8940",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2220,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "66fd87f81331eab8",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2180,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "42623841a3f4e966",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2140,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "b854465d1db54e20",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 2100,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "9e8f545a8d9524d7",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3040,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "3ccaf49f23c416b0",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3140,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "320b878aa6de7c1c",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3180,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "5a5bb04bc30162e7",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3320,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "6fc75b14f9e6281b",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3360,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "9e431e40d721c189",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3400,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "0b91dab45395e981",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3460,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "e76707fa9509dac6",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3500,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "567c9dc50ade8159",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3540,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "cd0d78a35148bc0c",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3580,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "b12b9de30326b166",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3620,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "9acad962c82b5311",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3660,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "b0bcfd04d551e164",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3720,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "8e530a0e122687fa",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3760,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "21e345c690a3854e",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "40fb0868d67c7eed",
        "x": 800,
        "y": 320,
        "wires": [
            [
                "8cfa2bf17eb4a7f4"
            ]
        ]
    },
    {
        "id": "35dece925567b511",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "x": 700,
        "y": 800,
        "wires": [
            [
                "28cdfd24d3474583"
            ]
        ]
    },
    {
        "id": "7582e6731c1423f8",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1880,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "935b16774b6281f7",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1920,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "960aa0d6346cb721",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 1960,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "ba896631eca3bd05",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3840,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "3a478dada6b0e9fb",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3880,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "c93f66dafd208d55",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3920,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "90d9a5cf271e3c74",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "x": 680,
        "y": 2000,
        "wires": [
            [
                "777d64a2cf13897c"
            ]
        ]
    },
    {
        "id": "4f2b6861104ca839",
        "type": "junction",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "x": 680,
        "y": 3960,
        "wires": [
            [
                "0c83fcb7a0a90a14"
            ]
        ]
    },
    {
        "id": "4d9d870f35727bb7",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "x": 720,
        "y": 680,
        "wires": [
            [
                "1d32c84f25e533ef"
            ]
        ]
    },
    {
        "id": "669d0b8a801945c6",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "x": 760,
        "y": 100,
        "wires": [
            [
                "224c616ce599e5a1"
            ]
        ]
    },
    {
        "id": "3d5488e58b5b223b",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "x": 760,
        "y": 140,
        "wires": [
            [
                "224c616ce599e5a1"
            ]
        ]
    },
    {
        "id": "83a4b277a047f7b0",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "40fb0868d67c7eed",
        "x": 600,
        "y": 380,
        "wires": [
            [
                "2624d0c06bdc5fb2"
            ]
        ]
    },
    {
        "id": "03cb73cfa591bbee",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "2c5994355f713f28",
        "x": 800,
        "y": 1020,
        "wires": [
            [
                "429a04c479a9641f"
            ]
        ]
    },
    {
        "id": "a6aceed4abc1796d",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "2c5994355f713f28",
        "x": 600,
        "y": 1080,
        "wires": [
            [
                "8e291a4b8b005d8c"
            ]
        ]
    },
    {
        "id": "2c37fee2c806e4c6",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "2c5994355f713f28",
        "x": 800,
        "y": 1140,
        "wires": [
            [
                "976907b5f0378e71"
            ]
        ]
    },
    {
        "id": "7413318fed08c688",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "2c5994355f713f28",
        "x": 600,
        "y": 1200,
        "wires": [
            [
                "9f8a60b0d968fd95"
            ]
        ]
    },
    {
        "id": "56c190f6845845d6",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "40fb0868d67c7eed",
        "x": 800,
        "y": 460,
        "wires": [
            [
                "d137952caf7546e2"
            ]
        ]
    },
    {
        "id": "f8230a0fd4eececc",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "40fb0868d67c7eed",
        "x": 600,
        "y": 520,
        "wires": [
            [
                "b809cc3e7079c054"
            ]
        ]
    },
    {
        "id": "335ba4e51491178b",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "x": 760,
        "y": 1440,
        "wires": [
            [
                "6bbf0ee0201d3e31"
            ]
        ]
    },
    {
        "id": "38e81abaf0d5012e",
        "type": "junction",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "x": 760,
        "y": 1480,
        "wires": [
            [
                "6bbf0ee0201d3e31"
            ]
        ]
    },
    {
        "id": "0fb89c37278c5b07",
        "type": "rpiplc-config",
        "isCustom": false,
        "version": "RPIPLC_V6",
        "model": "RPIPLC_42",
        "name": "PLC42"
    },
    {
        "id": "be25cdc18f19b7bc",
        "type": "mqtt-broker",
        "name": "PLC",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": "false",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "6975f089b473afa8",
        "type": "modbus-client",
        "name": "UMF 1",
        "clienttype": "serial",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "failureLogEnabled": true,
        "tcpHost": "127.0.0.1",
        "tcpPort": "502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttySC2",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "19200",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "200",
        "serialAsciiResponseStartDelimiter": "0x3A",
        "unit_id": "",
        "commandDelay": 1,
        "clientTimeout": 2000,
        "reconnectOnTimeout": true,
        "reconnectTimeout": 500,
        "parallelUnitIdsAllowed": true,
        "showErrors": false,
        "showWarnings": true,
        "showLogs": true
    },
    {
        "id": "serial_port",
        "type": "serial-port",
        "name": "",
        "serialport": "/dev/ttySC2",
        "serialbaud": "57600",
        "databits": "8",
        "parity": "none",
        "stopbits": "1",
        "waitfor": "",
        "newline": "\\n",
        "bin": "false",
        "out": "char",
        "addchar": "false",
        "responsetimeout": ""
    },
    {
        "id": "e641fe5b1175d5b1",
        "type": "mqtt-broker",
        "name": "",
        "broker": "10.10.3.210",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": "false",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "6985549c709bf918",
        "type": "mqtt-broker",
        "name": "",
        "broker": "10.8.17.13",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": "false",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "129adc3430aeda3b",
        "type": "modbus-client",
        "name": "SC3",
        "clienttype": "serial",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "failureLogEnabled": true,
        "tcpHost": "127.0.0.1",
        "tcpPort": "502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttySC3",
        "serialType": "RTU",
        "serialBaudrate": "19200",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "serialAsciiResponseStartDelimiter": "0x3A",
        "unit_id": "",
        "commandDelay": 1,
        "clientTimeout": 1000,
        "reconnectOnTimeout": true,
        "reconnectTimeout": 2000,
        "parallelUnitIdsAllowed": true,
        "showErrors": false,
        "showWarnings": true,
        "showLogs": true
    },
    {
        "id": "ad0b6903ab51bbcb",
        "type": "mqtt-broker",
        "name": "ServidorIOT",
        "broker": "10.8.17.13",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "3",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "PLC0001_CanPrat",
        "birthQos": "0",
        "birthRetain": "false",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "54dce18c1b50d37a",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Dipòsit Can Prat",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "0beddf9723ad25bd",
        "type": "ui_link",
        "name": "Tornar a Grafana",
        "link": "http://iot.aiguesmanresa.com:3000/d/fca8985f-d3aa-46d7-8357-9b98f716f224/2-marganell-diposit-de-can-prat?orgId=1&refresh=5s",
        "icon": "open_in_browser",
        "target": "thistab",
        "order": 4
    },
    {
        "id": "087c314fc1fb6566",
        "type": "mqtt-broker",
        "name": "",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "modbusClientId",
        "type": "modbus-client",
        "name": "Client Modbus",
        "clienttype": "serial",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "failureLogEnabled": true,
        "serialPort": "/dev/ttySC2",
        "serialBaudrate": "19200",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "reconnectOnTimeout": true,
        "reconnectTimeout": 500
    },
    {
        "id": "bd051378bb87b410",
        "type": "mqtt-broker",
        "name": "ServidorIOT",
        "broker": "10.8.17.13",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "3",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "PLC0001_CanPrat",
        "birthQos": "0",
        "birthRetain": "false",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "31db50412fb6aaa3",
        "type": "sqlitedb",
        "db": "/home/pi/fuxa_appdata/users.fuxap.db",
        "mode": "RO"
    },
    {
        "id": "526e0134d931089d",
        "type": "sqlitedb",
        "db": "/home/pi/fuxa_appdata/users.fuxap.db",
        "mode": "RWC"
    },
    {
        "id": "5baf0657d8598a6d",
        "type": "ssh-conncfg",
        "name": "router",
        "sshhost": "10.10.3.225",
        "sshport": "22",
        "keyname": "",
        "persist": false,
        "keeptime": "0",
        "keepcount": "3"
    },
    {
        "id": "c10d01a84abb2744",
        "type": "mqtt-broker",
        "name": "EMQX",
        "broker": "10.6.0.23",
        "port": "1883",
        "clientid": "ETAPJanPere",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "5",
        "keepalive": "120",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": "false",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "4fe39c1704264f52",
        "type": "inject",
        "z": "52d0ba6e087a1e67",
        "g": "d018bb775d102d7d",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 180,
        "wires": [
            [
                "fc21d60935d3ec9a",
                "955d36898f8e86f4",
                "ffa9f205a30331ee"
            ]
        ]
    },
    {
        "id": "955d36898f8e86f4",
        "type": "exec",
        "z": "52d0ba6e087a1e67",
        "g": "d018bb775d102d7d",
        "command": "cat /sys/class/thermal/thermal_zone0/temp",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "temp",
        "x": 350,
        "y": 180,
        "wires": [
            [
                "0dd3d844f9043a6c"
            ],
            [],
            []
        ]
    },
    {
        "id": "0dd3d844f9043a6c",
        "type": "function",
        "z": "52d0ba6e087a1e67",
        "g": "d018bb775d102d7d",
        "name": "global.plc.temp",
        "func": "// Obtener la salida del comando de temperatura\nlet tempOutput = msg.payload.trim();\n\n// Convertir la temperatura de miligrados Celsius a grados Celsius\nlet temperature = (parseInt(tempOutput) / 1000).toFixed(2);\n\n// Crear el payload con la temperatura\nmsg.payload = parseFloat(temperature);\n\n// Almacenar el uso de la CPU en el contexto del flujo\nglobal.set('plc.temp', msg.payload);\n\n\n// Devolver el mensaje\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "fc21d60935d3ec9a",
        "type": "exec",
        "z": "52d0ba6e087a1e67",
        "g": "d018bb775d102d7d",
        "command": "top -bn1 | grep \"Cpu(s)\" | sed 's/.*, *\\([0-9.]*\\)%* id.*/\\1/' | awk '{print 100 - $1}'",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "cpu",
        "x": 350,
        "y": 240,
        "wires": [
            [
                "33f4621df84de10a"
            ],
            [],
            []
        ]
    },
    {
        "id": "33f4621df84de10a",
        "type": "function",
        "z": "52d0ba6e087a1e67",
        "g": "d018bb775d102d7d",
        "name": "global.plc.cpuUsage",
        "func": "// Obtener la salida del comando de uso de la CPU\nlet cpuUsage = parseFloat(msg.payload.trim()).toFixed(2);\n\n// Almacenar el uso de la CPU en el contexto de global\nglobal.set('plc.cpuUsage', cpuUsage);\n\n// Continuar al siguiente nodo\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "ffa9f205a30331ee",
        "type": "exec",
        "z": "52d0ba6e087a1e67",
        "g": "d018bb775d102d7d",
        "command": "free -m | awk 'NR==2{printf \"%.2f\", $3*100/$2 }'",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "memoria",
        "x": 360,
        "y": 300,
        "wires": [
            [
                "506890f13f9217c7"
            ],
            [],
            []
        ]
    },
    {
        "id": "506890f13f9217c7",
        "type": "function",
        "z": "52d0ba6e087a1e67",
        "g": "d018bb775d102d7d",
        "name": "global.plc.memory",
        "func": "// Obtener la salida del comando de uso de la memoria\nlet memoryUsage = parseFloat(msg.payload.trim()).toFixed(2);\n\n// Almacenar el uso de la memoria en el contexto de global\nglobal.set('plc.memory', memoryUsage);\n\n// Continuar al siguiente nodo\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "25230cca09861bdd",
        "type": "inject",
        "z": "52d0ba6e087a1e67",
        "g": "d018bb775d102d7d",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 100,
        "wires": [
            [
                "8a28edfc13be9256"
            ]
        ]
    },
    {
        "id": "8a28edfc13be9256",
        "type": "function",
        "z": "52d0ba6e087a1e67",
        "g": "d018bb775d102d7d",
        "name": "AGAFAR HORA PLC",
        "func": "var timestamp = msg.payload;\n\n// Crear un objecte Date amb el timestamp\nlet date = new Date(timestamp);\n\n// Obtenir la part de l'hora i la data per separat\nlet mHoraLocal = date.toLocaleTimeString('ca-ES'); // Format de 24 hores\nlet mDataLocal = date.toLocaleDateString('ca-ES'); // Format DD/MM/YYYY\n\n// Obtenir el dia de la setmana (0 per diumenge, 6 per dissabte)\nlet mDiaLocal = date.getDay(); // Retorna el dia de la setmana (0 = diumenge, 1 = dilluns, ..., 6 = dissabte)\n\n// Assignar les variables al context global\nglobal.set(\"plc.mDataLocal\", mDataLocal);    // \"26/9/2024\"\nglobal.set(\"plc.mDiaLocal\", mDiaLocal);      // Número del dia de la setmana (0 = diumenge, ..., 6 = dissabte)\nglobal.set(\"plc.mHoraLocal\", mHoraLocal);    // \"15:33:09\"\n\n// Retornar el missatge original o personalitzat si cal\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "b0bc6af62bce9911",
        "type": "rpiplc-digital-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I0.0",
        "name": "Fallo alimentació",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "643f4f03d1dde1cd"
            ]
        ]
    },
    {
        "id": "1a5b93c320509319",
        "type": "inject",
        "z": "6fc709f0bff89a08",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 80,
        "wires": [
            [
                "b0bc6af62bce9911",
                "6e455d01d24fc741",
                "52477dc92649dd9b",
                "bfcb5d6a04828728",
                "3e62399b54c5314a",
                "1311724462dad0e0",
                "fd9491c4a4368e66",
                "9bb7154a3a2b043c",
                "fe036c874dc88284",
                "6036f1b58bb2e81d",
                "84613f89275b766f",
                "187b8e2cc981a998",
                "f2158e6a9ab2cad5",
                "bbae0717179b5c6d",
                "1ac5f88a72f24ef1",
                "9477ea98b3d540d5",
                "cf5583c0bcd9c3d6",
                "aa5f47670495d566",
                "166398d4fdd725da",
                "d1cd9361935a1fd7",
                "19b1528e9ffc4827",
                "a1f7d6afa76d381b",
                "9457bab74969b2f3",
                "393487e98701a1b7",
                "9a3458ae467ac322",
                "fe9f19b3b0c4e6c0"
            ]
        ]
    },
    {
        "id": "6e455d01d24fc741",
        "type": "rpiplc-digital-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I0.1",
        "name": "Boia minima dip. petit",
        "x": 400,
        "y": 120,
        "wires": [
            [
                "6b8d300315324d58"
            ]
        ]
    },
    {
        "id": "52477dc92649dd9b",
        "type": "rpiplc-digital-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I0.2",
        "name": "Boia maxima dip. petit",
        "x": 400,
        "y": 160,
        "wires": [
            [
                "dabc4667099ec5e0"
            ]
        ]
    },
    {
        "id": "bfcb5d6a04828728",
        "type": "rpiplc-digital-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I0.3",
        "name": "Boia minim dip. gran",
        "x": 400,
        "y": 200,
        "wires": [
            [
                "295003c485c70ca0"
            ]
        ]
    },
    {
        "id": "3e62399b54c5314a",
        "type": "rpiplc-digital-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I0.4",
        "name": "Boia maxima dip. gran",
        "x": 400,
        "y": 240,
        "wires": [
            [
                "66d46656b2e55ce6"
            ]
        ]
    },
    {
        "id": "1311724462dad0e0",
        "type": "rpiplc-digital-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I0.5",
        "name": "Selector bomba gronxadors",
        "x": 420,
        "y": 280,
        "wires": [
            [
                "11adc4150df368e5"
            ]
        ]
    },
    {
        "id": "fd9491c4a4368e66",
        "type": "rpiplc-digital-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I0.6",
        "name": "reserva",
        "x": 360,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "9bb7154a3a2b043c",
        "type": "rpiplc-digital-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I1.0",
        "name": "Valvula diposit petit tancada",
        "x": 420,
        "y": 660,
        "wires": [
            [
                "35a541a4d56e2780"
            ]
        ]
    },
    {
        "id": "fe036c874dc88284",
        "type": "rpiplc-digital-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I1.1",
        "name": "Valvula diposit gran oberta",
        "x": 420,
        "y": 700,
        "wires": [
            [
                "d35e7bcf3b5e52cd"
            ]
        ]
    },
    {
        "id": "6036f1b58bb2e81d",
        "type": "rpiplc-digital-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I1.2",
        "name": "Valvula diposit gran tancada",
        "x": 420,
        "y": 740,
        "wires": [
            [
                "76ffc1b3def199b9"
            ]
        ]
    },
    {
        "id": "84613f89275b766f",
        "type": "rpiplc-analog-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I0.7",
        "name": "Estat analitzador  post",
        "x": 400,
        "y": 360,
        "wires": [
            [
                "31a727545f591c90"
            ]
        ]
    },
    {
        "id": "31a727545f591c90",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "Digital",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$$.payload <= 100 ? 0 : 1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 360,
        "wires": [
            [
                "deaf085e8ab2de76"
            ]
        ]
    },
    {
        "id": "187b8e2cc981a998",
        "type": "rpiplc-analog-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I0.8",
        "name": "Estat recirculadora post",
        "x": 410,
        "y": 400,
        "wires": [
            [
                "92266f22e3cf2879"
            ]
        ]
    },
    {
        "id": "92266f22e3cf2879",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "Digital",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$$.payload <= 100 ? 0 : 1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 400,
        "wires": [
            [
                "cd003b0eeb01901b"
            ]
        ]
    },
    {
        "id": "57c6d2f4566c32b6",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "Digital",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$$.payload <= 100 ? 0 : 1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 440,
        "wires": [
            [
                "2afaa74950313fdc"
            ]
        ]
    },
    {
        "id": "f2158e6a9ab2cad5",
        "type": "rpiplc-analog-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I0.9",
        "name": "Estat dosificadora clor precloracio",
        "x": 440,
        "y": 440,
        "wires": [
            [
                "57c6d2f4566c32b6"
            ]
        ]
    },
    {
        "id": "327cf6bb2d6041b7",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "Digital",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$$.payload <= 100 ? 0 : 1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 480,
        "wires": [
            [
                "9d10099eda257532"
            ]
        ]
    },
    {
        "id": "bbae0717179b5c6d",
        "type": "rpiplc-analog-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I0.10",
        "name": "Estat dosificadora clor post",
        "x": 420,
        "y": 480,
        "wires": [
            [
                "327cf6bb2d6041b7"
            ]
        ]
    },
    {
        "id": "d0044aabeade836d",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "Digital",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$$.payload <= 100 ? 0 : 1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 520,
        "wires": [
            [
                "06029276d49dd12c"
            ]
        ]
    },
    {
        "id": "1ac5f88a72f24ef1",
        "type": "rpiplc-analog-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I0.11",
        "name": "Estat dosificadora acid",
        "x": 400,
        "y": 520,
        "wires": [
            [
                "d0044aabeade836d"
            ]
        ]
    },
    {
        "id": "2e6540661ae2d36c",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "Digital",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$$.payload <= 100 ? 0 : 1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 560,
        "wires": [
            [
                "73765b451bdcfa06"
            ]
        ]
    },
    {
        "id": "9477ea98b3d540d5",
        "type": "rpiplc-analog-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I0.12",
        "name": "valvula diposit petit oberta",
        "x": 410,
        "y": 560,
        "wires": [
            [
                "2e6540661ae2d36c"
            ]
        ]
    },
    {
        "id": "cf5583c0bcd9c3d6",
        "type": "rpiplc-digital-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I1.3",
        "name": "Valvula bypass oberta",
        "x": 400,
        "y": 780,
        "wires": [
            [
                "84ead8d9299025f0"
            ]
        ]
    },
    {
        "id": "aa5f47670495d566",
        "type": "rpiplc-digital-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I1.4",
        "name": "Valvula bypass tancada",
        "x": 410,
        "y": 820,
        "wires": [
            [
                "b8589ab92052ed64"
            ]
        ]
    },
    {
        "id": "166398d4fdd725da",
        "type": "rpiplc-digital-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I1.5",
        "name": "reserva",
        "x": 360,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "d1cd9361935a1fd7",
        "type": "rpiplc-digital-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I1.6",
        "name": "Selector dosificadora precloracio",
        "x": 430,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "19b1528e9ffc4827",
        "type": "rpiplc-analog-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I1.7",
        "name": "Estat recirculadora i analitzador clor pre",
        "x": 460,
        "y": 940,
        "wires": [
            [
                "6cbd2014280f4eee"
            ]
        ]
    },
    {
        "id": "6cbd2014280f4eee",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "Digital",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$$.payload <= 100 ? 0 : 1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 940,
        "wires": [
            [
                "c67a3ccaf7520b9c"
            ]
        ]
    },
    {
        "id": "a1f7d6afa76d381b",
        "type": "rpiplc-analog-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I1.8",
        "name": "Selector dosificadora postcloracio",
        "x": 440,
        "y": 980,
        "wires": [
            [
                "dc309377816641a3"
            ]
        ]
    },
    {
        "id": "dc309377816641a3",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "Digital",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$$.payload <= 100 ? 0 : 1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 980,
        "wires": [
            [
                "d73894403132201c"
            ]
        ]
    },
    {
        "id": "9457bab74969b2f3",
        "type": "rpiplc-analog-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I1.11",
        "name": "Nivell diposit nou",
        "x": 390,
        "y": 1100,
        "wires": [
            [
                "5cd5c02888847370"
            ]
        ]
    },
    {
        "id": "393487e98701a1b7",
        "type": "rpiplc-analog-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I1.12",
        "name": "Nivell diposit vell",
        "x": 390,
        "y": 1140,
        "wires": [
            [
                "0901c440ce179777",
                "4037b70c94aa0458"
            ]
        ]
    },
    {
        "id": "9a3458ae467ac322",
        "type": "rpiplc-analog-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I1.10",
        "name": "Intrusio",
        "x": 360,
        "y": 1060,
        "wires": [
            [
                "670ce9150a5b774f"
            ]
        ]
    },
    {
        "id": "fe9f19b3b0c4e6c0",
        "type": "rpiplc-analog-read",
        "z": "6fc709f0bff89a08",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "I1.9",
        "name": "Calu intrusió",
        "x": 370,
        "y": 1020,
        "wires": [
            [
                "206ce583d592f529"
            ]
        ]
    },
    {
        "id": "643f4f03d1dde1cd",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "plc.alimentacio",
        "rules": [
            {
                "t": "set",
                "p": "plc.alimentacio",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 80,
        "wires": [
            [
                "3fa23387a0233a65"
            ]
        ]
    },
    {
        "id": "6b8d300315324d58",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "diposit1.bminim",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 120,
        "wires": [
            [
                "11466565b85b3ece"
            ]
        ]
    },
    {
        "id": "73765b451bdcfa06",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "v1.oberta",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 560,
        "wires": [
            [
                "b2c2ee94acb1a68b"
            ]
        ]
    },
    {
        "id": "06029276d49dd12c",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d3.marxa",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 520,
        "wires": [
            [
                "49b46fb1038acc16"
            ]
        ]
    },
    {
        "id": "9d10099eda257532",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d2.marxa",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 480,
        "wires": [
            [
                "758d0ed26c16d790"
            ]
        ]
    },
    {
        "id": "2afaa74950313fdc",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d1.marxa",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 440,
        "wires": [
            [
                "a0785969d303245c"
            ]
        ]
    },
    {
        "id": "cd003b0eeb01901b",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "br2.marxa",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 400,
        "wires": [
            [
                "9c2c2bc356bd0c46"
            ]
        ]
    },
    {
        "id": "deaf085e8ab2de76",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "analitzador2.estat",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 360,
        "wires": [
            [
                "5c4b0e8e6e529869"
            ]
        ]
    },
    {
        "id": "66d46656b2e55ce6",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "diposit2.bmaxim",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 240,
        "wires": [
            [
                "2d9dd7593bdd93c9"
            ]
        ]
    },
    {
        "id": "dabc4667099ec5e0",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "diposit1.bmaxim",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 160,
        "wires": [
            [
                "998452b9a5762e2f"
            ]
        ]
    },
    {
        "id": "35a541a4d56e2780",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "v1.tancada",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 660,
        "wires": [
            [
                "da26ad0995897c99"
            ]
        ]
    },
    {
        "id": "d35e7bcf3b5e52cd",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "v2.oberta",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 700,
        "wires": [
            [
                "441b1d0166ff9f5e"
            ]
        ]
    },
    {
        "id": "76ffc1b3def199b9",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "v2.tancada",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 740,
        "wires": [
            [
                "a7b6654ae453e2e0"
            ]
        ]
    },
    {
        "id": "84ead8d9299025f0",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "v3.oberta",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 780,
        "wires": [
            [
                "c378bdba520358e3"
            ]
        ]
    },
    {
        "id": "b8589ab92052ed64",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "v3.tancada",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 820,
        "wires": [
            [
                "43c4133d15dc1e7e"
            ]
        ]
    },
    {
        "id": "3f23a1ac6695cdec",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d1.selector",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 900,
        "wires": [
            [
                "56e06c1f03383efe"
            ]
        ]
    },
    {
        "id": "d73894403132201c",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d2.selector",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 980,
        "wires": [
            [
                "5d801e126f5e1651"
            ]
        ]
    },
    {
        "id": "5cd5c02888847370",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "diposit2.nivellea",
        "rules": [
            {
                "t": "set",
                "p": "diposit2.nivellea",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 1120,
        "wires": [
            [
                "fcfc561fff8209de"
            ]
        ]
    },
    {
        "id": "0901c440ce179777",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "diposit1.nivellea",
        "rules": [
            {
                "t": "set",
                "p": "diposit1.nivellea",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 1180,
        "wires": [
            [
                "3490688e07d1b961"
            ]
        ]
    },
    {
        "id": "206ce583d592f529",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "Digital",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$$.payload <= 100 ? 0 : 1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 1020,
        "wires": [
            [
                "109c1d3737505dc2"
            ]
        ]
    },
    {
        "id": "109c1d3737505dc2",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "intrusio.clau",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 1020,
        "wires": [
            [
                "ba8f82914c377bcb"
            ]
        ]
    },
    {
        "id": "670ce9150a5b774f",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "Digital",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$$.payload <= 100 ? 0 : 1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 1060,
        "wires": [
            [
                "1aa56ef213d74ee6"
            ]
        ]
    },
    {
        "id": "1aa56ef213d74ee6",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "intrusio porta1",
        "rules": [
            {
                "t": "set",
                "p": "intrusio.fcporta1",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 1060,
        "wires": [
            [
                "62706aee250bd036"
            ]
        ]
    },
    {
        "id": "bf096e58a9ed79ce",
        "type": "range",
        "z": "6fc709f0bff89a08",
        "minin": "0",
        "maxin": "100",
        "minout": "0",
        "maxout": "270",
        "action": "scale",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 860,
        "y": 1140,
        "wires": [
            [
                "652f8606e596c31d"
            ]
        ]
    },
    {
        "id": "3490688e07d1b961",
        "type": "range",
        "z": "6fc709f0bff89a08",
        "minin": "815",
        "maxin": "4095",
        "minout": "0",
        "maxout": "100",
        "action": "scale",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 860,
        "y": 1180,
        "wires": [
            [
                "4c28e6d32537e623",
                "acb62206ad3d10c7"
            ]
        ]
    },
    {
        "id": "da26ad0995897c99",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I1.0",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 660,
        "wires": []
    },
    {
        "id": "3fa23387a0233a65",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I0.0",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 80,
        "wires": []
    },
    {
        "id": "11466565b85b3ece",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I0.1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 120,
        "wires": []
    },
    {
        "id": "998452b9a5762e2f",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I0.2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 160,
        "wires": []
    },
    {
        "id": "2d9dd7593bdd93c9",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I0.4",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 240,
        "wires": []
    },
    {
        "id": "964ad27da6e84dba",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I0.5",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 280,
        "wires": []
    },
    {
        "id": "f78e36ec42f07821",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I0.6",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 320,
        "wires": []
    },
    {
        "id": "5c4b0e8e6e529869",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I0.7",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 360,
        "wires": []
    },
    {
        "id": "9c2c2bc356bd0c46",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I0.8",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 400,
        "wires": []
    },
    {
        "id": "a0785969d303245c",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I0.9",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 440,
        "wires": []
    },
    {
        "id": "758d0ed26c16d790",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I0.10",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 480,
        "wires": []
    },
    {
        "id": "49b46fb1038acc16",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I0.11",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 520,
        "wires": []
    },
    {
        "id": "b2c2ee94acb1a68b",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I0.12",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 560,
        "wires": []
    },
    {
        "id": "441b1d0166ff9f5e",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I1.1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 700,
        "wires": []
    },
    {
        "id": "a7b6654ae453e2e0",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I1.2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 740,
        "wires": []
    },
    {
        "id": "c378bdba520358e3",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I1.3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 780,
        "wires": []
    },
    {
        "id": "43c4133d15dc1e7e",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I1.4",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 820,
        "wires": []
    },
    {
        "id": "ab9f8785097e7674",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I1.5",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 860,
        "wires": []
    },
    {
        "id": "56e06c1f03383efe",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I1.6",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 900,
        "wires": []
    },
    {
        "id": "ba9430eafc09c329",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I1.7",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 940,
        "wires": []
    },
    {
        "id": "5d801e126f5e1651",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I1.8",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 980,
        "wires": []
    },
    {
        "id": "ba8f82914c377bcb",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I1.9",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 1020,
        "wires": []
    },
    {
        "id": "62706aee250bd036",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I1.10",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 1060,
        "wires": []
    },
    {
        "id": "5cfe85dc531ad919",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I1.11",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 1100,
        "wires": []
    },
    {
        "id": "11993a3f4d656a1e",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I1.12",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 1180,
        "wires": []
    },
    {
        "id": "11adc4150df368e5",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "b1.selector",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 280,
        "wires": [
            [
                "964ad27da6e84dba"
            ]
        ]
    },
    {
        "id": "652f8606e596c31d",
        "type": "function",
        "z": "6fc709f0bff89a08",
        "name": "diposit2.m3disponibles",
        "func": "// Obtener el valor del payload\nlet value = msg.payload;\n\n// Redondear el valor a un decimal\nlet roundedValue = parseFloat(value.toFixed(1));\n\n// Guardar el valor redondeado en el contexto global\nglobal.set('diposit2.m3disponibles', roundedValue);\n\n// Devolver el mensaje con el nuevo valor\nmsg.payload = roundedValue;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 1140,
        "wires": [
            [
                "5cfe85dc531ad919"
            ]
        ]
    },
    {
        "id": "4c28e6d32537e623",
        "type": "function",
        "z": "6fc709f0bff89a08",
        "name": "diposit1.nivell",
        "func": "// Obtener el valor del payload\nlet value = msg.payload;\n\n// Redondear el valor a un decimal\nlet roundedValue = parseFloat(value.toFixed(1));\n\n// Guardar el valor redondeado en el contexto global\nglobal.set('diposit1.nivell', roundedValue);\n\n// Devolver el mensaje con el nuevo valor\nmsg.payload = roundedValue;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 1180,
        "wires": [
            [
                "11993a3f4d656a1e"
            ]
        ]
    },
    {
        "id": "fcfc561fff8209de",
        "type": "range",
        "z": "6fc709f0bff89a08",
        "minin": "990",
        "maxin": "4095",
        "minout": "0",
        "maxout": "100",
        "action": "clamp",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 860,
        "y": 1100,
        "wires": [
            [
                "730b44b9d7bfa7ee",
                "bf096e58a9ed79ce"
            ]
        ]
    },
    {
        "id": "730b44b9d7bfa7ee",
        "type": "function",
        "z": "6fc709f0bff89a08",
        "name": "diposit2.nivell",
        "func": "// Obtener el valor del payload\nlet value = msg.payload;\n\n// Redondear el valor a un decimal\nlet roundedValue = parseFloat(value.toFixed(1));\n\n// Guardar el valor redondeado en el contexto global\nglobal.set('diposit2.nivell', roundedValue);\n\n// Devolver el mensaje con el nuevo valor\nmsg.payload = roundedValue;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 1100,
        "wires": [
            [
                "5cfe85dc531ad919"
            ]
        ]
    },
    {
        "id": "acb62206ad3d10c7",
        "type": "range",
        "z": "6fc709f0bff89a08",
        "minin": "0",
        "maxin": "100",
        "minout": "0",
        "maxout": "100",
        "action": "scale",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 860,
        "y": 1220,
        "wires": [
            [
                "134a919108d4b1ad"
            ]
        ]
    },
    {
        "id": "134a919108d4b1ad",
        "type": "function",
        "z": "6fc709f0bff89a08",
        "name": "diposit1.m3disponibles",
        "func": "// Obtener el valor del payload\nlet value = msg.payload;\n\n// Redondear el valor a un decimal\nlet roundedValue = parseFloat(value.toFixed(1));\n\n// Guardar el valor redondeado en el contexto global\nglobal.set('diposit1.m3disponibles', roundedValue);\n\n// Devolver el mensaje con el nuevo valor\nmsg.payload = roundedValue;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 1220,
        "wires": [
            [
                "11993a3f4d656a1e"
            ]
        ]
    },
    {
        "id": "5c54d928a664fe63",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "I0.3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 200,
        "wires": []
    },
    {
        "id": "295003c485c70ca0",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "diposit2.bminim",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 200,
        "wires": [
            [
                "5c54d928a664fe63"
            ]
        ]
    },
    {
        "id": "c67a3ccaf7520b9c",
        "type": "change",
        "z": "6fc709f0bff89a08",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "br1.marxa",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 940,
        "wires": [
            [
                "ba9430eafc09c329"
            ]
        ]
    },
    {
        "id": "d0dfbfc628c580a1",
        "type": "inject",
        "z": "6fc709f0bff89a08",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 670,
        "y": 900,
        "wires": [
            [
                "3f23a1ac6695cdec"
            ]
        ]
    },
    {
        "id": "148a9295f3d6b2e3",
        "type": "debug",
        "z": "6fc709f0bff89a08",
        "name": "debug 209",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 550,
        "y": 40,
        "wires": []
    },
    {
        "id": "4037b70c94aa0458",
        "type": "range",
        "z": "6fc709f0bff89a08",
        "minin": "1000",
        "maxin": "4095",
        "minout": "0",
        "maxout": "100",
        "action": "scale",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 1460,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "5d40a2fb30bdb0bb",
        "type": "range",
        "z": "6fc709f0bff89a08",
        "minin": "1017",
        "maxin": "4095",
        "minout": "0",
        "maxout": "100",
        "action": "clamp",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 1460,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "ce4974e81f3699d8",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "4bddc11fb1f5bd9e",
        "name": "auto",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 660,
        "wires": [
            [
                "155717848e4a27a9"
            ],
            [
                "76e3b63dccd719b6"
            ]
        ]
    },
    {
        "id": "f6bac9041f830cb1",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "4bddc11fb1f5bd9e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d1.ci",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 600,
        "wires": [
            [
                "c451b8460146d613"
            ]
        ]
    },
    {
        "id": "76e3b63dccd719b6",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "4bddc11fb1f5bd9e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d1.ci",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 640,
        "wires": [
            [
                "aeff316d530568fc"
            ]
        ]
    },
    {
        "id": "155717848e4a27a9",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "4bddc11fb1f5bd9e",
        "name": "servei",
        "property": "d1.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 620,
        "wires": [
            [
                "3c7195fbef8be291"
            ],
            [
                "76e3b63dccd719b6"
            ]
        ]
    },
    {
        "id": "88908eda396684f1",
        "type": "inject",
        "z": "865b764148bf192a",
        "g": "4bddc11fb1f5bd9e",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "d1.selector",
        "payloadType": "global",
        "x": 210,
        "y": 660,
        "wires": [
            [
                "ce4974e81f3699d8"
            ]
        ]
    },
    {
        "id": "8f59f19194752c0b",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "2a6a05742fc37b27",
        "name": "auto",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 920,
        "wires": [
            [
                "404b15da50784bc5"
            ],
            [
                "52cb5acd1b5c23e9"
            ]
        ]
    },
    {
        "id": "0b5889a5ce4beddb",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "2a6a05742fc37b27",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d2.ci",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 860,
        "wires": [
            [
                "fc02021521d30a2c"
            ]
        ]
    },
    {
        "id": "52cb5acd1b5c23e9",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "2a6a05742fc37b27",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d2.ci",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 900,
        "wires": [
            [
                "353bb8098c5ebe0b"
            ]
        ]
    },
    {
        "id": "404b15da50784bc5",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "2a6a05742fc37b27",
        "name": "servei",
        "property": "d2.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 880,
        "wires": [
            [
                "bc45153c192786a0"
            ],
            [
                "52cb5acd1b5c23e9"
            ]
        ]
    },
    {
        "id": "21d6f238496e0d55",
        "type": "inject",
        "z": "865b764148bf192a",
        "g": "2a6a05742fc37b27",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "d2.selector",
        "payloadType": "global",
        "x": 210,
        "y": 920,
        "wires": [
            [
                "8f59f19194752c0b"
            ]
        ]
    },
    {
        "id": "db6c711a74d1b0e7",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "auto",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 1160,
        "wires": [
            [
                "c4bbb9461798770c"
            ],
            [
                "48d01962275e47b8"
            ]
        ]
    },
    {
        "id": "c2560d931447189e",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d3.ci",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 1100,
        "wires": [
            [
                "41bb0d82f16b107f"
            ]
        ]
    },
    {
        "id": "48d01962275e47b8",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d3.ci",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 1140,
        "wires": [
            [
                "7a3c77873533a531"
            ]
        ]
    },
    {
        "id": "c4bbb9461798770c",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "servei",
        "property": "d3.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 470,
        "y": 1120,
        "wires": [
            [
                "04fd885e4e38df97"
            ],
            [
                "48d01962275e47b8"
            ]
        ]
    },
    {
        "id": "42c1f1f8bf382e04",
        "type": "inject",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "d3.selector",
        "payloadType": "global",
        "x": 190,
        "y": 1160,
        "wires": [
            [
                "db6c711a74d1b0e7"
            ]
        ]
    },
    {
        "id": "2e47c1114bd5ae68",
        "type": "comment",
        "z": "865b764148bf192a",
        "g": "4bddc11fb1f5bd9e",
        "name": "Dosificadora (d1 ) pre cloració",
        "info": "Dosificadora (d1 ) pre cloració",
        "x": 160,
        "y": 520,
        "wires": []
    },
    {
        "id": "3c7195fbef8be291",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "4bddc11fb1f5bd9e",
        "name": "F. Alim",
        "property": "plc.alimentacio",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 600,
        "wires": [
            [
                "f6bac9041f830cb1"
            ],
            [
                "76e3b63dccd719b6"
            ]
        ]
    },
    {
        "id": "bc45153c192786a0",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "2a6a05742fc37b27",
        "name": "F. Alim",
        "property": "plc.alimentacio",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 860,
        "wires": [
            [
                "0b5889a5ce4beddb"
            ],
            [
                "52cb5acd1b5c23e9"
            ]
        ]
    },
    {
        "id": "04fd885e4e38df97",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "F. Alim",
        "property": "plc.alimentacio",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 590,
        "y": 1100,
        "wires": [
            [
                "c2560d931447189e"
            ],
            [
                "48d01962275e47b8"
            ]
        ]
    },
    {
        "id": "c451b8460146d613",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "4bddc11fb1f5bd9e",
        "name": "Arribada aigua D1",
        "property": "dip1.arribada",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 990,
        "y": 600,
        "wires": [
            [
                "00f77a3368a906a5"
            ],
            [
                "aeff316d530568fc"
            ]
        ]
    },
    {
        "id": "00f77a3368a906a5",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "4bddc11fb1f5bd9e",
        "name": "d1.comand = 1",
        "rules": [
            {
                "t": "set",
                "p": "d1.comand",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 580,
        "wires": [
            [
                "283c38c5be2589f7"
            ]
        ]
    },
    {
        "id": "aeff316d530568fc",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "4bddc11fb1f5bd9e",
        "name": "d1.comand = 0",
        "rules": [
            {
                "t": "set",
                "p": "d1.comand",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 620,
        "wires": [
            [
                "dd2743c00e44cae4"
            ]
        ]
    },
    {
        "id": "90706d5da1e322c3",
        "type": "comment",
        "z": "865b764148bf192a",
        "g": "5fbb08b7a4506c32",
        "name": "Arribada aigua Dipòsit 1 (Dipòsit petit/vell)",
        "info": "Arribada aigua Dipòsit 1 (Dipòsit petit/vell)\nL'aigua arriba o bé pels Gronxadors (si el dipòsit 1 està operatiu) o bé per Ca l'Esteve si la vàlvula està oberta ",
        "x": 200,
        "y": 60,
        "wires": []
    },
    {
        "id": "501b61821cf799bb",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "5fbb08b7a4506c32",
        "name": "bgronxadors.estat",
        "property": "bgronxadors.estat",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 510,
        "y": 140,
        "wires": [
            [
                "677378e3c80b2bab"
            ],
            [
                "5fbf6df9c5e6e459"
            ]
        ]
    },
    {
        "id": "677378e3c80b2bab",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "5fbb08b7a4506c32",
        "name": "comunica",
        "property": "plc4.comunic",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 680,
        "y": 120,
        "wires": [
            [
                "4b17132729be60cc"
            ],
            [
                "5fbf6df9c5e6e459"
            ]
        ]
    },
    {
        "id": "5fbf6df9c5e6e459",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "5fbb08b7a4506c32",
        "name": "dip1.arribada = 0",
        "rules": [
            {
                "t": "set",
                "p": "dip1.arribada",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 180,
        "wires": [
            [
                "3daa863b766e1311"
            ]
        ]
    },
    {
        "id": "4b17132729be60cc",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "5fbb08b7a4506c32",
        "name": "dip1.arribada = 1",
        "rules": [
            {
                "t": "set",
                "p": "dip1.arribada",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 100,
        "wires": [
            [
                "f8205b4eb106ece9"
            ]
        ]
    },
    {
        "id": "39f11a06e634b97e",
        "type": "inject",
        "z": "865b764148bf192a",
        "g": "5fbb08b7a4506c32",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 180,
        "wires": [
            [
                "0ac6f2790c4ca9f8"
            ]
        ]
    },
    {
        "id": "0ac6f2790c4ca9f8",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "5fbb08b7a4506c32",
        "name": "servei",
        "property": "diposit1.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 180,
        "wires": [
            [
                "501b61821cf799bb"
            ],
            [
                "5fbf6df9c5e6e459"
            ]
        ]
    },
    {
        "id": "1ce041eabfa66fe9",
        "type": "comment",
        "z": "865b764148bf192a",
        "g": "2a6a05742fc37b27",
        "name": "Dosificadora (d2) post cloració",
        "info": "Dosificadora (d2) post cloració",
        "x": 160,
        "y": 760,
        "wires": []
    },
    {
        "id": "a2623de6ec77b98b",
        "type": "comment",
        "z": "865b764148bf192a",
        "g": "9f6f84c83a27a3f2",
        "name": "Arribada aigua Dipòsit 2 (Dipòsit gran/nou)",
        "info": "Arribada aigua Dipòsit 1 (Dipòsit gran/nou)\nL'aigua arriba o bé pel bypass, o per filtre o per Cal esteve",
        "x": 200,
        "y": 280,
        "wires": []
    },
    {
        "id": "c925d3f8d0817497",
        "type": "inject",
        "z": "865b764148bf192a",
        "g": "9f6f84c83a27a3f2",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 380,
        "wires": [
            [
                "b3369edaad65f468"
            ]
        ]
    },
    {
        "id": "b3369edaad65f468",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "9f6f84c83a27a3f2",
        "name": "!v2.tancada",
        "property": "v2.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 380,
        "wires": [
            [
                "796a18f1f3952c05"
            ],
            [
                "e4e20e31ac739021"
            ]
        ]
    },
    {
        "id": "796a18f1f3952c05",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "9f6f84c83a27a3f2",
        "name": "dip2.arribada = 1",
        "rules": [
            {
                "t": "set",
                "p": "dip2.arribada",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "6f0729d46df87b2b",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "9f6f84c83a27a3f2",
        "name": "dip2.arribada = 0",
        "rules": [
            {
                "t": "set",
                "p": "dip2.arribada",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "fc02021521d30a2c",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "2a6a05742fc37b27",
        "name": "selector AA",
        "property": "d2.consigna.selector",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 970,
        "y": 860,
        "wires": [
            [
                "8cfa644a5be2a76a"
            ],
            [
                "204be802af82daa1"
            ],
            [
                "204be802af82daa1"
            ]
        ],
        "outputLabels": [
            "analitzador clor",
            "analitzador + arribada aigua",
            "arribada aigua"
        ]
    },
    {
        "id": "8cfa644a5be2a76a",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "2a6a05742fc37b27",
        "name": "d2.comand = 1",
        "rules": [
            {
                "t": "set",
                "p": "d2.comand",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1400,
        "y": 860,
        "wires": [
            [
                "c275f8a662e9f3db"
            ]
        ]
    },
    {
        "id": "353bb8098c5ebe0b",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "2a6a05742fc37b27",
        "name": "d2.comand = 0",
        "rules": [
            {
                "t": "set",
                "p": "d2.comand",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1400,
        "y": 900,
        "wires": [
            [
                "97867745a80dfadc"
            ]
        ]
    },
    {
        "id": "204be802af82daa1",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "2a6a05742fc37b27",
        "name": "Arribada aigua D2",
        "property": "dip2.arribada",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1190,
        "y": 880,
        "wires": [
            [
                "8cfa644a5be2a76a"
            ],
            [
                "353bb8098c5ebe0b"
            ]
        ]
    },
    {
        "id": "2aba4d08a93efca4",
        "type": "comment",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "Dosificadora (d3) àcid",
        "info": "Dosificadora (d3) àcid.\nva segons arribada d'aigua i demanda de ph. Dosificicarà segons el % que posois",
        "x": 140,
        "y": 1020,
        "wires": []
    },
    {
        "id": "bdf08ad19b98dfc7",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "Arribada aigua D2",
        "property": "dip2.arribada",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1290,
        "y": 1160,
        "wires": [
            [
                "a14827af9761e311"
            ],
            [
                "e0172a4b4ec010db"
            ]
        ]
    },
    {
        "id": "41bb0d82f16b107f",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "selector DD",
        "property": "d3.consigna.selector",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 930,
        "y": 1100,
        "wires": [
            [
                "2edc079c545c19d6"
            ],
            [
                "5d040724ed331a28"
            ]
        ],
        "outputLabels": [
            "Dipòsit 1",
            "Dipòsit 2"
        ]
    },
    {
        "id": "05d845e77138443f",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "Arribada aigua D1",
        "property": "dip1.arribada",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1290,
        "y": 1080,
        "wires": [
            [
                "a14827af9761e311"
            ],
            [
                "e0172a4b4ec010db"
            ]
        ]
    },
    {
        "id": "e4e20e31ac739021",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "9f6f84c83a27a3f2",
        "name": "cabal bypass",
        "property": "cabal5.inst",
        "propertyType": "global",
        "rules": [
            {
                "t": "gt",
                "v": "0.5",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "0.5",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 530,
        "y": 420,
        "wires": [
            [
                "796a18f1f3952c05"
            ],
            [
                "6f0729d46df87b2b"
            ]
        ]
    },
    {
        "id": "2edc079c545c19d6",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "servei D1",
        "property": "diposit1.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1100,
        "y": 1080,
        "wires": [
            [
                "05d845e77138443f"
            ],
            [
                "ee3b0d124d48e5a3"
            ]
        ]
    },
    {
        "id": "5d040724ed331a28",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "servei D2",
        "property": "diposit2.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1100,
        "y": 1160,
        "wires": [
            [
                "bdf08ad19b98dfc7"
            ],
            [
                "7a3c77873533a531"
            ]
        ]
    },
    {
        "id": "a14827af9761e311",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "Demanda pH",
        "property": "d3.ph.demanda",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1490,
        "y": 1080,
        "wires": [
            [
                "fe1827b7e3539df9"
            ],
            [
                "e0172a4b4ec010db"
            ]
        ]
    },
    {
        "id": "fe1827b7e3539df9",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "d3.comand = 1",
        "rules": [
            {
                "t": "set",
                "p": "d3.comand",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1700,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "e0172a4b4ec010db",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "d3.comand = 0",
        "rules": [
            {
                "t": "set",
                "p": "d3.comand",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1700,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "2bdcedbee5b11407",
        "type": "comment",
        "z": "865b764148bf192a",
        "g": "72e0644bd5809e84",
        "name": "Vàlvula Ca l'Esteve dipòsit 1",
        "info": "Vàlvula Ca l'Esteve dipòsit 1",
        "x": 160,
        "y": 1500,
        "wires": []
    },
    {
        "id": "3da63000dfd1a253",
        "type": "inject",
        "z": "865b764148bf192a",
        "g": "72e0644bd5809e84",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "v1.selector",
        "payloadType": "global",
        "x": 190,
        "y": 1620,
        "wires": [
            [
                "70954475831d28a3"
            ]
        ]
    },
    {
        "id": "70954475831d28a3",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "72e0644bd5809e84",
        "name": "auto",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 1620,
        "wires": [
            [
                "f8a99b321dfa2741"
            ],
            [
                "ced91b66ba2392eb"
            ]
        ]
    },
    {
        "id": "f8a99b321dfa2741",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "72e0644bd5809e84",
        "name": "servei",
        "property": "v1.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 470,
        "y": 1580,
        "wires": [
            [
                "bac1332bfbe9c927"
            ],
            [
                "ced91b66ba2392eb"
            ]
        ]
    },
    {
        "id": "bac1332bfbe9c927",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "72e0644bd5809e84",
        "name": "F. Alim",
        "property": "plc.alimentacio",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 1560,
        "wires": [
            [
                "5882e0c3cc0dda6c"
            ],
            [
                "ced91b66ba2392eb"
            ]
        ]
    },
    {
        "id": "5882e0c3cc0dda6c",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "72e0644bd5809e84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "v1.ci",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 1560,
        "wires": [
            [
                "a43617c1e9173798"
            ]
        ]
    },
    {
        "id": "ced91b66ba2392eb",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "72e0644bd5809e84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "v1.ci",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 1600,
        "wires": [
            [
                "e5dea343ebb10507"
            ]
        ]
    },
    {
        "id": "23bfab6a01457111",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "72e0644bd5809e84",
        "name": "manual",
        "property": "v1.consigna.manual",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 1140,
        "y": 1560,
        "wires": [
            [
                "1efd1b6e99e282d5"
            ],
            [
                "89cb140b6fe37e7c"
            ],
            [
                "e5dea343ebb10507"
            ]
        ],
        "outputLabels": [
            "desactivat",
            "obrir",
            "tancar"
        ]
    },
    {
        "id": "1efd1b6e99e282d5",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "72e0644bd5809e84",
        "name": "tarifes",
        "property": "v1.tarifes",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1290,
        "y": 1540,
        "wires": [
            [
                "7eae762a2cec81cf"
            ],
            [
                "e5dea343ebb10507"
            ]
        ]
    },
    {
        "id": "587a56754b388070",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "72e0644bd5809e84",
        "name": "v1.comand = 1",
        "rules": [
            {
                "t": "set",
                "p": "v1.comand",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 1500,
        "wires": [
            []
        ]
    },
    {
        "id": "e5dea343ebb10507",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "72e0644bd5809e84",
        "name": "v1.comand = 0",
        "rules": [
            {
                "t": "set",
                "p": "v1.comand",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 1600,
        "wires": [
            []
        ]
    },
    {
        "id": "7eae762a2cec81cf",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "72e0644bd5809e84",
        "name": "maxima",
        "property": "diposit1.bmaxim",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1440,
        "y": 1520,
        "wires": [
            [
                "e5dea343ebb10507"
            ],
            [
                "587a56754b388070"
            ]
        ]
    },
    {
        "id": "ca750438ee28474d",
        "type": "comment",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "Vàlvula Ca l'Esteve dipòsit 2",
        "info": "Vàlvula Ca l'Esteve dipòsit 2",
        "x": 160,
        "y": 1720,
        "wires": []
    },
    {
        "id": "bb5e6ef688da1875",
        "type": "inject",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "v2.selector",
        "payloadType": "global",
        "x": 190,
        "y": 1860,
        "wires": [
            [
                "a1d3b2e8804cb8be"
            ]
        ]
    },
    {
        "id": "a1d3b2e8804cb8be",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "auto",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 1860,
        "wires": [
            [
                "7f42d378a5280d97"
            ],
            [
                "db3b6a6feb4307a8"
            ]
        ]
    },
    {
        "id": "7f42d378a5280d97",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "servei",
        "property": "v2.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 470,
        "y": 1820,
        "wires": [
            [
                "408ac27785445e78"
            ],
            [
                "db3b6a6feb4307a8"
            ]
        ]
    },
    {
        "id": "408ac27785445e78",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "F. Alim",
        "property": "plc.alimentacio",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 1800,
        "wires": [
            [
                "fbe6352d18e6ecb9"
            ],
            [
                "db3b6a6feb4307a8"
            ]
        ]
    },
    {
        "id": "fbe6352d18e6ecb9",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "v2.ci",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 1800,
        "wires": [
            [
                "5e98709eb678a7c3"
            ]
        ]
    },
    {
        "id": "db3b6a6feb4307a8",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "v2.ci",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 1840,
        "wires": [
            [
                "2bc8e87d990d054c"
            ]
        ]
    },
    {
        "id": "caa72a0ead0f49d3",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "manual",
        "property": "v2.consigna.manual",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 1080,
        "y": 1780,
        "wires": [
            [
                "ea97b7bfe04122b5"
            ],
            [
                "1989440e88e393cd"
            ],
            [
                "2bc8e87d990d054c"
            ]
        ],
        "outputLabels": [
            "desactivat",
            "obrir",
            "tancar"
        ]
    },
    {
        "id": "ea97b7bfe04122b5",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "tarifes",
        "property": "v2.tarifes",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1250,
        "y": 1780,
        "wires": [
            [
                "261b18cf91357610"
            ],
            [
                "2bc8e87d990d054c"
            ]
        ]
    },
    {
        "id": "0efb867b7f313e5b",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "v2.comand = 1",
        "rules": [
            {
                "t": "set",
                "p": "v2.comand",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1580,
        "y": 1740,
        "wires": [
            []
        ]
    },
    {
        "id": "2bc8e87d990d054c",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "v2.comand = 0",
        "rules": [
            {
                "t": "set",
                "p": "v2.comand",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1580,
        "y": 1840,
        "wires": [
            []
        ]
    },
    {
        "id": "261b18cf91357610",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "maxima",
        "property": "diposit2.bmaxim",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1400,
        "y": 1760,
        "wires": [
            [
                "2bc8e87d990d054c"
            ],
            [
                "0efb867b7f313e5b"
            ]
        ]
    },
    {
        "id": "9882aaa9036e8d24",
        "type": "comment",
        "z": "865b764148bf192a",
        "g": "f6c602e4d12c6c2d",
        "name": "Vàlvula bypass",
        "info": "Vàlvula bypass",
        "x": 120,
        "y": 2100,
        "wires": []
    },
    {
        "id": "7138e8eab9f90bf1",
        "type": "inject",
        "z": "865b764148bf192a",
        "g": "f6c602e4d12c6c2d",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "v3.selector",
        "payloadType": "global",
        "x": 190,
        "y": 2240,
        "wires": [
            [
                "3313ee015ff2d338"
            ]
        ]
    },
    {
        "id": "3313ee015ff2d338",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "f6c602e4d12c6c2d",
        "name": "auto",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 2240,
        "wires": [
            [
                "fb14cdde2fd5a3aa"
            ],
            [
                "2afbbd9b398673cb"
            ]
        ]
    },
    {
        "id": "fb14cdde2fd5a3aa",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "f6c602e4d12c6c2d",
        "name": "servei",
        "property": "v3.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 470,
        "y": 2200,
        "wires": [
            [
                "76eec778bd72fc01"
            ],
            [
                "2afbbd9b398673cb"
            ]
        ]
    },
    {
        "id": "76eec778bd72fc01",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "f6c602e4d12c6c2d",
        "name": "F. Alim",
        "property": "plc.alimentacio",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 2180,
        "wires": [
            [
                "5830616edff0cd5b"
            ],
            [
                "2afbbd9b398673cb"
            ]
        ]
    },
    {
        "id": "5830616edff0cd5b",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "f6c602e4d12c6c2d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "v3.ci",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 2180,
        "wires": [
            [
                "d8aa48a006de49e0"
            ]
        ]
    },
    {
        "id": "2afbbd9b398673cb",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "f6c602e4d12c6c2d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "v3.ci",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 2220,
        "wires": [
            [
                "38989b74933ddfd1"
            ]
        ]
    },
    {
        "id": "2c8fe4e3707f3ca5",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "f6c602e4d12c6c2d",
        "name": "manual",
        "property": "v3.consigna.manual",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 1100,
        "y": 2180,
        "wires": [
            [
                "f116c0b8fa12f614"
            ],
            [
                "67b90f344940bd7d"
            ],
            [
                "38989b74933ddfd1"
            ]
        ],
        "outputLabels": [
            "desactivat",
            "obrir",
            "tancar"
        ]
    },
    {
        "id": "3ff62ed255ec050f",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "f6c602e4d12c6c2d",
        "name": "v3.comand = 1",
        "rules": [
            {
                "t": "set",
                "p": "v3.comand",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 2120,
        "wires": [
            []
        ]
    },
    {
        "id": "38989b74933ddfd1",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "f6c602e4d12c6c2d",
        "name": "v3.comand = 0",
        "rules": [
            {
                "t": "set",
                "p": "v3.comand",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 2240,
        "wires": [
            []
        ]
    },
    {
        "id": "320961b6e1c1c011",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "f6c602e4d12c6c2d",
        "name": "maxima",
        "property": "diposit2.bmaxim",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1420,
        "y": 2140,
        "wires": [
            [
                "38989b74933ddfd1"
            ],
            [
                "3ff62ed255ec050f"
            ]
        ]
    },
    {
        "id": "f116c0b8fa12f614",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "f6c602e4d12c6c2d",
        "name": "servei filtre",
        "property": "filtre.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1250,
        "y": 2160,
        "wires": [
            [
                "38989b74933ddfd1"
            ],
            [
                "320961b6e1c1c011"
            ]
        ]
    },
    {
        "id": "79beda12b8aac90f",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "demanda",
        "rules": [
            {
                "t": "set",
                "p": "d3.ph.demanda",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "9748978c1100df96",
        "type": "inject",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "v2.comand",
        "payloadType": "global",
        "x": 190,
        "y": 1980,
        "wires": [
            [
                "8de37b3ec4d85f23"
            ]
        ]
    },
    {
        "id": "8de37b3ec4d85f23",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "comand",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 360,
        "y": 1980,
        "wires": [
            [
                "bb7449cbdcd8e9f8"
            ],
            [
                "170c0fa016ec696b"
            ]
        ]
    },
    {
        "id": "170c0fa016ec696b",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "tancar (0%)",
        "rules": [
            {
                "t": "set",
                "p": "v2.consigna.posicio",
                "pt": "global",
                "to": "100",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1210,
        "y": 2000,
        "wires": [
            []
        ]
    },
    {
        "id": "79ba0c9955a0acc9",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "regular",
        "rules": [
            {
                "t": "set",
                "p": "v2.consigna.posicio",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1200,
        "y": 1960,
        "wires": [
            [
                "85a4c7c64d3681b3"
            ]
        ]
    },
    {
        "id": "cb531c65fe0f2d6f",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "consigna cabal",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "v2.consigna.cabal",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 1960,
        "wires": [
            [
                "d996b1a7a31a947f"
            ]
        ]
    },
    {
        "id": "d996b1a7a31a947f",
        "type": "function",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "PID valvula",
        "func": "// Obtenir el valor de la consigna de cabal (m3/h) des de msg.payload\nlet consigna = msg.payload;\n\n// Obtenir el valor de cabal actual des de la variable global\nlet cabalActual = global.get('cabal3.inst');\n\n// Definir el cabal màxim quan la vàlvula està oberta al 100%\nconst cabalMaxim = 10; // m3/h\n\n// Inicialitzar l'obertura de la vàlvula si no existeix (50% d'obertura)\nlet oberturaValvula = global.get('v2.obertura') || 50; // En percentatge\n\n// Calcular l'error entre la consigna i el cabal actual\nlet error = consigna - cabalActual;\n\n// Definir una constant proporcional per ajustar la vàlvula\nconst Kp = 2; // s'ha d'ajustar aquest valor per regular la velocitat de correcció\n\n// Implementar la zona morta per evitar oscil·lacions petites\nconst zonaMorta = 0.5; // Zona morta de ±0.5 m3/h\n\n// Inicialitzar l'ajust en l'obertura de la vàlvula\nlet ajust = 0;\n\n// Verificar si l'error està fora de la zona morta\nif (Math.abs(error) > zonaMorta) {\n    // Calcular l'ajust en l'obertura de la vàlvula\n    ajust = Kp * error;\n\n    // Limitar l'ajust perquè no sigui massa brusc\n    if (ajust > 5) {\n        ajust = 5; // Ajust màxim permès en un cicle\n    } else if (ajust < -5) {\n        ajust = -5; // Ajust mínim permès en un cicle\n    }\n\n    // Ajustar l'obertura de la vàlvula\n    oberturaValvula += ajust;\n\n    // Assegurar-se que l'obertura està entre 0 i 100%\n    if (oberturaValvula > 100) {\n        oberturaValvula = 100;\n    } else if (oberturaValvula < 0) {\n        oberturaValvula = 0;\n    }\n}\n\n// Guardar el nou valor d'obertura de la vàlvula en el context global\nglobal.set('v2.obertura', oberturaValvula);\n\n// Crear el missatge per enviar la nova obertura\nmsg.payload = oberturaValvula;\n\n// Retornar el missatge\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 1960,
        "wires": [
            [
                "3e76542edbef3c3f"
            ]
        ]
    },
    {
        "id": "3e76542edbef3c3f",
        "type": "range",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "minin": "0",
        "maxin": "100",
        "minout": "100",
        "maxout": "32767",
        "action": "clamp",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 1030,
        "y": 1960,
        "wires": [
            [
                "79ba0c9955a0acc9"
            ]
        ]
    },
    {
        "id": "85a4c7c64d3681b3",
        "type": "debug",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "debug 188",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1410,
        "y": 1960,
        "wires": []
    },
    {
        "id": "bb7449cbdcd8e9f8",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "",
        "property": "v2.consigna.manual",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 1940,
        "wires": [
            [
                "4e6dde2785dec7d3"
            ],
            [
                "cb531c65fe0f2d6f"
            ]
        ]
    },
    {
        "id": "4e6dde2785dec7d3",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "obrir (100%)",
        "rules": [
            {
                "t": "set",
                "p": "v2.consigna.posicio",
                "pt": "global",
                "to": "32767",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1210,
        "y": 1920,
        "wires": [
            []
        ]
    },
    {
        "id": "f92765111d51c7e1",
        "type": "inject",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "analitzador2.ph",
        "payloadType": "global",
        "x": 210,
        "y": 1240,
        "wires": [
            [
                "cb2e93e196aa08f7"
            ]
        ]
    },
    {
        "id": "9fe09b2c99fed96b",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "Demanda",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 600,
        "y": 1240,
        "wires": [
            [
                "79beda12b8aac90f"
            ],
            [
                "f6d2b70ee28b5efc"
            ]
        ]
    },
    {
        "id": "cb2e93e196aa08f7",
        "type": "function",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "Demanda",
        "func": "// Obtener el valor actual del mensaje (msg.payload)\nlet value = msg.payload;\n\n// Obtener el valor de la consignación desde la variable global\nlet consigna = global.get(\"d3.consigna.ph\");\n\n// Definir el límite superior e inferior usando el factor 0.5\nlet limiteSuperior = consigna * 1.5;\nlet limiteInferior = consigna * 0.5;\n\n// Comparar el valor del mensaje con los límites\nif (value > limiteSuperior) {\n    msg.payload = 0; // Si es 0.5 veces más grande, devuelve 0\n} else if (value < limiteInferior) {\n    msg.payload = 1; // Si es 0.5 veces más pequeño, devuelve 1\n} else {\n    msg.payload = null; // En cualquier otro caso, no devuelve nada\n}\n\n// Devolver el mensaje modificado\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 1240,
        "wires": [
            [
                "9fe09b2c99fed96b"
            ]
        ]
    },
    {
        "id": "f6d2b70ee28b5efc",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "demanda",
        "rules": [
            {
                "t": "set",
                "p": "d3.ph.demanda",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 1260,
        "wires": [
            []
        ]
    },
    {
        "id": "7a4f8246c10a71e8",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "regular",
        "rules": [
            {
                "t": "set",
                "p": "d3.consigna.regulacio",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 1360,
        "wires": [
            []
        ]
    },
    {
        "id": "caf3e0c5eb64c0c5",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "parar (0%)",
        "rules": [
            {
                "t": "set",
                "p": "d3.consigna.regulacio",
                "pt": "global",
                "to": "100",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "c042cf11302e1961",
        "type": "range",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "minin": "0",
        "maxin": "100",
        "minout": "100",
        "maxout": "32767",
        "action": "clamp",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 610,
        "y": 1360,
        "wires": [
            [
                "7a4f8246c10a71e8"
            ]
        ]
    },
    {
        "id": "740745b695e7323c",
        "type": "inject",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "d3.consigna.proporcio",
        "payloadType": "global",
        "x": 230,
        "y": 1380,
        "wires": [
            [
                "b88461942bb7b0ad"
            ]
        ]
    },
    {
        "id": "b88461942bb7b0ad",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "0658c68795d7bd56",
        "name": "Demanda",
        "property": "d3.comand",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 440,
        "y": 1380,
        "wires": [
            [
                "c042cf11302e1961"
            ],
            [
                "caf3e0c5eb64c0c5"
            ]
        ]
    },
    {
        "id": "283c38c5be2589f7",
        "type": "debug",
        "z": "865b764148bf192a",
        "g": "4bddc11fb1f5bd9e",
        "name": "debug 189",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1370,
        "y": 580,
        "wires": []
    },
    {
        "id": "dd2743c00e44cae4",
        "type": "debug",
        "z": "865b764148bf192a",
        "g": "4bddc11fb1f5bd9e",
        "name": "debug 190",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1370,
        "y": 640,
        "wires": []
    },
    {
        "id": "c275f8a662e9f3db",
        "type": "debug",
        "z": "865b764148bf192a",
        "g": "2a6a05742fc37b27",
        "name": "debug 191",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1610,
        "y": 860,
        "wires": []
    },
    {
        "id": "97867745a80dfadc",
        "type": "debug",
        "z": "865b764148bf192a",
        "g": "2a6a05742fc37b27",
        "name": "debug 192",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1610,
        "y": 900,
        "wires": []
    },
    {
        "id": "5e98709eb678a7c3",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "feb6db95aaf4e6ee",
        "name": "!avaria",
        "property": "v2.estat",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "3",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 950,
        "y": 1800,
        "wires": [
            [
                "caa72a0ead0f49d3"
            ],
            [
                "2bc8e87d990d054c"
            ]
        ]
    },
    {
        "id": "a43617c1e9173798",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "72e0644bd5809e84",
        "name": "!avaria",
        "property": "v1.estat",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "3",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 1580,
        "wires": [
            [
                "23bfab6a01457111"
            ],
            [
                "e5dea343ebb10507"
            ]
        ]
    },
    {
        "id": "d8aa48a006de49e0",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "f6c602e4d12c6c2d",
        "name": "!avaria",
        "property": "v3.estat",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "3",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 950,
        "y": 2180,
        "wires": [
            [
                "2c8fe4e3707f3ca5"
            ],
            [
                "38989b74933ddfd1"
            ]
        ]
    },
    {
        "id": "f8205b4eb106ece9",
        "type": "debug",
        "z": "865b764148bf192a",
        "g": "5fbb08b7a4506c32",
        "name": "debug 200",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1190,
        "y": 100,
        "wires": []
    },
    {
        "id": "3daa863b766e1311",
        "type": "debug",
        "z": "865b764148bf192a",
        "g": "5fbb08b7a4506c32",
        "name": "debug 201",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1190,
        "y": 180,
        "wires": []
    },
    {
        "id": "db7b7e9ef93ca0bb",
        "type": "inject",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 2420,
        "wires": [
            [
                "19c483e0d212fef8",
                "6d02e8035c0fa16d",
                "b48a7b1a4a0e0ef3",
                "aea0ca39b6f2727d"
            ]
        ]
    },
    {
        "id": "3d5fa6a41e56277b",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "fcporta1",
        "property": "intrusio.fcporta1",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 840,
        "y": 2360,
        "wires": [
            [
                "8905a24277b25cb8"
            ]
        ]
    },
    {
        "id": "fd9abced55f13214",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "set alarma",
        "rules": [
            {
                "t": "set",
                "p": "intrusio.alarma",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1370,
        "y": 2420,
        "wires": [
            []
        ]
    },
    {
        "id": "3c9fd372ddd4c8dc",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "reset alarma i acústics",
        "rules": [
            {
                "t": "set",
                "p": "intrusio.alarma",
                "pt": "global",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "intrusio.acusticqe",
                "pt": "global",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 2420,
        "wires": [
            [
                "6e4d2fcc88533c48"
            ]
        ]
    },
    {
        "id": "19c483e0d212fef8",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "clau",
        "property": "intrusio.clau",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 2420,
        "wires": [
            [
                "3c9fd372ddd4c8dc"
            ]
        ]
    },
    {
        "id": "912588fe6e334f05",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "!alarma activa",
        "property": "intrusio.alarma",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 680,
        "y": 2360,
        "wires": [
            [
                "3d5fa6a41e56277b"
            ]
        ]
    },
    {
        "id": "10b9e9f350dd9663",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "set acústic QE",
        "rules": [
            {
                "t": "set",
                "p": "intrusio.acusticqe",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 2360,
        "wires": [
            []
        ]
    },
    {
        "id": "6d02e8035c0fa16d",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "autoritzacio remota",
        "property": "intrusio.consigna.autoritzacio",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 2460,
        "wires": [
            [
                "3c9fd372ddd4c8dc",
                "a9a8a9d868b3d78a"
            ]
        ]
    },
    {
        "id": "6e4d2fcc88533c48",
        "type": "trigger",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "",
        "op1": "",
        "op2": "1",
        "op1type": "nul",
        "op2type": "num",
        "duration": "60",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1190,
        "y": 2420,
        "wires": [
            [
                "fd9abced55f13214"
            ]
        ]
    },
    {
        "id": "8905a24277b25cb8",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "autoritzacio remota",
        "property": "intrusio.consigna.autoritzacio",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1010,
        "y": 2360,
        "wires": [
            [
                "6e4d2fcc88533c48",
                "10b9e9f350dd9663"
            ]
        ]
    },
    {
        "id": "a9a8a9d868b3d78a",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "temporitzar autoritzacio remota",
        "rules": [
            {
                "t": "set",
                "p": "intrusio.desactivada",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 2460,
        "wires": [
            []
        ]
    },
    {
        "id": "fe62b1bd0f3472ba",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "!clau",
        "property": "intrusio.clau",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 270,
        "y": 2360,
        "wires": [
            [
                "9de5aea7ffaf444e"
            ]
        ]
    },
    {
        "id": "fbcd4e7503b33a38",
        "type": "inject",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 2360,
        "wires": [
            [
                "fe62b1bd0f3472ba"
            ]
        ]
    },
    {
        "id": "b48a7b1a4a0e0ef3",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "temps autoritzacio remota",
        "property": "intrusio.desactivada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 370,
        "y": 2500,
        "wires": [
            [
                "8c77a1da92a24e6d"
            ]
        ]
    },
    {
        "id": "8c77a1da92a24e6d",
        "type": "trigger",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "",
        "op1": "",
        "op2": "1",
        "op1type": "nul",
        "op2type": "num",
        "duration": "1",
        "extend": false,
        "overrideDelay": false,
        "units": "hr",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 750,
        "y": 2500,
        "wires": [
            [
                "894df740e71133a7"
            ]
        ]
    },
    {
        "id": "894df740e71133a7",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "rset temporitzar autoritzacio remota",
        "rules": [
            {
                "t": "set",
                "p": "intrusio.desactivada",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1000,
        "y": 2500,
        "wires": [
            []
        ]
    },
    {
        "id": "aea0ca39b6f2727d",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "!temps autoritzacio remota",
        "property": "intrusio.desactivada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 380,
        "y": 2540,
        "wires": [
            [
                "6bb0f1e785f2b1b1"
            ]
        ]
    },
    {
        "id": "6bb0f1e785f2b1b1",
        "type": "change",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "reset temps",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 2540,
        "wires": [
            [
                "8c77a1da92a24e6d"
            ]
        ]
    },
    {
        "id": "9de5aea7ffaf444e",
        "type": "switch",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "!temps autoritzacio remota",
        "property": "intrusio.desactivada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 460,
        "y": 2360,
        "wires": [
            [
                "912588fe6e334f05"
            ]
        ]
    },
    {
        "id": "907b12acdd33c60b",
        "type": "inject",
        "z": "865b764148bf192a",
        "g": "8827eb5e5f892be4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 770,
        "y": 2540,
        "wires": [
            [
                "894df740e71133a7"
            ]
        ]
    },
    {
        "id": "2c0c766b0d86f270",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "rset avaria+error",
        "rules": [
            {
                "t": "set",
                "p": "v1.calculada.avaria",
                "pt": "global",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "v1.calculada.error",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "9e15e46b9c032b19",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "!servei",
        "property": "v1.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 330,
        "y": 260,
        "wires": [
            [
                "b518651611e3d718"
            ]
        ]
    },
    {
        "id": "1dfa333156e2c80c",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 240,
        "wires": [
            [
                "9e15e46b9c032b19",
                "5b8c8851a1f08fbe"
            ]
        ]
    },
    {
        "id": "b53235cab153f94e",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "comand",
        "property": "v1.comand",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 480,
        "y": 120,
        "wires": [
            [
                "96eb128209e6311a"
            ],
            [
                "199e0f71f786fc08"
            ]
        ]
    },
    {
        "id": "7d08d8204c30d33c",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 150,
        "y": 120,
        "wires": [
            [
                "b53235cab153f94e"
            ]
        ]
    },
    {
        "id": "4f82489df674cdcb",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "oberta",
        "property": "v1.oberta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 180,
        "wires": [
            [
                "b1602e7d0256563e"
            ]
        ]
    },
    {
        "id": "b1602e7d0256563e",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "tancada",
        "property": "v1.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 620,
        "y": 180,
        "wires": [
            [
                "550ffa073c3e1a79"
            ]
        ]
    },
    {
        "id": "d92898c86bb8ef14",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "set error",
        "rules": [
            {
                "t": "set",
                "p": "v1.calculada.error",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "156065c2a8b0c591",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 180,
        "wires": [
            [
                "4f82489df674cdcb"
            ]
        ]
    },
    {
        "id": "81d3d231c1e8cd77",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "servei",
        "property": "v1.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1010,
        "y": 120,
        "wires": [
            [
                "c0b4f993e687cd4e"
            ]
        ]
    },
    {
        "id": "f1f9c330acda7fe0",
        "type": "delay",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1160,
        "y": 80,
        "wires": [
            [
                "fb65e05a394e5f01"
            ]
        ]
    },
    {
        "id": "fb65e05a394e5f01",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "set avaria",
        "rules": [
            {
                "t": "set",
                "p": "v1.calculada.avaria",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "96eb128209e6311a",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "oberta    ",
        "property": "v1.oberta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 100,
        "wires": [
            [
                "669d0b8a801945c6"
            ],
            [
                "5ac0d7aba34a4c7e"
            ]
        ]
    },
    {
        "id": "199e0f71f786fc08",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "tancada",
        "property": "v1.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 620,
        "y": 140,
        "wires": [
            [
                "5ac0d7aba34a4c7e"
            ],
            [
                "3d5488e58b5b223b"
            ]
        ]
    },
    {
        "id": "fe2748ae3af3da88",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "rset avaria+error",
        "rules": [
            {
                "t": "set",
                "p": "v2.calculada.avaria",
                "pt": "global",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "v2.calculada.error",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "e3ce178841ef7c3a",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "!servei",
        "property": "v2.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 330,
        "y": 960,
        "wires": [
            [
                "a088b00dd55f6df4"
            ]
        ]
    },
    {
        "id": "45c8ac7350786d2c",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 940,
        "wires": [
            [
                "e3ce178841ef7c3a",
                "938a6c55e2d36b3f"
            ]
        ]
    },
    {
        "id": "9c2dd5e948676d3f",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "comand",
        "property": "v2.comand",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 480,
        "y": 780,
        "wires": [
            [
                "958c0f8b68c69f3e"
            ]
        ]
    },
    {
        "id": "5cbeb594bc9bd680",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 150,
        "y": 780,
        "wires": [
            [
                "9c2dd5e948676d3f"
            ]
        ]
    },
    {
        "id": "440e818a32f62575",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "oberta",
        "property": "v2.oberta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 860,
        "wires": [
            [
                "1c79d2d23da7460f"
            ]
        ]
    },
    {
        "id": "1c79d2d23da7460f",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "tancada",
        "property": "v2.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 620,
        "y": 860,
        "wires": [
            [
                "9c783807ec0abee0"
            ]
        ]
    },
    {
        "id": "3bb9e950956b9d37",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "set error",
        "rules": [
            {
                "t": "set",
                "p": "v2.calculada.error",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "3536e45e1df26ec1",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 860,
        "wires": [
            [
                "440e818a32f62575"
            ]
        ]
    },
    {
        "id": "4b70335b9f5efaee",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "servei",
        "property": "v1.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1010,
        "y": 700,
        "wires": [
            [
                "1b192f50d0bfb610"
            ]
        ]
    },
    {
        "id": "d91f7d259744677f",
        "type": "delay",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1160,
        "y": 740,
        "wires": [
            [
                "dab1666cef290867"
            ]
        ]
    },
    {
        "id": "dab1666cef290867",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "set avaria",
        "rules": [
            {
                "t": "set",
                "p": "v2.calculada.avaria",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "958c0f8b68c69f3e",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "tancada",
        "property": "v2.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 620,
        "y": 780,
        "wires": [
            [
                "9ffd663a07f84e6d"
            ],
            [
                "35dece925567b511"
            ]
        ]
    },
    {
        "id": "a8033b25007a641c",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "rset avaria+error",
        "rules": [
            {
                "t": "set",
                "p": "v3.calculada.avaria",
                "pt": "global",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "v3.calculada.error",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 1580,
        "wires": [
            []
        ]
    },
    {
        "id": "f29ad5dd2a70a6a6",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "!servei",
        "property": "v3.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 330,
        "y": 1600,
        "wires": [
            [
                "0b21767ac5b53eab"
            ]
        ]
    },
    {
        "id": "d327ae4de21d2fe2",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1580,
        "wires": [
            [
                "f29ad5dd2a70a6a6",
                "bd782fea866c7d80"
            ]
        ]
    },
    {
        "id": "34cdc562d79db86a",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "comand",
        "property": "v3.comand",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 480,
        "y": 1460,
        "wires": [
            [
                "1effac3da8f2cc80"
            ],
            [
                "b6cfb09d5a538017"
            ]
        ]
    },
    {
        "id": "4b89328b02c02cdf",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 150,
        "y": 1460,
        "wires": [
            [
                "34cdc562d79db86a"
            ]
        ]
    },
    {
        "id": "2aaad8f9e294cac7",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "oberta",
        "property": "v3.oberta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1520,
        "wires": [
            [
                "9b04ed0b17d47637"
            ]
        ]
    },
    {
        "id": "9b04ed0b17d47637",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "tancada",
        "property": "v3.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 620,
        "y": 1520,
        "wires": [
            [
                "605409d71545ef52"
            ]
        ]
    },
    {
        "id": "74c6ba1185773539",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "set error",
        "rules": [
            {
                "t": "set",
                "p": "v3.calculada.error",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 1460,
        "wires": [
            []
        ]
    },
    {
        "id": "4d5a9421c808e285",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1520,
        "wires": [
            [
                "2aaad8f9e294cac7"
            ]
        ]
    },
    {
        "id": "4f185b3172eb538c",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "servei",
        "property": "v3.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1010,
        "y": 1460,
        "wires": [
            [
                "0c8c078dff253e97"
            ]
        ]
    },
    {
        "id": "6a190020381ffd54",
        "type": "delay",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1160,
        "y": 1420,
        "wires": [
            [
                "ce3d83858bdb19bf"
            ]
        ]
    },
    {
        "id": "ce3d83858bdb19bf",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "set avaria",
        "rules": [
            {
                "t": "set",
                "p": "v3.calculada.avaria",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "1effac3da8f2cc80",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "oberta    ",
        "property": "v3.oberta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 1440,
        "wires": [
            [
                "335ba4e51491178b"
            ],
            [
                "21496fff1d4498e2"
            ]
        ]
    },
    {
        "id": "b6cfb09d5a538017",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "tancada",
        "property": "v3.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 620,
        "y": 1480,
        "wires": [
            [
                "21496fff1d4498e2"
            ],
            [
                "38e81abaf0d5012e"
            ]
        ]
    },
    {
        "id": "85ec0b647f8d142a",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "cabal3.inst",
        "payloadType": "global",
        "x": 190,
        "y": 700,
        "wires": [
            [
                "8a4958e01b562aaa"
            ]
        ]
    },
    {
        "id": "6db5fcf206431836",
        "type": "function",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "= consigna?",
        "func": "// Obtenir el cabal instantani des de msg.payload\nconst cabalInstantani = msg.payload;\n\n// Obtenir la consigna de cabal des de la variable global\nconst consigna = global.get(\"v2.consigna.cabal\") || 0; // Valor per defecte si és null/undefined\n\n// Calcular la diferència absoluta entre el cabal instantani i la consigna\nconst diferencia = Math.abs(cabalInstantani - consigna);\n\n// Definir la sortida\nif (diferencia > 2) {\n    // Si la diferència és superior a 2 unitats, generar un error (sortida 1)\n    msg.payload = 1; // Error\n} else {\n    // Si la diferència és dins del marge acceptable, generar \"OK\" (sortida 0)\n    msg.payload = 0; // OK\n}\n\n// Retornar el missatge amb la sortida\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 700,
        "wires": [
            [
                "30d6ba1b19ad52a5"
            ]
        ]
    },
    {
        "id": "5b8c8851a1f08fbe",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "!selector",
        "property": "v1.selector",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 340,
        "y": 220,
        "wires": [
            [
                "2e845179eb90917d"
            ]
        ]
    },
    {
        "id": "938a6c55e2d36b3f",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "!selector",
        "property": "v2.selector",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 340,
        "y": 920,
        "wires": [
            [
                "897845e117e1d727"
            ]
        ]
    },
    {
        "id": "bd782fea866c7d80",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "!selector",
        "property": "v3.selector",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 340,
        "y": 1560,
        "wires": [
            [
                "9de4e955976ae717"
            ]
        ]
    },
    {
        "id": "4629a316247ebd77",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "g": "40fb0868d67c7eed",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 190,
        "y": 420,
        "wires": [
            [
                "cbc241e9b64d6687"
            ]
        ]
    },
    {
        "id": "cbc241e9b64d6687",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "40fb0868d67c7eed",
        "name": "v1 oberta/tancada",
        "property": "v1.lectura.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 420,
        "wires": [
            [
                "45b7162ac253833b"
            ],
            [
                "6ef2268f81178bdb"
            ]
        ]
    },
    {
        "id": "45b7162ac253833b",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "40fb0868d67c7eed",
        "name": "cabal <=0",
        "property": "cabal2.inst",
        "propertyType": "global",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 520,
        "y": 360,
        "wires": [
            [
                "2a92d55248b02e59",
                "79d3af4b005980fb"
            ],
            [
                "83a4b277a047f7b0"
            ]
        ]
    },
    {
        "id": "6ef2268f81178bdb",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "40fb0868d67c7eed",
        "name": "cabal  >0",
        "property": "cabal2.inst",
        "propertyType": "global",
        "rules": [
            {
                "t": "lte",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 520,
        "y": 480,
        "wires": [
            [
                "3394e1c47bcc396d",
                "bd6d09542a81cfa0"
            ],
            [
                "f8230a0fd4eececc"
            ]
        ]
    },
    {
        "id": "8cfa2bf17eb4a7f4",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "40fb0868d67c7eed",
        "name": "pas aigua no esperat",
        "rules": [
            {
                "t": "set",
                "p": "cabal2.calculada.pasaiguanoesperat",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "d137952caf7546e2",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "40fb0868d67c7eed",
        "name": "absència pas aigua",
        "rules": [
            {
                "t": "set",
                "p": "cabal2.calculada.absenciapasaigua",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "2a92d55248b02e59",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "40fb0868d67c7eed",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 625,
        "y": 320,
        "wires": [
            [
                "21e345c690a3854e"
            ]
        ],
        "l": false
    },
    {
        "id": "b4a6783fe55afb17",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "g": "2c5994355f713f28",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 190,
        "y": 1100,
        "wires": [
            [
                "8bdcb47dfb821860"
            ]
        ]
    },
    {
        "id": "8bdcb47dfb821860",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "2c5994355f713f28",
        "name": "v2 oberta/tancada",
        "property": "v2.lectura.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 1100,
        "wires": [
            [
                "fad3d170d7fcd76e"
            ],
            [
                "1db084b51071d439"
            ]
        ]
    },
    {
        "id": "fad3d170d7fcd76e",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "2c5994355f713f28",
        "name": "cabal <=0",
        "property": "cabal3.inst",
        "propertyType": "global",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 520,
        "y": 1040,
        "wires": [
            [
                "9ee8b2851af3e021",
                "487b3ed24b56095f"
            ],
            [
                "a6aceed4abc1796d"
            ]
        ]
    },
    {
        "id": "1db084b51071d439",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "2c5994355f713f28",
        "name": "cabal  >0",
        "property": "cabal3.inst",
        "propertyType": "global",
        "rules": [
            {
                "t": "lte",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 520,
        "y": 1160,
        "wires": [
            [
                "fe389155fb66cacf",
                "890b809c15332987"
            ],
            [
                "7413318fed08c688"
            ]
        ]
    },
    {
        "id": "429a04c479a9641f",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "2c5994355f713f28",
        "name": "pas aigua no esperat",
        "rules": [
            {
                "t": "set",
                "p": "cabal3.calculada.pasaiguanoesperat",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "976907b5f0378e71",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "2c5994355f713f28",
        "name": "absència pas aigua",
        "rules": [
            {
                "t": "set",
                "p": "cabal3.calculada.absenciapasaigua",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "8a4958e01b562aaa",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "ordre obrir v2",
        "property": "v2.comand",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 390,
        "y": 700,
        "wires": [
            [
                "6db5fcf206431836"
            ]
        ]
    },
    {
        "id": "16648fdf05d5f8c9",
        "type": "function",
        "z": "3c26247f8ee91864",
        "name": "ESTAT VALVULVA 1",
        "func": "\n// VARIABLES\nconst senyal_tancada = global.get('v1.tancada'); // \nconst senyal_oberta = global.get('v1.oberta'); // \n\n// Dades d'entrada\nconst valor = msg.payload;\n\nif (senyal_tancada==0 && senyal_oberta == 0)  {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    global.set('v1.calculada.estat',0);\n    global.set('v1.calculada.descripcio','maniobra');\n    } else if (senyal_tancada==0 && senyal_oberta == 1){\n    global.set('v1.calculada.estat',1);\n    global.set('v1.calculada.descripcio','oberta');\n} else if (senyal_tancada==1 && senyal_oberta == 0){\n    global.set('v1.calculada.estat',2);\n    global.set('v1.calculada.descripcio','tancada');\n} else if (senyal_tancada==1 && senyal_oberta == 1){\n    global.set('v1.calculada.estat',3);\n    global.set('v1.calculada.descripcio','error');\n}\n\n// Estat 0: Vàlvula tancada\n// Estat 1: Vàlvula oberta\n// Estat 2: Maniobra (ni oberta ni tancada)\n// Estat 3: Error (oberta i tancada alhora, incoherent)\n\n\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 620,
        "wires": [
            [
                "aaea6cfddbd97537"
            ]
        ]
    },
    {
        "id": "99c0e5d640425758",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 620,
        "wires": [
            [
                "16648fdf05d5f8c9"
            ]
        ]
    },
    {
        "id": "aaea6cfddbd97537",
        "type": "debug",
        "z": "3c26247f8ee91864",
        "name": "debug 183",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 680,
        "y": 620,
        "wires": []
    },
    {
        "id": "c09d491e93b4447c",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1320,
        "wires": [
            [
                "8d71f3a996c41d6b"
            ]
        ]
    },
    {
        "id": "0771ee6d8238563a",
        "type": "debug",
        "z": "3c26247f8ee91864",
        "name": "debug 184",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 1320,
        "wires": []
    },
    {
        "id": "8d71f3a996c41d6b",
        "type": "function",
        "z": "3c26247f8ee91864",
        "name": "ESTAT VALVULVA 2",
        "func": "\n// VARIABLES\nconst senyal_tancada = global.get('v2.tancada'); // \nconst senyal_oberta = global.get('v2.oberta'); // \n\n// Dades d'entrada\nconst valor = msg.payload;\n\nif (senyal_tancada==0 && senyal_oberta == 0)  {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    global.set('v2.calculada.estat',0);\n    global.set('v2.calculada.descripcio','maniobra');\n} else if (senyal_tancada==0 && senyal_oberta == 1){\n    global.set('v2.calculada.estat',1);\n    global.set('v2.calculada.descripcio','oberta');\n} else if (senyal_tancada==1 && senyal_oberta == 0){\n    global.set('v2.calculada.estat',2);\n    global.set('v2.calculada.descripcio','tancada');\n} else if (senyal_tancada==1 && senyal_oberta == 1){\n    global.set('v2.calculada.estat',3);\n    global.set('v2.calculada.descripcio','error');\n}\n\n// Estat 0: Vàlvula tancada\n// Estat 1: Vàlvula oberta\n// Estat 2: Maniobra (ni oberta ni tancada)\n// Estat 3: Error (oberta i tancada alhora, incoherent)\n\n\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 1320,
        "wires": [
            [
                "0771ee6d8238563a"
            ]
        ]
    },
    {
        "id": "60c1178ab2e8fc23",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1680,
        "wires": [
            [
                "bfd6f6f4318e058f"
            ]
        ]
    },
    {
        "id": "93df2c4712165207",
        "type": "debug",
        "z": "3c26247f8ee91864",
        "name": "debug 214",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 1680,
        "wires": []
    },
    {
        "id": "bfd6f6f4318e058f",
        "type": "function",
        "z": "3c26247f8ee91864",
        "name": "ESTAT VALVULVA 3",
        "func": "\n// VARIABLES\nconst senyal_tancada = global.get('v3.tancada'); // \nconst senyal_oberta = global.get('v3.oberta'); // \n\n// Dades d'entrada\nconst valor = msg.payload;\n\nif (senyal_tancada==0 && senyal_oberta == 0)  {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    global.set('v3.calculada.estat',0);\n    global.set('v3.calculada.descripcio','maniobra');\n} else if (senyal_tancada==0 && senyal_oberta == 1){\n    global.set('v3.calculada.estat',1);\n    global.set('v3.calculada.descripcio','oberta');\n} else if (senyal_tancada==1 && senyal_oberta == 0){\n    global.set('v3.calculada.estat',2);\n    global.set('v3.calculada.descripcio','tancada');\n} else if (senyal_tancada==1 && senyal_oberta == 1){\n    global.set('v3.calculada.estat',3);\n    global.set('v3.calculada.descripcio','error');\n}\n\n// Estat 0: Vàlvula tancada\n// Estat 1: Vàlvula oberta\n// Estat 2: Maniobra (ni oberta ni tancada)\n// Estat 3: Error (oberta i tancada alhora, incoherent)\n\n\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 1680,
        "wires": [
            [
                "93df2c4712165207"
            ]
        ]
    },
    {
        "id": "c4bd9070c5fc2674",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "g": "84a6903f779e9ea1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "10",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1800,
        "wires": [
            [
                "744fcad135ee881c"
            ]
        ]
    },
    {
        "id": "744fcad135ee881c",
        "type": "function",
        "z": "3c26247f8ee91864",
        "g": "84a6903f779e9ea1",
        "name": "CALCULAR MIN",
        "func": "let now = new Date();\nlet hour = now.getHours();  // Devuelve la hora actual (0 a 23)\n\nif (hour >= 0 && hour < 6) {\n    let cabal6 = global.get(\"cabal6\");\n    if (cabal6.inst < cabal6.min) {\n        cabal6.min = cabal6.inst;\n        cabal6.minTime=Date.now();\n    }\n    global.set(\"cabal6.min\", cabal6.min);\n    global.set(\"cabal6.minTime\", cabal6.minTime);\n\n    let cabal7 = global.get(\"cabal7\");\n    if (cabal7.inst < cabal7.min) {\n        cabal7.min = cabal7.inst;\n        cabal7.minTime=Date.now();\n    }\n    global.set(\"cabal7.min\", cabal7.min);\n    global.set(\"cabal7.minTime\", cabal7.minTime);\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 1800,
        "wires": [
            [
                "2f9d23d9e3b0b585"
            ]
        ]
    },
    {
        "id": "4e0d9e64da94fdfa",
        "type": "inject",
        "z": "3c26247f8ee91864",
        "g": "84a6903f779e9ea1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "59 23 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1760,
        "wires": [
            [
                "d4700e7409dbca9b"
            ]
        ]
    },
    {
        "id": "d4700e7409dbca9b",
        "type": "function",
        "z": "3c26247f8ee91864",
        "g": "84a6903f779e9ea1",
        "name": "SET MIN",
        "func": "let cabal6 = global.get(\"cabal6\");\ncabal6.min=Number.MAX_SAFE_INTEGER\ncabal6.minTime=Date.now();\nlet cabal7 = global.get(\"cabal7\");\ncabal7.min=Number.MAX_SAFE_INTEGER\ncabal7.minTime = Date.now();\nglobal.set(\"cabal6.min\", cabal6.min);\nglobal.set(\"cabal7.min\", cabal7.min);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 1760,
        "wires": [
            []
        ]
    },
    {
        "id": "2f9d23d9e3b0b585",
        "type": "debug",
        "z": "3c26247f8ee91864",
        "g": "84a6903f779e9ea1",
        "name": "debug 222",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 730,
        "y": 1800,
        "wires": []
    },
    {
        "id": "1d32c84f25e533ef",
        "type": "trigger",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "2min",
        "op1": "",
        "op2": "1",
        "op1type": "nul",
        "op2type": "num",
        "duration": "2",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "reset",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 830,
        "y": 700,
        "wires": [
            [
                "4b70335b9f5efaee"
            ]
        ]
    },
    {
        "id": "f87e8390cac7e026",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "rset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "x": 725,
        "y": 720,
        "wires": [
            [
                "1d32c84f25e533ef"
            ]
        ],
        "l": false
    },
    {
        "id": "224c616ce599e5a1",
        "type": "trigger",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "2min",
        "op1": "",
        "op2": "1",
        "op1type": "nul",
        "op2type": "num",
        "duration": "2",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "reset",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 830,
        "y": 120,
        "wires": [
            [
                "81d3d231c1e8cd77"
            ]
        ]
    },
    {
        "id": "e07f50dc6583fb33",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "90c4fdba66880276",
        "name": "rset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "x": 735,
        "y": 120,
        "wires": [
            [
                "224c616ce599e5a1"
            ]
        ],
        "l": false
    },
    {
        "id": "2624d0c06bdc5fb2",
        "type": "trigger",
        "z": "3c26247f8ee91864",
        "g": "40fb0868d67c7eed",
        "name": "10min",
        "op1": "",
        "op2": "1",
        "op1type": "nul",
        "op2type": "num",
        "duration": "10",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "reset",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 710,
        "y": 380,
        "wires": [
            [
                "21e345c690a3854e"
            ]
        ]
    },
    {
        "id": "79d3af4b005980fb",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "40fb0868d67c7eed",
        "name": "rset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "x": 625,
        "y": 360,
        "wires": [
            [
                "2624d0c06bdc5fb2"
            ]
        ],
        "l": false
    },
    {
        "id": "28cdfd24d3474583",
        "type": "trigger",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "2min",
        "op1": "",
        "op2": "1",
        "op1type": "nul",
        "op2type": "num",
        "duration": "2",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "reset",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 810,
        "y": 800,
        "wires": [
            [
                "4b70335b9f5efaee"
            ]
        ]
    },
    {
        "id": "9ffd663a07f84e6d",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "rset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "x": 725,
        "y": 780,
        "wires": [
            [
                "28cdfd24d3474583"
            ]
        ],
        "l": false
    },
    {
        "id": "30d6ba1b19ad52a5",
        "type": "switch",
        "z": "3c26247f8ee91864",
        "g": "265da229b703bf7c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 665,
        "y": 700,
        "wires": [
            [
                "4d9d870f35727bb7"
            ],
            [
                "f87e8390cac7e026"
            ]
        ],
        "l": false
    },
    {
        "id": "9ee8b2851af3e021",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "2c5994355f713f28",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 625,
        "y": 1020,
        "wires": [
            [
                "03cb73cfa591bbee"
            ]
        ],
        "l": false
    },
    {
        "id": "8e291a4b8b005d8c",
        "type": "trigger",
        "z": "3c26247f8ee91864",
        "g": "2c5994355f713f28",
        "name": "10min",
        "op1": "",
        "op2": "1",
        "op1type": "nul",
        "op2type": "num",
        "duration": "10",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "reset",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 710,
        "y": 1080,
        "wires": [
            [
                "03cb73cfa591bbee"
            ]
        ]
    },
    {
        "id": "487b3ed24b56095f",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "2c5994355f713f28",
        "name": "rset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "x": 625,
        "y": 1060,
        "wires": [
            [
                "8e291a4b8b005d8c"
            ]
        ],
        "l": false
    },
    {
        "id": "fe389155fb66cacf",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "2c5994355f713f28",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 625,
        "y": 1140,
        "wires": [
            [
                "2c37fee2c806e4c6"
            ]
        ],
        "l": false
    },
    {
        "id": "9f8a60b0d968fd95",
        "type": "trigger",
        "z": "3c26247f8ee91864",
        "g": "2c5994355f713f28",
        "name": "10min",
        "op1": "",
        "op2": "1",
        "op1type": "nul",
        "op2type": "num",
        "duration": "10",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "reset",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 710,
        "y": 1200,
        "wires": [
            [
                "2c37fee2c806e4c6"
            ]
        ]
    },
    {
        "id": "890b809c15332987",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "2c5994355f713f28",
        "name": "rset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "x": 625,
        "y": 1180,
        "wires": [
            [
                "9f8a60b0d968fd95"
            ]
        ],
        "l": false
    },
    {
        "id": "3394e1c47bcc396d",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "40fb0868d67c7eed",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 625,
        "y": 460,
        "wires": [
            [
                "56c190f6845845d6"
            ]
        ],
        "l": false
    },
    {
        "id": "b809cc3e7079c054",
        "type": "trigger",
        "z": "3c26247f8ee91864",
        "g": "40fb0868d67c7eed",
        "name": "10min",
        "op1": "",
        "op2": "1",
        "op1type": "nul",
        "op2type": "num",
        "duration": "10",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "reset",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 710,
        "y": 520,
        "wires": [
            [
                "56c190f6845845d6"
            ]
        ]
    },
    {
        "id": "bd6d09542a81cfa0",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "40fb0868d67c7eed",
        "name": "rset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "x": 625,
        "y": 500,
        "wires": [
            [
                "b809cc3e7079c054"
            ]
        ],
        "l": false
    },
    {
        "id": "6bbf0ee0201d3e31",
        "type": "trigger",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "2min",
        "op1": "",
        "op2": "1",
        "op1type": "nul",
        "op2type": "num",
        "duration": "2",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "reset",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 830,
        "y": 1460,
        "wires": [
            [
                "4f185b3172eb538c"
            ]
        ]
    },
    {
        "id": "c488d6b41052dc34",
        "type": "change",
        "z": "3c26247f8ee91864",
        "g": "2e276e924096040c",
        "name": "rset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "x": 735,
        "y": 1460,
        "wires": [
            [
                "6bbf0ee0201d3e31"
            ]
        ],
        "l": false
    },
    {
        "id": "c8e5256f53247cd8",
        "type": "rpiplc-digital-write",
        "z": "ef7a0ef305dd237e",
        "g": "8d85dfe2ba06b248",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "Q0.0",
        "value": "",
        "name": "reserva",
        "x": 460,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "1fd0653b9084dabe",
        "type": "rpiplc-digital-write",
        "z": "ef7a0ef305dd237e",
        "g": "8d85dfe2ba06b248",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "Q0.1",
        "value": "",
        "name": "Com. dosificadora pre",
        "x": 500,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "46826c015d39b932",
        "type": "rpiplc-digital-write",
        "z": "ef7a0ef305dd237e",
        "g": "8d85dfe2ba06b248",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "Q0.2",
        "value": "",
        "name": "reserva",
        "x": 460,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "cb4d00e0cd32d6a5",
        "type": "rpiplc-digital-write",
        "z": "ef7a0ef305dd237e",
        "g": "8d85dfe2ba06b248",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "Q0.3",
        "value": "",
        "name": "Com. dosificadora post",
        "x": 500,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "f8b180d5673e9f5e",
        "type": "rpiplc-digital-write",
        "z": "ef7a0ef305dd237e",
        "g": "8d85dfe2ba06b248",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "Q0.4",
        "value": "",
        "name": "Com. dosificadora acid",
        "x": 500,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "6298ba6219eea5e7",
        "type": "rpiplc-digital-write",
        "z": "ef7a0ef305dd237e",
        "g": "8d85dfe2ba06b248",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "Q0.5",
        "value": "",
        "name": "Comandament b.filtre sorra",
        "x": 520,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "2552f743350cb4a5",
        "type": "rpiplc-digital-write",
        "z": "ef7a0ef305dd237e",
        "g": "8d85dfe2ba06b248",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "Q0.6",
        "value": "",
        "name": "Com. obrir valvula Cal Esteve Dip. petit",
        "x": 550,
        "y": 360,
        "wires": [
            [
                "a0b98b3b491d7728"
            ]
        ]
    },
    {
        "id": "53b737ac84109d26",
        "type": "rpiplc-digital-write",
        "z": "ef7a0ef305dd237e",
        "g": "8d85dfe2ba06b248",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "Q0.7",
        "value": "",
        "name": "Com. obrir valvula Cal Esteve Dip. gran",
        "x": 560,
        "y": 400,
        "wires": [
            [
                "8645ac779c625b07"
            ]
        ]
    },
    {
        "id": "571d619347f63776",
        "type": "rpiplc-digital-write",
        "z": "ef7a0ef305dd237e",
        "g": "571e4c9a782e5a6e",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "Q1.0",
        "value": "",
        "name": "Com. obrir valvula bypass",
        "x": 510,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "cc34bd6a52a5158e",
        "type": "rpiplc-digital-write",
        "z": "ef7a0ef305dd237e",
        "g": "571e4c9a782e5a6e",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "Q1.1",
        "value": "",
        "name": "Com. bomba Gronxadors (reserva)",
        "x": 540,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "e3aa986b559cfd12",
        "type": "inject",
        "z": "ef7a0ef305dd237e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "d2.comand",
        "payloadType": "global",
        "x": 190,
        "y": 240,
        "wires": [
            [
                "cb4d00e0cd32d6a5"
            ]
        ]
    },
    {
        "id": "2fdedc5c566f29d7",
        "type": "inject",
        "z": "ef7a0ef305dd237e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "d1.comand",
        "payloadType": "global",
        "x": 190,
        "y": 160,
        "wires": [
            [
                "1fd0653b9084dabe"
            ]
        ]
    },
    {
        "id": "dd530ce857ce2ff8",
        "type": "inject",
        "z": "ef7a0ef305dd237e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "d3.comand",
        "payloadType": "global",
        "x": 190,
        "y": 280,
        "wires": [
            [
                "f8b180d5673e9f5e"
            ]
        ]
    },
    {
        "id": "27bee515c8b1c476",
        "type": "inject",
        "z": "ef7a0ef305dd237e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "b1.comand",
        "payloadType": "global",
        "x": 190,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "99f7e5793c3c208b",
        "type": "inject",
        "z": "ef7a0ef305dd237e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "v1.comand",
        "payloadType": "global",
        "x": 190,
        "y": 360,
        "wires": [
            [
                "2552f743350cb4a5"
            ]
        ]
    },
    {
        "id": "0e71f8209b0742a0",
        "type": "inject",
        "z": "ef7a0ef305dd237e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "v2.comand",
        "payloadType": "global",
        "x": 190,
        "y": 400,
        "wires": [
            [
                "53b737ac84109d26"
            ]
        ]
    },
    {
        "id": "9c6f818720c8d1a2",
        "type": "inject",
        "z": "ef7a0ef305dd237e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "v3.comand",
        "payloadType": "global",
        "x": 190,
        "y": 500,
        "wires": [
            [
                "571d619347f63776"
            ]
        ]
    },
    {
        "id": "2a767d0b9b1344b3",
        "type": "inject",
        "z": "ef7a0ef305dd237e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "intrusio.acusticqe",
        "payloadType": "global",
        "x": 210,
        "y": 580,
        "wires": [
            [
                "3ce168dec0734a7b"
            ]
        ]
    },
    {
        "id": "3ce168dec0734a7b",
        "type": "rpiplc-digital-write",
        "z": "ef7a0ef305dd237e",
        "g": "571e4c9a782e5a6e",
        "rpiplc": "0fb89c37278c5b07",
        "pin": "Q1.2",
        "value": "",
        "name": "Brunzidor QE",
        "x": 480,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "a0b98b3b491d7728",
        "type": "debug",
        "z": "ef7a0ef305dd237e",
        "g": "8d85dfe2ba06b248",
        "name": "debug 218",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 900,
        "y": 360,
        "wires": []
    },
    {
        "id": "8645ac779c625b07",
        "type": "debug",
        "z": "ef7a0ef305dd237e",
        "g": "8d85dfe2ba06b248",
        "name": "debug 219",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 840,
        "y": 400,
        "wires": []
    },
    {
        "id": "cc72850f6f3752bd",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "d": true,
        "g": "9f9cc9de8822527d",
        "name": "Cabal instantani arderiu",
        "topic": "EA 1",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "3",
        "dataType": "InputRegister",
        "adr": "8208",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "43.4536",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 200,
        "y": 2520,
        "wires": [
            [
                "aeafb92202bb68c2",
                "c671ec7f6f5a66dc"
            ],
            []
        ]
    },
    {
        "id": "4f52e74b53f842af",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "d": true,
        "g": "9f9cc9de8822527d",
        "name": "Cabal instantani can felix poble",
        "topic": "EA 2",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "3",
        "dataType": "InputRegister",
        "adr": "8207",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "44.453",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 230,
        "y": 2580,
        "wires": [
            [
                "eef78d4a289849c7"
            ],
            []
        ]
    },
    {
        "id": "aeafb92202bb68c2",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "cabal6.ea",
        "rules": [
            {
                "t": "set",
                "p": "cabal6.ea",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 2520,
        "wires": [
            [
                "e90cc7aa96138aae"
            ]
        ]
    },
    {
        "id": "eef78d4a289849c7",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "cabal7.ea",
        "rules": [
            {
                "t": "set",
                "p": "cabal7.ea",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 2580,
        "wires": [
            [
                "c00560783c1ac154"
            ]
        ]
    },
    {
        "id": "5f99e5cadd934fca",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "UMF3 correcte",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "3",
        "dataType": "InputRegister",
        "adr": "8192",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "25.32",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": true,
        "x": 180,
        "y": 1720,
        "wires": [
            [
                "3b1808607f93cd87",
                "8a9b5e92e21f936d"
            ],
            []
        ]
    },
    {
        "id": "dc193b3db33837fe",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Tarja ok o no",
        "func": "// si la lectura es 5 la tarja està correcte\nlet lectura = msg.payload[0];\n\nif (lectura == 5) {\n    msg = 1;\n} else {\n    msg = 0;\n}\n\n\n// Guardar el valor combinado como entero en el contexto global\nglobal.set('plc.tarja3', msg);",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 1720,
        "wires": [
            [
                "007e9eca7c051f6f"
            ]
        ]
    },
    {
        "id": "e90cc7aa96138aae",
        "type": "range",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "minin": "0",
        "maxin": "32767",
        "minout": "0",
        "maxout": "20",
        "action": "clamp",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 590,
        "y": 2520,
        "wires": [
            [
                "d3094fccfbc53052",
                "0a5349007eb45e97"
            ]
        ]
    },
    {
        "id": "c00560783c1ac154",
        "type": "range",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "minin": "0",
        "maxin": "32767",
        "minout": "0",
        "maxout": "50",
        "action": "clamp",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 590,
        "y": 2580,
        "wires": [
            [
                "6e5fc8d172280392"
            ]
        ]
    },
    {
        "id": "94f3684763b1c83a",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Instantani cabal rentat filtre sorra",
        "func": "// Obtener el valor de litros por impulso desde la variable global\nlet L_imp = global.get('cabal4.limp'); \n\n// Obtener los valores del array del payload\nlet period = flow.get('ed14.period');\nlet puls = flow.get('ed14.puls');\nlet cperiod = msg.payload;\n\n// Inicializar la variable aux\nlet aux = 0;\n\n// Cálculo de caudal instantáneo\nif (cperiod > 1 && cperiod < 15000) {\n    aux = (puls * 18000) / period;\n}\n\n\nlet cabal = aux * L_imp/100;\n\n// Redondear el valor a un decimal\nlet roundedValue = parseFloat(cabal.toFixed(1));\n\n// Guardar el valor combinado como entero en el contexto global\nglobal.set('cabal4.inst', roundedValue);\n\n// Devolver el mensaje con el caudal instantáneo\nmsg.payload = {\n    period: period,\n    puls: puls,\n    cperiod: cperiod,\n    cabal: roundedValue\n};\n\n// Devolver el mensaje\nreturn msg;\n\n\n\n\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 920,
        "wires": [
            [
                "d14fdba1d1d63003"
            ]
        ]
    },
    {
        "id": "d14fdba1d1d63003",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "debug 133",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 920,
        "wires": []
    },
    {
        "id": "f9168b180ea0e4f2",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Period ED0",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "1",
        "dataType": "InputRegister",
        "adr": "8223",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "13.13353",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 170,
        "y": 800,
        "wires": [
            [
                "bf7cb4835af53658"
            ],
            []
        ]
    },
    {
        "id": "98cb96487bd3fecf",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "UMF1 correcte",
        "topic": "t1ok",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "InputRegister",
        "adr": "8192",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "1.115",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": true,
        "x": 180,
        "y": 360,
        "wires": [
            [
                "9db8e882d2804c5d",
                "f56cdcbc9051046d"
            ],
            []
        ]
    },
    {
        "id": "32de1f20250e2833",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Tarja ok o no",
        "func": "// si la lectura es 5 la tarja està correcte\nlet lectura = msg.payload[0];\n\nif (lectura == 5) {\n    msg = 1;\n} else {\n    msg = 0;\n}\n\n\n// Guardar el valor combinado como entero en el contexto global\nglobal.set('plc.tarja1', msg);\n\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 380,
        "wires": [
            [
                "6f6046769b6253d4"
            ]
        ]
    },
    {
        "id": "faa316e39b736737",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Clor pre diposit petit",
        "topic": "EA 1",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "InputRegister",
        "adr": "8208",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "16.116",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 190,
        "y": 980,
        "wires": [
            [
                "9a3aaf18a5bd0e1d"
            ],
            []
        ]
    },
    {
        "id": "8ad0e9fba9c0fd5f",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Terbolesa",
        "topic": "EA 2",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "InputRegister",
        "adr": "8207",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "17.117",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 160,
        "y": 1040,
        "wires": [
            [
                "92e44a03050101bc"
            ],
            []
        ]
    },
    {
        "id": "c999d4ca421f7cfc",
        "type": "modbus-write",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Proporcional valvula entrada diposit nou",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "8211",
        "quantity": "1",
        "server": "6975f089b473afa8",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 520,
        "y": 1100,
        "wires": [
            [
                "1cad5cfa0c91e91e"
            ],
            []
        ]
    },
    {
        "id": "04caea1045385af9",
        "type": "modbus-write",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Proporcional dosificadora acid",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "8212",
        "quantity": "1",
        "server": "6975f089b473afa8",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 490,
        "y": 1180,
        "wires": [
            [
                "4e2fc1a3ccb14648"
            ],
            []
        ]
    },
    {
        "id": "9a3aaf18a5bd0e1d",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "analitzador1.ea",
        "rules": [
            {
                "t": "set",
                "p": "analitzador1.ea",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 980,
        "wires": [
            [
                "1919ec360abdb14a"
            ]
        ]
    },
    {
        "id": "92e44a03050101bc",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "analitzador3.ea",
        "rules": [
            {
                "t": "set",
                "p": "analitzador3.ea",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 1040,
        "wires": [
            [
                "b4eb1fe4239d28f1"
            ]
        ]
    },
    {
        "id": "1919ec360abdb14a",
        "type": "range",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "minin": "0",
        "maxin": "32767",
        "minout": "0",
        "maxout": "2",
        "action": "clamp",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 610,
        "y": 980,
        "wires": [
            [
                "f18f1bd64de377e9"
            ]
        ]
    },
    {
        "id": "b4eb1fe4239d28f1",
        "type": "range",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "minin": "0",
        "maxin": "32767",
        "minout": "0",
        "maxout": "10",
        "action": "clamp",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 610,
        "y": 1040,
        "wires": [
            [
                "acf95e42e5160214"
            ]
        ]
    },
    {
        "id": "3c3a9797cc9c9122",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "debug 138",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1270,
        "y": 980,
        "wires": []
    },
    {
        "id": "01cda01328f69de6",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "debug 139",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1270,
        "y": 1040,
        "wires": []
    },
    {
        "id": "14af1dccbfc83bbd",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "E0, 1, 2, 3 i 4",
        "topic": "acid",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "2",
        "dataType": "Coil",
        "adr": "0",
        "quantity": "5",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "21.678",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 170,
        "y": 1440,
        "wires": [
            [
                "0fc17e6f705cf533"
            ],
            []
        ]
    },
    {
        "id": "a99632b53d2e59c0",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "Cabal instantani entrada dip. nou",
        "topic": "cabalin_dipnou",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "2",
        "dataType": "InputRegister",
        "adr": "8208",
        "quantity": "1",
        "rate": "30",
        "rateUnit": "s",
        "delayOnStart": true,
        "startDelayTime": "22.4332",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 230,
        "y": 1500,
        "wires": [
            [
                "8bef82416b8800c5"
            ],
            []
        ]
    },
    {
        "id": "b2c8a990a1d7425d",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "Cabal instantani  bypass",
        "topic": "cabal_bypass",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "2",
        "dataType": "InputRegister",
        "adr": "8207",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "23.8221",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 200,
        "y": 1560,
        "wires": [
            [
                "61bfc6b3f0c18d37"
            ],
            []
        ]
    },
    {
        "id": "4848c4f2213139fc",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "UMF2 correcte",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "2",
        "dataType": "InputRegister",
        "adr": "8192",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "20.123",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": true,
        "x": 180,
        "y": 1360,
        "wires": [
            [
                "3535709e173e08aa",
                "82b3d86d8065e8d0"
            ],
            []
        ]
    },
    {
        "id": "c406e9ce7f02a1f6",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "Tarja ok o no",
        "func": "// si la lectura es 5 la tarja està correcte\nlet lectura = msg.payload[0];\n\nif (lectura == 5) {\n    msg = 1;\n} else {\n    msg = 0;\n}\n\n\n// Guardar el valor combinado como entero en el contexto global\nglobal.set('plc.tarja2', msg);\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 1360,
        "wires": [
            [
                "ee7acd1f498b0c54"
            ]
        ]
    },
    {
        "id": "a936e1cf0b51043e",
        "type": "range",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "minin": "0",
        "maxin": "32767",
        "minout": "0",
        "maxout": "50",
        "action": "roll",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 570,
        "y": 1500,
        "wires": [
            [
                "4c4c1e8d9d935386"
            ]
        ]
    },
    {
        "id": "45d4bdb60859fe3f",
        "type": "range",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "minin": "0",
        "maxin": "32767",
        "minout": "0",
        "maxout": "30",
        "action": "roll",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 570,
        "y": 1560,
        "wires": [
            [
                "af99dee93aebaf60"
            ]
        ]
    },
    {
        "id": "0fc17e6f705cf533",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "Entrades digitals UMF2",
        "func": "// Obtener los valores de word1 y word2 del array del payload\nlet ed0 = msg.payload[0];\nlet ed1 = msg.payload[1];\nlet ed2 = msg.payload[2];\nlet ed3 = msg.payload[3];\nlet ed4 = msg.payload[4];\n\n// Convertir de booleanos a 0 o 1\ned0 = ed0 ? 1 : 0;\ned1 = ed1 ? 1 : 0;\ned2 = ed2 ? 1 : 0;\ned3 = ed3 ? 1 : 0;\ned4 = ed4 ? 1 : 0;\n\n// Guardar el valor combinado y el volumen total en el contexto global\nglobal.set('b1.selector', ed0);\nglobal.set('v3.selector', ed1);\nglobal.set('v2.selector', ed2);\nglobal.set('v1.selector', ed3);\nglobal.set('d3.selector', ed4);\n\n// También puedes devolver el mensaje si lo necesitas\nmsg.payload = {\n    dosifacid: ed0,\n    valvdippetit: ed1,\n    valvdipgran: ed2,\n    valvbypass: ed3,\n    bombfiltresorra: ed4\n};\n\nreturn msg",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 1440,
        "wires": [
            [
                "c83c22f651029e6a"
            ]
        ]
    },
    {
        "id": "cd847ac34958f124",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "debug 142",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1070,
        "y": 1560,
        "wires": []
    },
    {
        "id": "2d895c362130e849",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "c45707e804209f80",
        "name": "pHA",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "4",
        "dataType": "InputRegister",
        "adr": "4358",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "3",
        "server": "129adc3430aeda3b",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 150,
        "y": 2860,
        "wires": [
            [
                "07d0f684c73b006b"
            ],
            []
        ],
        "outputLabels": [
            "1",
            "2"
        ]
    },
    {
        "id": "749a2cce34a16d74",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "c45707e804209f80",
        "name": "pHB",
        "topic": "pH",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "4",
        "dataType": "InputRegister",
        "adr": "4359",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "4",
        "server": "129adc3430aeda3b",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 150,
        "y": 2920,
        "wires": [
            [
                "f8afea510f09371f"
            ],
            []
        ],
        "outputLabels": [
            "1",
            "2"
        ]
    },
    {
        "id": "55f57ee6678e4303",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "c45707e804209f80",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "clor.baix",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 2800,
        "wires": [
            [
                "f0e76529169db28f"
            ]
        ]
    },
    {
        "id": "96ada0a568f14d20",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "c45707e804209f80",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "clor.alt",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 2740,
        "wires": [
            []
        ]
    },
    {
        "id": "bf6fd7c055d2fced",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "c45707e804209f80",
        "name": "clorA",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "4",
        "dataType": "InputRegister",
        "adr": "4614",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "1",
        "server": "129adc3430aeda3b",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": true,
        "x": 150,
        "y": 2720,
        "wires": [
            [
                "96ada0a568f14d20",
                "c5f0d1d885355364"
            ],
            []
        ],
        "outputLabels": [
            "1",
            "2"
        ]
    },
    {
        "id": "f8afea510f09371f",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "c45707e804209f80",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "pH.baix",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 2920,
        "wires": [
            [
                "2b0a8df684974e30"
            ]
        ]
    },
    {
        "id": "07d0f684c73b006b",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "c45707e804209f80",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "pH.alt",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 2860,
        "wires": [
            []
        ]
    },
    {
        "id": "5d0833a2c377bed1",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "c45707e804209f80",
        "name": "clorB",
        "topic": "clor",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "4",
        "dataType": "InputRegister",
        "adr": "4615",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "2",
        "server": "129adc3430aeda3b",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 150,
        "y": 2800,
        "wires": [
            [
                "55f57ee6678e4303"
            ],
            []
        ],
        "outputLabels": [
            "1",
            "2"
        ]
    },
    {
        "id": "2b0a8df684974e30",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "c45707e804209f80",
        "name": "Convertir a Float",
        "func": "// Obtener los valores de word1 y word2 del array del payload\nlet word1 = flow.get('pH.alt');\nlet word2 = msg.payload;\n\n// Combinar los dos words en un solo entero de 32 bits\nlet combined = (word1 << 16) | word2;\n\n// Crear un buffer para los bytes combinados\nlet buffer = Buffer.alloc(4);\nbuffer.writeUInt32BE(combined, 0);\n\n// Leer el valor de punto flotante del buffer\nlet floatValue = buffer.readFloatBE(0);\n\n// Redondear el valor flotante a tres decimales\nfloatValue = parseFloat(floatValue.toFixed(1));\n\n// Obtener la fecha del contexto global\nglobal.set('analitzador2.ph', floatValue);\n\n// Crear el nuevo payload con los valores deseados\nmsg.payload = {\n    Valor: floatValue\n};\n\n// Devolver el mensaje\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 2920,
        "wires": [
            [
                "ae62d11f90ef6956"
            ]
        ]
    },
    {
        "id": "f0e76529169db28f",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "c45707e804209f80",
        "name": "Convertir a Float",
        "func": "// Obtener los valores de word1 y word2 del array del payload\nlet word1 = flow.get('clor.alt');\nlet word2 = msg.payload;\n\n// Combinar los dos words en un solo entero de 32 bits\nlet combined = (word1 << 16) | word2;\n\n// Crear un buffer para los bytes combinados\nlet buffer = Buffer.alloc(4);\nbuffer.writeUInt32BE(combined, 0);\n\n// Leer el valor de punto flotante del buffer\nlet floatValue = buffer.readFloatBE(0);\n\n// Redondear el valor flotante a tres decimales\nfloatValue = parseFloat(floatValue.toFixed(3));\n\n// Obtener la fecha del contexto global\nglobal.set('analitzador2.clor', floatValue);\n\n// Crear el nuevo payload con los valores deseados\nmsg.payload = {\n    Valor: floatValue\n};\n\n// Devolver el mensaje\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 2800,
        "wires": [
            [
                "d27483b2591442a5"
            ]
        ]
    },
    {
        "id": "d27483b2591442a5",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "c45707e804209f80",
        "name": "debug 143",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 2800,
        "wires": []
    },
    {
        "id": "ae62d11f90ef6956",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "c45707e804209f80",
        "name": "debug 144",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 2920,
        "wires": []
    },
    {
        "id": "ee7acd1f498b0c54",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "debug 146",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 1360,
        "wires": []
    },
    {
        "id": "007e9eca7c051f6f",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "debug 149",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 1720,
        "wires": []
    },
    {
        "id": "3ed18510a3c8d0d9",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Entrades digitals UMF3",
        "func": "// Obtener los valores de word1 y word2 del array del payload\nlet ed1 = msg.payload[1];\nlet ed2 = msg.payload[2];\nlet ed3 = msg.payload[3];\n\n// Convertir de booleanos a 0 o 1\ned1 = ed1 ? 1 : 0;\ned2 = ed2 ? 1 : 0;\ned3 = ed3 ? 1 : 0;\n\n// Guardar el valor combinado y el volumen total en el contexto global\nglobal.set('filtre.marxa', ed1);\nglobal.set('filtre.pres', ed2);\nglobal.set('b1.marxa', ed3);\n\n// También puedes devolver el mensaje si lo necesitas\nmsg.payload = {\n    maniobrafiltre: ed1,\n    pressostatfiltre: ed2,\n    bomba1filtre: ed3,\n};\n\nreturn msg\n\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 1800,
        "wires": [
            [
                "2069b573f4670348"
            ]
        ]
    },
    {
        "id": "2069b573f4670348",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "debug 156",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 1800,
        "wires": []
    },
    {
        "id": "814d5a4510c71a63",
        "type": "inject",
        "z": "fc4592acfe4a957a",
        "g": "1af84737a891cd02",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1000",
        "payloadType": "num",
        "x": 150,
        "y": 60,
        "wires": [
            [
                "439d3548645f3dfe"
            ]
        ]
    },
    {
        "id": "439d3548645f3dfe",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "1af84737a891cd02",
        "name": "L/imp Cabal diposit2 Cal Esteve",
        "rules": [
            {
                "t": "set",
                "p": "cabal3.limp",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "5b351e48f66d3302",
        "type": "inject",
        "z": "fc4592acfe4a957a",
        "g": "1af84737a891cd02",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "100",
        "payloadType": "num",
        "x": 150,
        "y": 100,
        "wires": [
            [
                "06171cb2d973ff23"
            ]
        ]
    },
    {
        "id": "06171cb2d973ff23",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "1af84737a891cd02",
        "name": "L/imp Cabal Arderiu i futbol",
        "rules": [
            {
                "t": "set",
                "p": "cabal6.limp",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "f2bbb34f0455641d",
        "type": "inject",
        "z": "fc4592acfe4a957a",
        "g": "1af84737a891cd02",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "100",
        "payloadType": "num",
        "x": 150,
        "y": 140,
        "wires": [
            [
                "9a8fbfe7bc1fc7b2"
            ]
        ]
    },
    {
        "id": "9a8fbfe7bc1fc7b2",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "1af84737a891cd02",
        "name": "L/imp Cabal Felix i poble",
        "rules": [
            {
                "t": "set",
                "p": "cabal7.limp",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "4e1290f183b868b3",
        "type": "inject",
        "z": "fc4592acfe4a957a",
        "g": "1af84737a891cd02",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1000",
        "payloadType": "num",
        "x": 150,
        "y": 180,
        "wires": [
            [
                "768a6305ab9d74dc"
            ]
        ]
    },
    {
        "id": "768a6305ab9d74dc",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "1af84737a891cd02",
        "name": "L/imp Cabal bypass",
        "rules": [
            {
                "t": "set",
                "p": "cabal5.limp",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "21e91e0ba475afdd",
        "type": "inject",
        "z": "fc4592acfe4a957a",
        "g": "1af84737a891cd02",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 570,
        "y": 60,
        "wires": [
            [
                "b0793a3d1866d1c6"
            ]
        ]
    },
    {
        "id": "b0793a3d1866d1c6",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "1af84737a891cd02",
        "name": "L/imp Cabal rentat filtres",
        "rules": [
            {
                "t": "set",
                "p": "cabal4.limp",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "d34a12912135cab5",
        "type": "inject",
        "z": "fc4592acfe4a957a",
        "g": "1af84737a891cd02",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10",
        "payloadType": "num",
        "x": 570,
        "y": 100,
        "wires": [
            [
                "1f8384fe6ed02526"
            ]
        ]
    },
    {
        "id": "1f8384fe6ed02526",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "1af84737a891cd02",
        "name": "L/imp Cabal diposit1 Cal Esteve",
        "rules": [
            {
                "t": "set",
                "p": "cabal2.limp",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "93cf34f05385c29f",
        "type": "inject",
        "z": "fc4592acfe4a957a",
        "g": "1af84737a891cd02",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10",
        "payloadType": "num",
        "x": 570,
        "y": 140,
        "wires": [
            [
                "2513aff14b06b452"
            ]
        ]
    },
    {
        "id": "2513aff14b06b452",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "1af84737a891cd02",
        "name": "L/imp Cabal Gronxadors",
        "rules": [
            {
                "t": "set",
                "p": "cabal1.limp",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "60e8fc448c532454",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Tensió alim quadre",
        "topic": "t1alim",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "InputRegister",
        "adr": "8205",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "2.124",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 190,
        "y": 440,
        "wires": [
            [
                "a892b90efe1866f4"
            ],
            []
        ]
    },
    {
        "id": "a892b90efe1866f4",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Convertir a Float",
        "func": "// Obtener los valores de word1 y word2 del array del payload\nlet combined = msg.payload;\n\n// Realizar el cálculo\nlet calcul = 30 * (combined / 32767);\n\n// Redondear el valor flotante a dos decimales\nlet floatValue = parseFloat(calcul.toFixed(2));\n\n// Guardar el valor combinado como flotante en el contexto global\nglobal.set('plc.talim', floatValue);\n\n// Crear el nuevo payload con los valores deseados\nmsg.payload = {\n    Valor: floatValue\n};\n\n// Devolver el mensaje\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 440,
        "wires": [
            [
                "0cfb0f567d1a8920"
            ]
        ]
    },
    {
        "id": "d77934f20cae1061",
        "type": "inject",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "20 mA",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "32767",
        "payloadType": "num",
        "x": 150,
        "y": 1220,
        "wires": [
            [
                "04caea1045385af9"
            ]
        ]
    },
    {
        "id": "ce6eabe2a6765311",
        "type": "inject",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "4 mA",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "100",
        "payloadType": "num",
        "x": 150,
        "y": 1180,
        "wires": [
            [
                "04caea1045385af9"
            ]
        ]
    },
    {
        "id": "2fcdf6e11422de48",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "debug 162",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1070,
        "y": 1500,
        "wires": []
    },
    {
        "id": "c83c22f651029e6a",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "debug 164",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 1440,
        "wires": []
    },
    {
        "id": "a18fc374aa452ba7",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Totalitzadors ED0",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "1",
        "dataType": "InputRegister",
        "adr": "8213",
        "quantity": "2",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "3.132",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 180,
        "y": 500,
        "wires": [
            [
                "0d28c250e46f07f1"
            ],
            []
        ]
    },
    {
        "id": "77fd90961e9582de",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Totalitzadors ED1",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "1",
        "dataType": "InputRegister",
        "adr": "8215",
        "quantity": "2",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "5.154",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 180,
        "y": 560,
        "wires": [
            [
                "c75fe7a88f872952"
            ],
            []
        ]
    },
    {
        "id": "5398652ff646ee52",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Totalitzadors ED2",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "1",
        "dataType": "InputRegister",
        "adr": "8217",
        "quantity": "2",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "7.1744",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 180,
        "y": 620,
        "wires": [
            [
                "3a4f3966dc568f33"
            ],
            []
        ]
    },
    {
        "id": "0825d9b1aeb256f0",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Totalitzadors ED3",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "1",
        "dataType": "InputRegister",
        "adr": "8219",
        "quantity": "2",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "9.1956",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 180,
        "y": 680,
        "wires": [
            [
                "4dc731cac0fd5fca"
            ],
            []
        ]
    },
    {
        "id": "0ff50efd5d9055f9",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Totalitzadors ED4",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "1",
        "dataType": "InputRegister",
        "adr": "8221",
        "quantity": "2",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "11.11032",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 180,
        "y": 740,
        "wires": [
            [
                "b4e39d8d51d7eb45"
            ],
            []
        ]
    },
    {
        "id": "1f5e5434db0c0962",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Puls ED0",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "1",
        "dataType": "InputRegister",
        "adr": "8224",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "14.14481",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 160,
        "y": 860,
        "wires": [
            [
                "c187fab1092b9f26"
            ],
            []
        ]
    },
    {
        "id": "86c48526fd91ad8f",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Cperiod ED0",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "1",
        "dataType": "InputRegister",
        "adr": "8225",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "15.7676",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 170,
        "y": 920,
        "wires": [
            [
                "ea6988142098c9e6"
            ],
            []
        ]
    },
    {
        "id": "bf7cb4835af53658",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ed14.period",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "c187fab1092b9f26",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ed14.puls",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 860,
        "wires": [
            [
                "ce9ba80c23329bc0"
            ]
        ]
    },
    {
        "id": "ea6988142098c9e6",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ed14.cperiod",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 920,
        "wires": [
            [
                "94f3684763b1c83a"
            ]
        ]
    },
    {
        "id": "bf043b459aade923",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "E0, 1, 2, 3 i 4",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "3",
        "dataType": "Coil",
        "adr": "0",
        "quantity": "5",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "26.452",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 170,
        "y": 1800,
        "wires": [
            [
                "3ed18510a3c8d0d9",
                "16a095750ce79e18"
            ],
            []
        ]
    },
    {
        "id": "07353153e3f2f085",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Instantani Cabal Gronxadors",
        "func": "// Obtener el valor de litros por impulso desde la variable global\nlet L_imp = global.get('cabal1.limp'); // Asegúrate de que 'cabal1.limp' existe y es un número válido\nlet estat = global.get('bgronxadors.estat');\n\n// Obtener los valores del contexto del flow\nlet period = flow.get('ed34.period');\nlet puls = flow.get('ed34.puls');\nlet cperiod = msg.payload;\n\n// Inicializar la variable aux y cabal\nlet aux = 0;\nlet cabal = 0;\n\n// Cálculo de caudal instantáneo\nif (cperiod > 1 && cperiod < 15000) {\n    aux = (puls * 18000) / period;\n}\n\n// Determinar el valor de 'cabal' dependiendo del estado 'estat'\nif (estat === 0) {\n    cabal = 0;\n} else {\n    cabal = aux * L_imp / 100;\n}\n\n// Redondear el valor a un decimal\nlet roundedValue = parseFloat(cabal.toFixed(1));\n\n// Guardar el valor combinado como entero en el contexto global\nglobal.set('cabal1.inst', roundedValue);\n\n// Devolver el mensaje con el caudal instantáneo\nmsg.payload = {\n    period: period,\n    puls: puls,\n    cperiod: cperiod,\n    cabal: roundedValue\n};\n\n// Devolver el mensaje\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 2460,
        "wires": [
            [
                "bd2285d20773e9b8"
            ]
        ]
    },
    {
        "id": "bd2285d20773e9b8",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "debug 165",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 2460,
        "wires": []
    },
    {
        "id": "da85d9fe9bae8baf",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Period ED4",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "3",
        "dataType": "InputRegister",
        "adr": "8235",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "40.432",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 170,
        "y": 2340,
        "wires": [
            [
                "9b9980aee8ad4ae2"
            ],
            []
        ]
    },
    {
        "id": "406f92387106f109",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Totalitzadors ED0",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "3",
        "dataType": "InputRegister",
        "adr": "8213",
        "quantity": "2",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "27.324",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 180,
        "y": 1860,
        "wires": [
            [
                "e3062c8453336511"
            ],
            []
        ]
    },
    {
        "id": "a10dc5d7b31fab9c",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Totalitzadors ED1",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "3",
        "dataType": "InputRegister",
        "adr": "8215",
        "quantity": "2",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "29.435",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 180,
        "y": 1920,
        "wires": [
            [
                "3c6fe822f6374303"
            ],
            []
        ]
    },
    {
        "id": "1470d92199319171",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Totalitzadors ED2",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "3",
        "dataType": "InputRegister",
        "adr": "8217",
        "quantity": "2",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "31.574",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 180,
        "y": 1980,
        "wires": [
            [
                "01ff2d47b01f76ec"
            ],
            []
        ]
    },
    {
        "id": "641e52862bc7933e",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Totalitzadors ED3",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "3",
        "dataType": "InputRegister",
        "adr": "8219",
        "quantity": "2",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "33.435",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 180,
        "y": 2040,
        "wires": [
            [
                "f39d868ab284f023"
            ],
            []
        ]
    },
    {
        "id": "b466fa669edbfb83",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Totalitzadors ED4",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "3",
        "dataType": "InputRegister",
        "adr": "8221",
        "quantity": "2",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "35.453",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 180,
        "y": 2100,
        "wires": [
            [
                "aaab559685211d5e"
            ],
            []
        ]
    },
    {
        "id": "ad73d76acf6c73a3",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Puls ED4",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "3",
        "dataType": "InputRegister",
        "adr": "8236",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "41.5433",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 160,
        "y": 2400,
        "wires": [
            [
                "57b1fa0e311759be"
            ],
            []
        ]
    },
    {
        "id": "3494f2549b23df41",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Cperiod ED4",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "3",
        "dataType": "InputRegister",
        "adr": "8237",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "42.433",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 170,
        "y": 2460,
        "wires": [
            [
                "b10f26b4dab72ee0"
            ],
            []
        ]
    },
    {
        "id": "9b9980aee8ad4ae2",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ed34.period",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 2340,
        "wires": [
            []
        ]
    },
    {
        "id": "57b1fa0e311759be",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ed34.puls",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 2400,
        "wires": [
            []
        ]
    },
    {
        "id": "b10f26b4dab72ee0",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ed34.cperiod",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 2460,
        "wires": [
            [
                "07353153e3f2f085"
            ]
        ]
    },
    {
        "id": "4d21453f032a7021",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Period ED0",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "3",
        "dataType": "InputRegister",
        "adr": "8223",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "37.453",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 170,
        "y": 2160,
        "wires": [
            [
                "770f87e3079d5ac9"
            ],
            []
        ]
    },
    {
        "id": "f60b957c17b696dd",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Instantani Cabal Cal Esteve dip petit",
        "func": "// Obtener el valor de litros por impulso desde la variable global\nlet L_imp = global.get('cabal2.limp'); // Asegúrate de que 'cabal2.limp' existe y es un número válido\nlet estat = global.get('v1.oberta');\n\n// Obtener los valores del contexto del flow\nlet period = flow.get('ed30.period');\nlet puls = flow.get('ed30.puls');\nlet cperiod = msg.payload;\n\n// Inicializar la variable aux y cabal\nlet aux = 0;\nlet cabal = 0;\n\n// Cálculo de caudal instantáneo\nif (cperiod > 1 && cperiod < 15000) {\n    aux = (puls * 18000) / period;\n}\n\n// Determinar el valor de 'cabal' dependiendo del estado 'estat'\nif (estat === 0) {\n    cabal = 0;\n} else {\n    cabal = aux * L_imp / 100;\n}\n\n// Redondear el valor a dos decimales\nlet roundedValue = parseFloat(cabal.toFixed(2));\n\n// Guardar el valor combinado como entero en el contexto global\nglobal.set('cabal2.inst', roundedValue);\n\n// Devolver el mensaje con el caudal instantáneo\nmsg.payload = {\n    period: period,\n    puls: puls,\n    cperiod: cperiod,\n    cabal: roundedValue\n};\n\n// Devolver el mensaje\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 2280,
        "wires": [
            [
                "2cf7b3ca79860cd1"
            ]
        ]
    },
    {
        "id": "2cf7b3ca79860cd1",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "debug 166",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 2280,
        "wires": []
    },
    {
        "id": "04fd3c1cee533414",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Puls ED0",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "3",
        "dataType": "InputRegister",
        "adr": "8224",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "38.434",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 160,
        "y": 2220,
        "wires": [
            [
                "f33c0f31d9da3191"
            ],
            []
        ]
    },
    {
        "id": "1684eb5985d85c07",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Cperiod ED0",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": false,
        "unitid": "3",
        "dataType": "InputRegister",
        "adr": "8225",
        "quantity": "1",
        "rate": "1",
        "rateUnit": "m",
        "delayOnStart": true,
        "startDelayTime": "39.543",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 170,
        "y": 2280,
        "wires": [
            [
                "ba1d108fd5547fe4"
            ],
            []
        ]
    },
    {
        "id": "770f87e3079d5ac9",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ed30.period",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 2160,
        "wires": [
            [
                "eedb9f8e6203f121"
            ]
        ]
    },
    {
        "id": "f33c0f31d9da3191",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ed30.puls",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 2220,
        "wires": [
            [
                "87fb7338225ab238"
            ]
        ]
    },
    {
        "id": "ba1d108fd5547fe4",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "ed30.cperiod",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 2280,
        "wires": [
            [
                "f60b957c17b696dd"
            ]
        ]
    },
    {
        "id": "8bef82416b8800c5",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "ea",
        "rules": [
            {
                "t": "set",
                "p": "cabal3.ea",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 1500,
        "wires": [
            [
                "a936e1cf0b51043e"
            ]
        ]
    },
    {
        "id": "61bfc6b3f0c18d37",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "ea",
        "rules": [
            {
                "t": "set",
                "p": "cabal5.ea",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 1560,
        "wires": [
            [
                "45d4bdb60859fe3f"
            ]
        ]
    },
    {
        "id": "2a124257113345fe",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "debug 172",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 2520,
        "wires": []
    },
    {
        "id": "c24a1b1d28aedd99",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "debug 173",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 2580,
        "wires": []
    },
    {
        "id": "f18f1bd64de377e9",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "analitzador1.clor",
        "func": "// Obtener el valor del payload\nlet value = msg.payload;\n\n// Redondear el valor a un decimal\nlet roundedValue = parseFloat(value.toFixed(2));\n\n// Guardar el valor redondeado en el contexto global\nglobal.set('analitzador1.clor', roundedValue);\n\n// Devolver el mensaje con el nuevo valor\nmsg.payload = roundedValue;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 980,
        "wires": [
            [
                "3c3a9797cc9c9122"
            ]
        ]
    },
    {
        "id": "acf95e42e5160214",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "analitzador3.terb",
        "func": "// Obtener el valor del payload\nlet value = msg.payload;\n\n// Redondear el valor a un decimal\nlet roundedValue = parseFloat(value.toFixed(2));\n\n// Guardar el valor redondeado en el contexto global\nglobal.set('analitzador3.terb', roundedValue);\n\n// Devolver el mensaje con el nuevo valor\nmsg.payload = roundedValue;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 1040,
        "wires": [
            [
                "01cda01328f69de6"
            ]
        ]
    },
    {
        "id": "ce9ba80c23329bc0",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "debug 174",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 860,
        "wires": []
    },
    {
        "id": "cecf33eb5c422d79",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "debug 175",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 1980,
        "wires": []
    },
    {
        "id": "9b82113eecf059e2",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "debug 179",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 1860,
        "wires": []
    },
    {
        "id": "eedb9f8e6203f121",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "debug 180",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 2160,
        "wires": []
    },
    {
        "id": "87fb7338225ab238",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "debug 181",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 2220,
        "wires": []
    },
    {
        "id": "7254f01a2ba46baf",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "cabal3.inst",
        "func": "// Obtener el valor del payload\nlet value = msg.payload;\n\n// Redondear el valor a un decimal\nlet roundedValue = parseFloat(value.toFixed(2));\n\n// Guardar el valor redondeado en el contexto global\nglobal.set('cabal3.inst', roundedValue);\n\n// Devolver el mensaje con el nuevo valor\nmsg.payload = roundedValue;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 1500,
        "wires": [
            [
                "2fcdf6e11422de48"
            ]
        ]
    },
    {
        "id": "a9b6dadb02e9660b",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "cabal5.inst",
        "func": "// Obtener el valor del payload\nlet value = msg.payload;\n\n// Redondear el valor a un decimal\nlet roundedValue = parseFloat(value.toFixed(2));\n\n// Guardar el valor redondeado en el contexto global\nglobal.set('cabal5.inst', roundedValue);\n\n// Devolver el mensaje con el nuevo valor\nmsg.payload = roundedValue;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 1560,
        "wires": [
            [
                "cd847ac34958f124"
            ]
        ]
    },
    {
        "id": "d3094fccfbc53052",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "cabal6.inst",
        "func": "// Obtener el valor del payload\nlet value = msg.payload;\n\n// Redondear el valor a un decimal\nlet roundedValue = parseFloat(value.toFixed(2));\n\n// Guardar el valor redondeado en el contexto global\nglobal.set('cabal6.inst', roundedValue);\n\n// Devolver el mensaje con el nuevo valor\nmsg.payload = roundedValue;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 2520,
        "wires": [
            [
                "2a124257113345fe"
            ]
        ]
    },
    {
        "id": "6e5fc8d172280392",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "cabal7.inst",
        "func": "// Obtener el valor del payload\nlet value = msg.payload;\n\n// Redondear el valor a un decimal\nlet roundedValue = parseFloat(value.toFixed(2));\n\n// Guardar el valor redondeado en el contexto global\nglobal.set('cabal7.inst', roundedValue);\n\n// Devolver el mensaje con el nuevo valor\nmsg.payload = roundedValue;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 2580,
        "wires": [
            [
                "c24a1b1d28aedd99"
            ]
        ]
    },
    {
        "id": "4c4c1e8d9d935386",
        "type": "switch",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0.2",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "0.2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 710,
        "y": 1500,
        "wires": [
            [
                "7254f01a2ba46baf"
            ],
            [
                "79733c6749eabcb8"
            ]
        ]
    },
    {
        "id": "79733c6749eabcb8",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 795,
        "y": 1520,
        "wires": [
            [
                "7254f01a2ba46baf"
            ]
        ],
        "l": false
    },
    {
        "id": "93f0043dc20ced01",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 795,
        "y": 1580,
        "wires": [
            [
                "a9b6dadb02e9660b"
            ]
        ],
        "l": false
    },
    {
        "id": "af99dee93aebaf60",
        "type": "switch",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0.2",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "0.2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 710,
        "y": 1560,
        "wires": [
            [
                "a9b6dadb02e9660b"
            ],
            [
                "93f0043dc20ced01"
            ]
        ]
    },
    {
        "id": "210afc3dab0a138d",
        "type": "range",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "minin": "100",
        "maxin": "32767",
        "minout": "0",
        "maxout": "4",
        "action": "clamp",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 790,
        "y": 1180,
        "wires": [
            [
                "9d801473557daee7"
            ]
        ]
    },
    {
        "id": "9d801473557daee7",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d3.proporcio",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "e032bf41fe585d41",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "v2.posicio",
                "pt": "global",
                "to": "100",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "8c403e48eb8ed1bf",
        "type": "range",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "minin": "100",
        "maxin": "32767",
        "minout": "0",
        "maxout": "100",
        "action": "clamp",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 820,
        "y": 1100,
        "wires": [
            [
                "dfdf734cea7e16a8"
            ]
        ]
    },
    {
        "id": "1cad5cfa0c91e91e",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.value",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 715,
        "y": 1100,
        "wires": [
            [
                "8c403e48eb8ed1bf"
            ]
        ],
        "l": false
    },
    {
        "id": "4e2fc1a3ccb14648",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.value",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 685,
        "y": 1180,
        "wires": [
            [
                "210afc3dab0a138d"
            ]
        ],
        "l": false
    },
    {
        "id": "2e8b1b91881c3560",
        "type": "inject",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "30",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "v2.consigna.posicio",
        "payloadType": "global",
        "x": 220,
        "y": 1100,
        "wires": [
            [
                "c999d4ca421f7cfc"
            ]
        ]
    },
    {
        "id": "dfdf734cea7e16a8",
        "type": "switch",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "",
        "property": "v2.oberta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 1100,
        "wires": [
            [
                "e032bf41fe585d41"
            ],
            [
                "98a71e3f420a438f"
            ]
        ]
    },
    {
        "id": "98a71e3f420a438f",
        "type": "switch",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "",
        "property": "v2.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1070,
        "y": 1140,
        "wires": [
            [
                "2e36525c1bf8df64"
            ],
            [
                "110cb313f288cd3f"
            ]
        ]
    },
    {
        "id": "2e36525c1bf8df64",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "v2.posicio",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "110cb313f288cd3f",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "v2.posicio",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "0d28c250e46f07f1",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Cabal total rentat filtre sorra",
        "func": "// Supongamos que los valores BCD están en msg.payload, donde \n// msg.payload es un arreglo con 2 elementos: \n// El primer elemento contiene los 2 bytes de 2015H (byte alto y bajo),\n// El segundo elemento contiene los 2 bytes de 2016H (byte alto y bajo).\n\nvar bcd1 = msg.payload[0];  // Primer elemento: 2 bytes BCD de 2015H\nvar bcd2 = msg.payload[1];  // Segundo elemento: 2 bytes BCD de 2016H\n\n// Función para convertir un valor BCD (de 1 byte) a decimal\nfunction bcdToDecimal(bcd) {\n    var digit1 = (bcd >> 4) & 0x0F;  // Cifra más significativa (4 bits)\n    var digit2 = bcd & 0x0F;         // Cifra menos significativa (4 bits)\n    return digit1 * 10 + digit2;     // Convertir el valor BCD a decimal\n}\n\n// Convertir la primera parte (2015H) usando los dos bytes BCD\nvar value1 = bcdToDecimal(bcd1 >> 8) * 100 + bcdToDecimal(bcd1 & 0xFF);  // Para los 2 bytes de 2015H\n\n// Convertir la segunda parte (2016H) usando los dos bytes BCD\nvar value2 = bcdToDecimal(bcd2 >> 8) * 100 + bcdToDecimal(bcd2 & 0xFF);    // Para los 2 bytes de 2016H\n\n// Combinar ambos valores (value1 y value2) para obtener el número completo\nvar finalValue = value1 * 10000 + value2;  // Esto da el número final\n\n\n// Obtener el valor de litros por impulso desde la variable global\nlet litrosPorImpulso = global.get('cabal4.limp');\n\n\n// Convertir el volumen total a metros cúbicos\nlet volumenTotalMetrosCubicos = (finalValue/1000)*litrosPorImpulso;\n\n// Redondear volumenTotalMetrosCubicos a 1 decimal\nvolumenTotalMetrosCubicos = parseFloat(volumenTotalMetrosCubicos.toFixed(1));\n\n// Guardar el valor combinado y el volumen total en el contexto global\nglobal.set('cabal4.acum', volumenTotalMetrosCubicos);\n\n\n// Asignar el valor final a msg.payload\nmsg.payload = volumenTotalMetrosCubicos;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 500,
        "wires": [
            [
                "ccf252ad74f50700"
            ]
        ]
    },
    {
        "id": "c75fe7a88f872952",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Cabal total bypass",
        "func": "// Supongamos que los valores BCD están en msg.payload, donde \n// msg.payload es un arreglo con 2 elementos: \n// El primer elemento contiene los 2 bytes de 2015H (byte alto y bajo),\n// El segundo elemento contiene los 2 bytes de 2016H (byte alto y bajo).\n\nvar bcd1 = msg.payload[0];  // Primer elemento: 2 bytes BCD de 2015H\nvar bcd2 = msg.payload[1];  // Segundo elemento: 2 bytes BCD de 2016H\n\n// Función para convertir un valor BCD (de 1 byte) a decimal\nfunction bcdToDecimal(bcd) {\n    var digit1 = (bcd >> 4) & 0x0F;  // Cifra más significativa (4 bits)\n    var digit2 = bcd & 0x0F;         // Cifra menos significativa (4 bits)\n    return digit1 * 10 + digit2;     // Convertir el valor BCD a decimal\n}\n\n// Convertir la primera parte (2015H) usando los dos bytes BCD\nvar value1 = bcdToDecimal(bcd1 >> 8) * 100 + bcdToDecimal(bcd1 & 0xFF);  // Para los 2 bytes de 2015H\n\n// Convertir la segunda parte (2016H) usando los dos bytes BCD\nvar value2 = bcdToDecimal(bcd2 >> 8) * 100 + bcdToDecimal(bcd2 & 0xFF);    // Para los 2 bytes de 2016H\n\n// Combinar ambos valores (value1 y value2) para obtener el número completo\nvar finalValue = value1 * 10000 + value2;  // Esto da el número final\n\n\n// Obtener el valor de litros por impulso desde la variable global\nlet litrosPorImpulso = global.get('cabal5.limp');\n\n\n// Convertir el volumen total a metros cúbicos\nlet volumenTotalMetrosCubicos = (finalValue*litrosPorImpulso)/1000;\n\n// Redondear volumenTotalMetrosCubicos a 1 decimal\nvolumenTotalMetrosCubicos = parseFloat(volumenTotalMetrosCubicos.toFixed(1));\n\n// Guardar el valor combinado y el volumen total en el contexto global\nglobal.set('cabal5.acum', volumenTotalMetrosCubicos);\n\n\n// Asignar el valor final a msg.payload\nmsg.payload = volumenTotalMetrosCubicos;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 560,
        "wires": [
            [
                "05d880f5d9079463"
            ]
        ]
    },
    {
        "id": "3a4f3966dc568f33",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Cabal total sortida Can Felix-poble",
        "func": "// Supongamos que los valores BCD están en msg.payload, donde \n// msg.payload es un arreglo con 2 elementos: \n// El primer elemento contiene los 2 bytes de 2015H (byte alto y bajo),\n// El segundo elemento contiene los 2 bytes de 2016H (byte alto y bajo).\n\nvar bcd1 = msg.payload[0];  // Primer elemento: 2 bytes BCD de 2015H\nvar bcd2 = msg.payload[1];  // Segundo elemento: 2 bytes BCD de 2016H\n\n// Función para convertir un valor BCD (de 1 byte) a decimal\nfunction bcdToDecimal(bcd) {\n    var digit1 = (bcd >> 4) & 0x0F;  // Cifra más significativa (4 bits)\n    var digit2 = bcd & 0x0F;         // Cifra menos significativa (4 bits)\n    return digit1 * 10 + digit2;     // Convertir el valor BCD a decimal\n}\n\n// Convertir la primera parte (2015H) usando los dos bytes BCD\nvar value1 = bcdToDecimal(bcd1 >> 8) * 100 + bcdToDecimal(bcd1 & 0xFF);  // Para los 2 bytes de 2015H\n\n// Convertir la segunda parte (2016H) usando los dos bytes BCD\nvar value2 = bcdToDecimal(bcd2 >> 8) * 100 + bcdToDecimal(bcd2 & 0xFF);    // Para los 2 bytes de 2016H\n\n// Combinar ambos valores (value1 y value2) para obtener el número completo\nvar finalValue = value1 * 10000 + value2;  // Esto da el número final\n\n\n// Obtener el valor de litros por impulso desde la variable global\nlet litrosPorImpulso = global.get('cabal7.limp');\n\n\n\n// Convertir el volumen total a metros cúbicos\nlet volumenTotalMetrosCubicos = (finalValue*litrosPorImpulso)/1000\n\n// Redondear volumenTotalMetrosCubicos a 1 decimal\nvolumenTotalMetrosCubicos = parseFloat(volumenTotalMetrosCubicos.toFixed(1));\n\n// Guardar el valor combinado y el volumen total en el contexto global\nglobal.set('cabal7.acum', volumenTotalMetrosCubicos);\n\n\n// Asignar el valor final a msg.payload\nmsg.payload = volumenTotalMetrosCubicos;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 620,
        "wires": [
            [
                "eb5c1d43bd49d27c"
            ]
        ]
    },
    {
        "id": "4dc731cac0fd5fca",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Cabal total sortida Arderiu-camp futbol ",
        "func": "// Supongamos que los valores BCD están en msg.payload, donde \n// msg.payload es un arreglo con 2 elementos: \n// El primer elemento contiene los 2 bytes de 2015H (byte alto y bajo),\n// El segundo elemento contiene los 2 bytes de 2016H (byte alto y bajo).\n\nvar bcd1 = msg.payload[0];  // Primer elemento: 2 bytes BCD de 2015H\nvar bcd2 = msg.payload[1];  // Segundo elemento: 2 bytes BCD de 2016H\n\n// Función para convertir un valor BCD (de 1 byte) a decimal\nfunction bcdToDecimal(bcd) {\n    var digit1 = (bcd >> 4) & 0x0F;  // Cifra más significativa (4 bits)\n    var digit2 = bcd & 0x0F;         // Cifra menos significativa (4 bits)\n    return digit1 * 10 + digit2;     // Convertir el valor BCD a decimal\n}\n\n// Convertir la primera parte (2015H) usando los dos bytes BCD\nvar value1 = bcdToDecimal(bcd1 >> 8) * 100 + bcdToDecimal(bcd1 & 0xFF);  // Para los 2 bytes de 2015H\n\n// Convertir la segunda parte (2016H) usando los dos bytes BCD\nvar value2 = bcdToDecimal(bcd2 >> 8) * 100 + bcdToDecimal(bcd2 & 0xFF);    // Para los 2 bytes de 2016H\n\n// Combinar ambos valores (value1 y value2) para obtener el número completo\nvar finalValue = value1 * 10000 + value2;  // Esto da el número final\n\n\n// Obtener el valor de litros por impulso desde la variable global\nlet litrosPorImpulso = global.get('cabal6.limp');\n\n\n// Convertir el volumen total a metros cúbicos\nlet volumenTotalMetrosCubicos = (finalValue*litrosPorImpulso)/1000\n\n// Redondear volumenTotalMetrosCubicos a 1 decimal\nvolumenTotalMetrosCubicos = parseFloat(volumenTotalMetrosCubicos.toFixed(1));\n\n// Guardar el valor combinado y el volumen total en el contexto global\nglobal.set('cabal6.acum', volumenTotalMetrosCubicos);\n\n\n// Asignar el valor final a msg.payload\nmsg.payload = volumenTotalMetrosCubicos;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 680,
        "wires": [
            [
                "f738bd26e7c25dc9"
            ]
        ]
    },
    {
        "id": "b4e39d8d51d7eb45",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Cabal total entrada dip.gran",
        "func": "// Supongamos que los valores BCD están en msg.payload, donde \n// msg.payload es un arreglo con 2 elementos: \n// El primer elemento contiene los 2 bytes de 2015H (byte alto y bajo),\n// El segundo elemento contiene los 2 bytes de 2016H (byte alto y bajo).\n\nvar bcd1 = msg.payload[0];  // Primer elemento: 2 bytes BCD de 2015H\nvar bcd2 = msg.payload[1];  // Segundo elemento: 2 bytes BCD de 2016H\n\n// Función para convertir un valor BCD (de 1 byte) a decimal\nfunction bcdToDecimal(bcd) {\n    var digit1 = (bcd >> 4) & 0x0F;  // Cifra más significativa (4 bits)\n    var digit2 = bcd & 0x0F;         // Cifra menos significativa (4 bits)\n    return digit1 * 10 + digit2;     // Convertir el valor BCD a decimal\n}\n\n// Convertir la primera parte (2015H) usando los dos bytes BCD\nvar value1 = bcdToDecimal(bcd1 >> 8) * 100 + bcdToDecimal(bcd1 & 0xFF);  // Para los 2 bytes de 2015H\n\n// Convertir la segunda parte (2016H) usando los dos bytes BCD\nvar value2 = bcdToDecimal(bcd2 >> 8) * 100 + bcdToDecimal(bcd2 & 0xFF);    // Para los 2 bytes de 2016H\n\n// Combinar ambos valores (value1 y value2) para obtener el número completo\nvar finalValue = value1 * 10000 + value2;  // Esto da el número final\n\n\n// Obtener el valor de litros por impulso desde la variable global\nlet litrosPorImpulso = global.get('cabal3.limp');\n\n\n// Convertir el volumen total a metros cúbicos\nlet volumenTotalMetrosCubicos = (finalValue*litrosPorImpulso)/1000\n\n// Redondear volumenTotalMetrosCubicos a 1 decimal\nvolumenTotalMetrosCubicos = parseFloat(volumenTotalMetrosCubicos.toFixed(1));\n\n// Guardar el valor combinado y el volumen total en el contexto global\nglobal.set('cabal3.acum', volumenTotalMetrosCubicos);\n\n\n// Asignar el valor final a msg.payload\nmsg.payload = volumenTotalMetrosCubicos;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 740,
        "wires": [
            [
                "5aa89d80589e7fef"
            ]
        ]
    },
    {
        "id": "e3062c8453336511",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Cabal entrada Cal Esteve vell",
        "func": "// Supongamos que los valores BCD están en msg.payload, donde \n// msg.payload es un arreglo con 2 elementos: \n// El primer elemento contiene los 2 bytes de 2015H (byte alto y bajo),\n// El segundo elemento contiene los 2 bytes de 2016H (byte alto y bajo).\n\nvar bcd1 = msg.payload[0];  // Primer elemento: 2 bytes BCD de 2015H\nvar bcd2 = msg.payload[1];  // Segundo elemento: 2 bytes BCD de 2016H\n\n// Función para convertir un valor BCD (de 1 byte) a decimal\nfunction bcdToDecimal(bcd) {\n    var digit1 = (bcd >> 4) & 0x0F;  // Cifra más significativa (4 bits)\n    var digit2 = bcd & 0x0F;         // Cifra menos significativa (4 bits)\n    return digit1 * 10 + digit2;     // Convertir el valor BCD a decimal\n}\n\n// Convertir la primera parte (2015H) usando los dos bytes BCD\nvar value1 = bcdToDecimal(bcd1 >> 8) * 100 + bcdToDecimal(bcd1 & 0xFF);  // Para los 2 bytes de 2015H\n\n// Convertir la segunda parte (2016H) usando los dos bytes BCD\nvar value2 = bcdToDecimal(bcd2 >> 8) * 100 + bcdToDecimal(bcd2 & 0xFF);    // Para los 2 bytes de 2016H\n\n// Combinar ambos valores (value1 y value2) para obtener el número completo\nvar finalValue = value1 * 10000 + value2;  // Esto da el número final\n\n\n// Obtener el valor de litros por impulso desde la variable global\nlet litrosPorImpulso = global.get('cabal2.limp');\n\n\n// Convertir el volumen total a metros cúbicos\nlet volumenTotalMetrosCubicos = (finalValue*litrosPorImpulso)/1000;\n\n// Redondear volumenTotalMetrosCubicos a 1 decimal\nvolumenTotalMetrosCubicos = parseFloat(volumenTotalMetrosCubicos.toFixed(1));\n\n// Guardar el valor combinado y el volumen total en el contexto global\nglobal.set('cabal2.acum', volumenTotalMetrosCubicos);\n\n// Asignar el valor final a msg.payload\nmsg.payload = volumenTotalMetrosCubicos;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 1860,
        "wires": [
            [
                "9b82113eecf059e2"
            ]
        ]
    },
    {
        "id": "3c6fe822f6374303",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Paro bomba filtre rentat",
        "func": "// Supongamos que los valores BCD están en msg.payload, donde \n// msg.payload es un arreglo con 2 elementos: \n// El primer elemento contiene los 2 bytes de 2015H (byte alto y bajo),\n// El segundo elemento contiene los 2 bytes de 2016H (byte alto y bajo).\n\nvar bcd1 = msg.payload[0];  // Primer elemento: 2 bytes BCD de 2015H\nvar bcd2 = msg.payload[1];  // Segundo elemento: 2 bytes BCD de 2016H\n\n// Función para convertir un valor BCD (de 1 byte) a decimal\nfunction bcdToDecimal(bcd) {\n    var digit1 = (bcd >> 4) & 0x0F;  // Cifra más significativa (4 bits)\n    var digit2 = bcd & 0x0F;         // Cifra menos significativa (4 bits)\n    return digit1 * 10 + digit2;     // Convertir el valor BCD a decimal\n}\n\n// Convertir la primera parte (2015H) usando los dos bytes BCD\nvar value1 = bcdToDecimal(bcd1 >> 8) * 100 + bcdToDecimal(bcd1 & 0xFF);  // Para los 2 bytes de 2015H\n\n// Convertir la segunda parte (2016H) usando los dos bytes BCD\nvar value2 = bcdToDecimal(bcd2 >> 8) * 100 + bcdToDecimal(bcd2 & 0xFF);    // Para los 2 bytes de 2016H\n\n// Combinar ambos valores (value1 y value2) para obtener el número completo\nvar finalValue = value1 * 10000 + value2;  // Esto da el número final\n\n\n// Convertir el volumen total a metros cúbicos\nlet maniobres = finalValue;\nlet rentats = finalValue/2;\n\n// Redondear volumenTotalMetrosCubicos a 1 decimal\nmaniobres = parseFloat(maniobres.toFixed(0));\nrentats = parseFloat(rentats.toFixed(0));\n\n// Guardar el valor combinado y el volumen total en el contexto global\nglobal.set('filtre.mani', maniobres);\nglobal.set('filtre.rentatacum', rentats);\n\n// Devolver el mensaje\nmsg.payload = {\n    maniobres: maniobres,\n    rentats: rentats\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 1920,
        "wires": [
            [
                "45831b0a736fdc76"
            ]
        ]
    },
    {
        "id": "01ff2d47b01f76ec",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Pressostat seguretat filtre",
        "func": "// Supongamos que los valores BCD están en msg.payload, donde \n// msg.payload es un arreglo con 2 elementos: \n// El primer elemento contiene los 2 bytes de 2015H (byte alto y bajo),\n// El segundo elemento contiene los 2 bytes de 2016H (byte alto y bajo).\n\nvar bcd1 = msg.payload[0];  // Primer elemento: 2 bytes BCD de 2015H\nvar bcd2 = msg.payload[1];  // Segundo elemento: 2 bytes BCD de 2016H\n\n// Función para convertir un valor BCD (de 1 byte) a decimal\nfunction bcdToDecimal(bcd) {\n    var digit1 = (bcd >> 4) & 0x0F;  // Cifra más significativa (4 bits)\n    var digit2 = bcd & 0x0F;         // Cifra menos significativa (4 bits)\n    return digit1 * 10 + digit2;     // Convertir el valor BCD a decimal\n}\n\n// Convertir la primera parte (2015H) usando los dos bytes BCD\nvar value1 = bcdToDecimal(bcd1 >> 8) * 100 + bcdToDecimal(bcd1 & 0xFF);  // Para los 2 bytes de 2015H\n\n// Convertir la segunda parte (2016H) usando los dos bytes BCD\nvar value2 = bcdToDecimal(bcd2 >> 8) * 100 + bcdToDecimal(bcd2 & 0xFF);    // Para los 2 bytes de 2016H\n\n// Combinar ambos valores (value1 y value2) para obtener el número completo\nvar finalValue = value1 * 10000 + value2;  // Esto da el número final\n\n\n// Convertir el volumen total a metros cúbicos\nlet maniobres = finalValue;\n\n// Redondear volumenTotalMetrosCubicos a 1 decimal\nmaniobres = parseFloat(maniobres.toFixed(0));\n\n// Guardar el valor combinado y el volumen total en el contexto global\nglobal.set('filtre.pressacum', maniobres);\n\n// Devolver el mensaje\nmsg.payload = {\n    maniobres: maniobres\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 1980,
        "wires": [
            [
                "cecf33eb5c422d79"
            ]
        ]
    },
    {
        "id": "f39d868ab284f023",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Estat bomba filtre",
        "func": "// Supongamos que los valores BCD están en msg.payload, donde \n// msg.payload es un arreglo con 2 elementos: \n// El primer elemento contiene los 2 bytes de 2015H (byte alto y bajo),\n// El segundo elemento contiene los 2 bytes de 2016H (byte alto y bajo).\n\nvar bcd1 = msg.payload[0];  // Primer elemento: 2 bytes BCD de 2015H\nvar bcd2 = msg.payload[1];  // Segundo elemento: 2 bytes BCD de 2016H\n\n// Función para convertir un valor BCD (de 1 byte) a decimal\nfunction bcdToDecimal(bcd) {\n    var digit1 = (bcd >> 4) & 0x0F;  // Cifra más significativa (4 bits)\n    var digit2 = bcd & 0x0F;         // Cifra menos significativa (4 bits)\n    return digit1 * 10 + digit2;     // Convertir el valor BCD a decimal\n}\n\n// Convertir la primera parte (2015H) usando los dos bytes BCD\nvar value1 = bcdToDecimal(bcd1 >> 8) * 100 + bcdToDecimal(bcd1 & 0xFF);  // Para los 2 bytes de 2015H\n\n// Convertir la segunda parte (2016H) usando los dos bytes BCD\nvar value2 = bcdToDecimal(bcd2 >> 8) * 100 + bcdToDecimal(bcd2 & 0xFF);    // Para los 2 bytes de 2016H\n\n// Combinar ambos valores (value1 y value2) para obtener el número completo\nvar finalValue = value1 * 10000 + value2;  // Esto da el número final\n\n\n// Convertir el volumen total a metros cúbicos\nlet maniobres = finalValue;\n\n// Redondear volumenTotalMetrosCubicos a 1 decimal\nmaniobres = parseFloat(maniobres.toFixed(0));\n\n// Guardar el valor combinado y el volumen total en el contexto global\nglobal.set('b1.mani', maniobres);\n\n// Devolver el mensaje\nmsg.payload = {\n    maniobres: maniobres\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 2040,
        "wires": [
            [
                "e9ceb38dbadc5c1d"
            ]
        ]
    },
    {
        "id": "aaab559685211d5e",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Cabal entrada Gronxadors",
        "func": "// Supongamos que los valores BCD están en msg.payload, donde \n// msg.payload es un arreglo con 2 elementos: \n// El primer elemento contiene los 2 bytes de 2015H (byte alto y bajo),\n// El segundo elemento contiene los 2 bytes de 2016H (byte alto y bajo).\n\nvar bcd1 = msg.payload[0];  // Primer elemento: 2 bytes BCD de 2015H\nvar bcd2 = msg.payload[1];  // Segundo elemento: 2 bytes BCD de 2016H\n\n// Función para convertir un valor BCD (de 1 byte) a decimal\nfunction bcdToDecimal(bcd) {\n    var digit1 = (bcd >> 4) & 0x0F;  // Cifra más significativa (4 bits)\n    var digit2 = bcd & 0x0F;         // Cifra menos significativa (4 bits)\n    return digit1 * 10 + digit2;     // Convertir el valor BCD a decimal\n}\n\n// Convertir la primera parte (2015H) usando los dos bytes BCD\nvar value1 = bcdToDecimal(bcd1 >> 8) * 100 + bcdToDecimal(bcd1 & 0xFF);  // Para los 2 bytes de 2015H\n\n// Convertir la segunda parte (2016H) usando los dos bytes BCD\nvar value2 = bcdToDecimal(bcd2 >> 8) * 100 + bcdToDecimal(bcd2 & 0xFF);    // Para los 2 bytes de 2016H\n\n// Combinar ambos valores (value1 y value2) para obtener el número completo\nvar finalValue = value1 * 10000 + value2;  // Esto da el número final\n\n\n// Obtener el valor de litros por impulso desde la variable global\nlet litrosPorImpulso = global.get('cabal1.limp');\n\n\n// Convertir el volumen total a metros cúbicos\nlet volumenTotalMetrosCubicos = (finalValue*litrosPorImpulso)/1000;\n\n// Redondear volumenTotalMetrosCubicos a 1 decimal\nvolumenTotalMetrosCubicos = parseFloat(volumenTotalMetrosCubicos.toFixed(1));\n\n// Guardar el valor combinado y el volumen total en el contexto global\nglobal.set('cabal1.acum', volumenTotalMetrosCubicos);\n\n// Asignar el valor final a msg.payload\nmsg.payload = volumenTotalMetrosCubicos;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 2100,
        "wires": [
            [
                "ab0abab9fe46a60a"
            ]
        ]
    },
    {
        "id": "45831b0a736fdc76",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "debug 206",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 1920,
        "wires": []
    },
    {
        "id": "e9ceb38dbadc5c1d",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "debug 207",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 2040,
        "wires": []
    },
    {
        "id": "ab0abab9fe46a60a",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "debug 208",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 2100,
        "wires": []
    },
    {
        "id": "9db8e882d2804c5d",
        "type": "modbus-response",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "",
        "registerShowMax": 20,
        "x": 430,
        "y": 380,
        "wires": []
    },
    {
        "id": "f56cdcbc9051046d",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "Captar l'error comunicació",
        "func": "if (msg.payload === \"\") {\n    // Generar mensaje de error por falta de comunicación\n    global.set(\"plc.tarja1.comunicacio\", 0); // Establece la variable global a 0\n    msg.payload = {\n        status: \"Error\",\n        message: \"Fallo de comunicación con el dispositivo esclavo Modbus.\",\n        timestamp: new Date().toISOString()\n    };\n    return msg;\n} else {\n    // Si hay respuesta, procesar normalmente\n    global.set(\"plc.tarja1.comunicacio\", 1); // Establece la variable global a 1\n    msg.payload = {\n        status: \"OK\",\n        data: msg.payload,\n        timestamp: new Date().toISOString()\n    };\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "5aa89d80589e7fef",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "debug 171",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 740,
        "wires": []
    },
    {
        "id": "f738bd26e7c25dc9",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "debug 170",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 680,
        "wires": []
    },
    {
        "id": "eb5c1d43bd49d27c",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "debug 169",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 620,
        "wires": []
    },
    {
        "id": "05d880f5d9079463",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "debug 168",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 560,
        "wires": []
    },
    {
        "id": "ccf252ad74f50700",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "debug 167",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 500,
        "wires": []
    },
    {
        "id": "0cfb0f567d1a8920",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "debug 160",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 440,
        "wires": []
    },
    {
        "id": "6f6046769b6253d4",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "debug 148",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 380,
        "wires": []
    },
    {
        "id": "82b3d86d8065e8d0",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "Captar l'error comunicació",
        "func": "if (msg.payload === \"\") {\n    // Generar mensaje de error por falta de comunicación\n    global.set(\"plc.tarja2.comunicacio\", 0); // Establece la variable global a 0\n    msg.payload = {\n        status: \"Error\",\n        message: \"Fallo de comunicación con el dispositivo esclavo Modbus.\",\n        timestamp: new Date().toISOString()\n    };\n    return msg;\n} else {\n    // Si hay respuesta, procesar normalmente\n    global.set(\"plc.tarja2.comunicacio\", 1); // Establece la variable global a 1\n    msg.payload = {\n        status: \"OK\",\n        data: msg.payload,\n        timestamp: new Date().toISOString()\n    };\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "8a9b5e92e21f936d",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "Captar l'error comunicació",
        "func": "if (msg.payload === \"\") {\n    // Generar mensaje de error por falta de comunicación\n    global.set(\"plc.tarja3.comunicacio\", 0); // Establece la variable global a 0\n    msg.payload = {\n        status: \"Error\",\n        message: \"Fallo de comunicación con el dispositivo esclavo Modbus.\",\n        timestamp: new Date().toISOString()\n    };\n    return msg;\n} else {\n    // Si hay respuesta, procesar normalmente\n    global.set(\"plc.tarja3.comunicacio\", 1); // Establece la variable global a 1\n    msg.payload = {\n        status: \"OK\",\n        data: msg.payload,\n        timestamp: new Date().toISOString()\n    };\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 1700,
        "wires": [
            []
        ]
    },
    {
        "id": "3535709e173e08aa",
        "type": "modbus-response",
        "z": "fc4592acfe4a957a",
        "g": "3d3d5d7c2a056bfc",
        "name": "",
        "registerShowMax": 20,
        "x": 430,
        "y": 1380,
        "wires": []
    },
    {
        "id": "3b1808607f93cd87",
        "type": "modbus-response",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "",
        "registerShowMax": 20,
        "x": 430,
        "y": 1740,
        "wires": []
    },
    {
        "id": "statusNode",
        "type": "status",
        "z": "fc4592acfe4a957a",
        "d": true,
        "g": "0af86376f01f059b",
        "name": "Estat Modbus",
        "scope": [
            "98cb96487bd3fecf"
        ],
        "x": 950,
        "y": 340,
        "wires": [
            [
                "changeNode",
                "6e684175c47507c6"
            ]
        ]
    },
    {
        "id": "changeNode",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "d": true,
        "g": "0af86376f01f059b",
        "name": "Actualitza variable",
        "rules": [
            {
                "t": "set",
                "p": "plc.tarja1.comunicacio",
                "pt": "global",
                "to": "($status.text = 'connected') ? 1 : 0",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "6e684175c47507c6",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "d": true,
        "g": "0af86376f01f059b",
        "name": "debug 211",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1110,
        "y": 380,
        "wires": []
    },
    {
        "id": "c5f0d1d885355364",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "g": "c45707e804209f80",
        "name": "Captar l'error comunicació",
        "func": "if (msg.payload === \"\") {\n    // Generar mensaje de error por falta de comunicación\n    global.set(\"analitzador2.comunicacio\", 0); // Establece la variable global a 0\n    msg.payload = {\n        status: \"Error\",\n        message: \"Fallo de comunicación con el dispositivo esclavo Modbus.\",\n        timestamp: new Date().toISOString()\n    };\n    return msg;\n} else {\n    // Si hay respuesta, procesar normalmente\n    global.set(\"analitzador2.comunicacio\", 1); // Establece la variable global a 1\n    msg.payload = {\n        status: \"OK\",\n        data: msg.payload,\n        timestamp: new Date().toISOString()\n    };\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 2700,
        "wires": [
            []
        ]
    },
    {
        "id": "634d841303555e24",
        "type": "inject",
        "z": "fc4592acfe4a957a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "plc.tarja1.comunicacio",
        "payloadType": "global",
        "x": 1640,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "3442b9067ace538a",
        "type": "switch",
        "z": "fc4592acfe4a957a",
        "name": "com.targeta1",
        "property": "plc.tarja1.comunicacio",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1630,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "c671ec7f6f5a66dc",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "debug 220",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 720,
        "y": 2380,
        "wires": []
    },
    {
        "id": "0a5349007eb45e97",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "debug 221",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 920,
        "y": 2420,
        "wires": []
    },
    {
        "id": "fb8a605c7bc225f3",
        "type": "smooth",
        "z": "fc4592acfe4a957a",
        "g": "0af86376f01f059b",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "10",
        "round": "",
        "mult": "single",
        "reduce": false,
        "x": 840,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "16a095750ce79e18",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "g": "9f9cc9de8822527d",
        "name": "debug 229",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 280,
        "y": 1760,
        "wires": []
    },
    {
        "id": "edf9f924c5975b3d",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "name": "Cabal instantani arderiu",
        "topic": "EA 1",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "3",
        "dataType": "InputRegister",
        "adr": "8208",
        "quantity": "1",
        "rate": "10",
        "rateUnit": "s",
        "delayOnStart": true,
        "startDelayTime": "0",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 1240,
        "y": 2500,
        "wires": [
            [
                "d21470d9a55525f9"
            ],
            []
        ]
    },
    {
        "id": "98d31f7d665c324a",
        "type": "modbus-read",
        "z": "fc4592acfe4a957a",
        "name": "Cabal instantani can felix poble",
        "topic": "EA 2",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "3",
        "dataType": "InputRegister",
        "adr": "8207",
        "quantity": "1",
        "rate": "10",
        "rateUnit": "s",
        "delayOnStart": true,
        "startDelayTime": "2",
        "server": "6975f089b473afa8",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 1270,
        "y": 2560,
        "wires": [
            [
                "e64304827ceab26f"
            ],
            []
        ]
    },
    {
        "id": "d21470d9a55525f9",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "name": "cabal6.ea",
        "rules": [
            {
                "t": "set",
                "p": "cabal6.ea",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1500,
        "y": 2500,
        "wires": [
            [
                "21134a732fbf1237"
            ]
        ]
    },
    {
        "id": "e64304827ceab26f",
        "type": "change",
        "z": "fc4592acfe4a957a",
        "name": "cabal7.ea",
        "rules": [
            {
                "t": "set",
                "p": "cabal7.ea",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1500,
        "y": 2560,
        "wires": [
            [
                "ac5880f1f165d9c6"
            ]
        ]
    },
    {
        "id": "21134a732fbf1237",
        "type": "range",
        "z": "fc4592acfe4a957a",
        "minin": "0",
        "maxin": "32767",
        "minout": "0",
        "maxout": "20",
        "action": "clamp",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 1630,
        "y": 2500,
        "wires": [
            [
                "e4c01e6055734e57"
            ]
        ]
    },
    {
        "id": "ac5880f1f165d9c6",
        "type": "range",
        "z": "fc4592acfe4a957a",
        "minin": "0",
        "maxin": "32767",
        "minout": "0",
        "maxout": "50",
        "action": "clamp",
        "round": false,
        "property": "payload",
        "name": "",
        "x": 1630,
        "y": 2560,
        "wires": [
            [
                "05859aa4fcbb676f"
            ]
        ]
    },
    {
        "id": "b39acbb0e248997d",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "name": "debug 230",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1930,
        "y": 2400,
        "wires": []
    },
    {
        "id": "7698bb69dcecdf0d",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "name": "debug 231",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1930,
        "y": 2680,
        "wires": []
    },
    {
        "id": "e4c01e6055734e57",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "name": "cabal6.inst",
        "func": "// Obtener el valor del payload\nlet value = msg.payload;\n\n// Redondear el valor a un decimal\nlet roundedValue = parseFloat(value.toFixed(3));\n\n// Guardar el valor redondeado en el contexto global\nglobal.set('cabal6.inst', roundedValue);\n\n// Devolver el mensaje con el nuevo valor\nmsg.payload = roundedValue;\nmsg.topic = 'lectures/plc/9/instantanicabal6';\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1770,
        "y": 2500,
        "wires": [
            [
                "b39acbb0e248997d",
                "42e4c0466b307195"
            ]
        ]
    },
    {
        "id": "05859aa4fcbb676f",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "name": "cabal7.inst",
        "func": "// Obtener el valor del payload\nlet value = msg.payload;\n\n// Redondear el valor a un decimal\nlet roundedValue = parseFloat(value.toFixed(3));\n\n// Guardar el valor redondeado en el contexto global\nglobal.set('cabal7.inst', roundedValue);\n\n// Devolver el mensaje con el nuevo valor\nmsg.payload = roundedValue;\nmsg.topic = 'lectures/plc/9/instantanicabal7';\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1770,
        "y": 2560,
        "wires": [
            [
                "7698bb69dcecdf0d",
                "42e4c0466b307195"
            ]
        ]
    },
    {
        "id": "63318b1f3e6e2d23",
        "type": "mqtt out",
        "z": "fc4592acfe4a957a",
        "name": "Cap a IOT",
        "topic": "",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "ad0b6903ab51bbcb",
        "x": 2270,
        "y": 2500,
        "wires": []
    },
    {
        "id": "42e4c0466b307195",
        "type": "function",
        "z": "fc4592acfe4a957a",
        "name": "Procesar Mensaje",
        "func": "var valor = msg.payload;\n\n// Obtener el topic del mensaje de entrada\nvar topic = msg.topic;\nvar topicParts = topic.split('/');\nvar plcId = Number(topicParts[2]);  // Convertir a número\nvar tag = topicParts[3];  // Asumiendo que el tag está en la cuarta posición del topic\n\n// Obtener la fecha y hora actual en formato ISO 8601\nvar tiempo = new Date().toISOString();\n\n// Crear el nuevo mensaje con los datos\nvar newMsg = {\n    payload: {\n        valor: valor,\n        temps: tiempo,\n        plc: plcId,\n        tag: tag\n    },\n    topic: topic // Usar el mismo topic que el mensaje original\n};\n\nreturn newMsg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2010,
        "y": 2500,
        "wires": [
            [
                "63318b1f3e6e2d23",
                "a14d78513b100861",
                "d121871f2fb59b0b"
            ]
        ]
    },
    {
        "id": "a14d78513b100861",
        "type": "mqtt out",
        "z": "fc4592acfe4a957a",
        "name": "Cap a EMQX",
        "topic": "",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "c10d01a84abb2744",
        "x": 2270,
        "y": 2560,
        "wires": []
    },
    {
        "id": "e2a15086e9c1c1ed",
        "type": "inject",
        "z": "fc4592acfe4a957a",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal7",
        "payload": "cabal7.inst",
        "payloadType": "global",
        "x": 2110,
        "y": 2340,
        "wires": [
            []
        ]
    },
    {
        "id": "14399bbaceb1e009",
        "type": "inject",
        "z": "fc4592acfe4a957a",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal6",
        "payload": "cabal6.inst",
        "payloadType": "global",
        "x": 2110,
        "y": 2300,
        "wires": [
            []
        ]
    },
    {
        "id": "d121871f2fb59b0b",
        "type": "debug",
        "z": "fc4592acfe4a957a",
        "name": "debug 232",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2130,
        "y": 2680,
        "wires": []
    },
    {
        "id": "b7e684e429596127",
        "type": "inject",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "horaritarifa.vall1.on",
        "payloadType": "global",
        "x": 260,
        "y": 160,
        "wires": [
            [
                "206797ad850874c4"
            ]
        ]
    },
    {
        "id": "be573dfc4d2b591b",
        "type": "inject",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "horaritarifa.vall1.off",
        "payloadType": "global",
        "x": 260,
        "y": 220,
        "wires": [
            [
                "18c18c2448cd6f9d"
            ]
        ]
    },
    {
        "id": "0a939f855ae02809",
        "type": "inject",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "horaritarifa.plana1.on",
        "payloadType": "global",
        "x": 260,
        "y": 280,
        "wires": [
            [
                "f7517a36ecf8a9dc"
            ]
        ]
    },
    {
        "id": "369ae52e332674d0",
        "type": "inject",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "horaritarifa.plana1.off",
        "payloadType": "global",
        "x": 260,
        "y": 340,
        "wires": [
            [
                "3397089ea5633f23"
            ]
        ]
    },
    {
        "id": "84a7ab677a13b7bc",
        "type": "inject",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "horaritarifa.plana2.on",
        "payloadType": "global",
        "x": 260,
        "y": 400,
        "wires": [
            [
                "963a44eaea22671f"
            ]
        ]
    },
    {
        "id": "e9b57f84ce9214ee",
        "type": "inject",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "horaritarifa.plana2.off",
        "payloadType": "global",
        "x": 260,
        "y": 460,
        "wires": [
            [
                "8d1758299f39521e"
            ]
        ]
    },
    {
        "id": "4751cddaddd3e859",
        "type": "inject",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "horaritarifa.plana3.on",
        "payloadType": "global",
        "x": 260,
        "y": 520,
        "wires": [
            [
                "a38aa2bb1d723e05"
            ]
        ]
    },
    {
        "id": "4a478816f0cc719a",
        "type": "inject",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "horaritarifa.plana3.off",
        "payloadType": "global",
        "x": 260,
        "y": 580,
        "wires": [
            [
                "af810a858a78a216"
            ]
        ]
    },
    {
        "id": "05d4bac89bafedad",
        "type": "inject",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "horaritarifa.punta1.on",
        "payloadType": "global",
        "x": 260,
        "y": 640,
        "wires": [
            [
                "e72ec901f4896f78"
            ]
        ]
    },
    {
        "id": "206797ad850874c4",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.vall1.on",
                "pt": "global",
                "to": "00",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "18c18c2448cd6f9d",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.vall1.off",
                "pt": "global",
                "to": "08",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "3be2780e0dbf2d29",
        "type": "comment",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "Declarar Globals genèriques",
        "info": "",
        "x": 200,
        "y": 100,
        "wires": []
    },
    {
        "id": "f7517a36ecf8a9dc",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.plana1.on",
                "pt": "global",
                "to": "08",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "3397089ea5633f23",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.plana1.off",
                "pt": "global",
                "to": "10",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "963a44eaea22671f",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.plana2.on",
                "pt": "global",
                "to": "14",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "8d1758299f39521e",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.plana2.off",
                "pt": "global",
                "to": "18",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "a38aa2bb1d723e05",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.plana3.on",
                "pt": "global",
                "to": "22",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "af810a858a78a216",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.plana3.off",
                "pt": "global",
                "to": "00",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "e72ec901f4896f78",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.punta1.on",
                "pt": "global",
                "to": "10",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "b71786898ded190b",
        "type": "inject",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "horaritarifa.punta1.off",
        "payloadType": "global",
        "x": 260,
        "y": 700,
        "wires": [
            [
                "3ef0d30e74135c18"
            ]
        ]
    },
    {
        "id": "29547304faaaad1e",
        "type": "inject",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "horaritarifa.punta2.on",
        "payloadType": "global",
        "x": 260,
        "y": 760,
        "wires": [
            [
                "4d42cdf2c783f393"
            ]
        ]
    },
    {
        "id": "b12a30a1ae9a60ff",
        "type": "inject",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "horaritarifa.punta2.off",
        "payloadType": "global",
        "x": 260,
        "y": 820,
        "wires": [
            [
                "6892330dbf87dee6"
            ]
        ]
    },
    {
        "id": "3ef0d30e74135c18",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.punta1.off",
                "pt": "global",
                "to": "14",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "4d42cdf2c783f393",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.punta2.on",
                "pt": "global",
                "to": "18",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "6892330dbf87dee6",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "a712dd8b257c8e86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.punta2.off",
                "pt": "global",
                "to": "22",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "cfed5fda317bd14b",
        "type": "inject",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 1000,
        "wires": [
            [
                "ab77213ae3bfea3c"
            ]
        ]
    },
    {
        "id": "d77eed99aa02e76c",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "treball1",
        "rules": [
            {
                "t": "set",
                "p": "diposits.treball1",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 1820,
        "wires": [
            []
        ]
    },
    {
        "id": "271f5abe19fded0c",
        "type": "inject",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "diposits.consigna.treball1",
        "payloadType": "global",
        "x": 300,
        "y": 1860,
        "wires": [
            [
                "d77eed99aa02e76c",
                "180d881496a243ca"
            ]
        ]
    },
    {
        "id": "4df7010725549e38",
        "type": "comment",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "Tarifes vàlvules Ca l'Esteve  (tarifa 1)",
        "info": "",
        "x": 220,
        "y": 920,
        "wires": []
    },
    {
        "id": "180d881496a243ca",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "sel diposit",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 520,
        "y": 1860,
        "wires": [
            [
                "327594619ddb9dad",
                "aa32301e283303ca"
            ],
            [
                "d59cb02be0e850b3",
                "547b5d0daa89f799"
            ]
        ],
        "outputLabels": [
            "diposit 1",
            "diposit 2"
        ]
    },
    {
        "id": "327594619ddb9dad",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "3e8c794b53f57f8c",
        "name": "estiu/hivern",
        "property": "diposits.consigna.tarifa1.estiuhivern",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 730,
        "y": 1560,
        "wires": [
            [
                "a90f0da08743fbf2",
                "a366e67e0e586d6e",
                "471ac6f85b1f19b0"
            ],
            [
                "c5199db2b7325552",
                "3445228d68550abd",
                "f8e5251aafe249b2"
            ]
        ]
    },
    {
        "id": "a90f0da08743fbf2",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "5ece3380e8a58b91",
        "name": "condicions vall",
        "property": "(\t   $globalContext(\"diposit1.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa1.estiu.vall.on\"\t   ) or $flowContext(\"tarifa1.auxvall\")\t)\tand\t(\t   $globalContext(\"diposit1.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa1.estiu.vall.off\"\t   ) or $globalContext(\"diposit1.nivell\") >= 100\t)\t\t",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 960,
        "y": 1420,
        "wires": [
            [
                "b4a3d7e7ebdbf962"
            ],
            [
                "02ac5a41f46f6480"
            ]
        ]
    },
    {
        "id": "b4a3d7e7ebdbf962",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "5ece3380e8a58b91",
        "name": "horaritarifa.vall",
        "property": "horaritarifa.vall",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1140,
        "y": 1400,
        "wires": [
            [
                "89d5f9cf1db8308b"
            ],
            [
                "02ac5a41f46f6480"
            ]
        ]
    },
    {
        "id": "89d5f9cf1db8308b",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "5ece3380e8a58b91",
        "name": "tarifa1.auxvall = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxvall",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "02ac5a41f46f6480",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "5ece3380e8a58b91",
        "name": "tarifa1.auxvall = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 1440,
        "wires": [
            []
        ]
    },
    {
        "id": "a366e67e0e586d6e",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "5ece3380e8a58b91",
        "name": "condicions plana",
        "property": "(\t   $globalContext(\"diposit1.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa1.estiu.plana.on\"\t   ) or $flowContext(\"tarifa1.auxplana\")\t)\tand\t(\t   $globalContext(\"diposit1.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa1.estiu.plana.off\"\t   )\t)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 1520,
        "wires": [
            [
                "03ab7a4851f647ed"
            ],
            [
                "6a1c742da348d703"
            ]
        ]
    },
    {
        "id": "03ab7a4851f647ed",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "5ece3380e8a58b91",
        "name": "horaritarifa.plana",
        "property": "horaritarifa.plana",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 1500,
        "wires": [
            [
                "bce18556eb1078ed"
            ],
            [
                "6a1c742da348d703"
            ]
        ]
    },
    {
        "id": "6a1c742da348d703",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "5ece3380e8a58b91",
        "name": "tarifa1.auxplana = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "471ac6f85b1f19b0",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "5ece3380e8a58b91",
        "name": "condicions punta",
        "property": "(\t   $globalContext(\"diposit1.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa1.estiu.punta.on\"\t   ) or $flowContext(\"tarifa1.auxpunta\")\t)\tand\t(\t   $globalContext(\"diposit1.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa1.estiu.punta.off\"\t   )\t)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 1600,
        "wires": [
            [
                "2ce34d4bf6972d28"
            ],
            [
                "9952ac00a2403b10"
            ]
        ]
    },
    {
        "id": "2ce34d4bf6972d28",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "5ece3380e8a58b91",
        "name": "horaritarifa.punta",
        "property": "horaritarifa.punta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 1580,
        "wires": [
            [
                "ac1653894dd34e92"
            ],
            [
                "9952ac00a2403b10"
            ]
        ]
    },
    {
        "id": "9952ac00a2403b10",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "5ece3380e8a58b91",
        "name": "tarifa1.auxpunta = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1460,
        "y": 1600,
        "wires": [
            []
        ]
    },
    {
        "id": "bce18556eb1078ed",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "5ece3380e8a58b91",
        "name": "tarifa1.auxplana = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxplana",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "ac1653894dd34e92",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "5ece3380e8a58b91",
        "name": "tarifa1.auxpunta = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxpunta",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1460,
        "y": 1560,
        "wires": [
            []
        ]
    },
    {
        "id": "c5199db2b7325552",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "cec8714353811125",
        "name": "condicions vall",
        "property": "(\t   $globalContext(\"diposit1.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa1.hivern.vall.on\"\t   ) or $flowContext(\"tarifa1.auxvall\")\t)\tand\t(\t   $globalContext(\"diposit1.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa1.hivern.vall.off\"\t   ) or $globalContext(\"diposit1.nivell\") >= 100\t)\t\t",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 960,
        "y": 1720,
        "wires": [
            [
                "fe46476f3662ef15"
            ],
            [
                "ea2c5936b5160db5"
            ]
        ]
    },
    {
        "id": "fe46476f3662ef15",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "cec8714353811125",
        "name": "horaritarifa.vall",
        "property": "horaritarifa.vall",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1140,
        "y": 1700,
        "wires": [
            [
                "8c21e302d6885e49"
            ],
            [
                "ea2c5936b5160db5"
            ]
        ]
    },
    {
        "id": "8c21e302d6885e49",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "cec8714353811125",
        "name": "tarifa1.auxvall = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxvall",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 1700,
        "wires": [
            []
        ]
    },
    {
        "id": "ea2c5936b5160db5",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "cec8714353811125",
        "name": "tarifa1.auxvall = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 1740,
        "wires": [
            []
        ]
    },
    {
        "id": "3445228d68550abd",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "cec8714353811125",
        "name": "condicions plana",
        "property": "(\t   $globalContext(\"diposit1.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa1.hivern.plana.on\"\t   ) or $flowContext(\"tarifa1.auxplana\")\t)\tand\t(\t   $globalContext(\"diposit1.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa1.hivern.plana.off\"\t   )\t)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 1820,
        "wires": [
            [
                "e56530dcab55652e"
            ],
            [
                "8a779688e96d6cf8"
            ]
        ]
    },
    {
        "id": "e56530dcab55652e",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "cec8714353811125",
        "name": "horaritarifa.plana",
        "property": "horaritarifa.plana",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 1800,
        "wires": [
            [
                "8ea568b05ad7192e"
            ],
            [
                "8a779688e96d6cf8"
            ]
        ]
    },
    {
        "id": "8a779688e96d6cf8",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "cec8714353811125",
        "name": "tarifa1.auxplana = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 1820,
        "wires": [
            []
        ]
    },
    {
        "id": "f8e5251aafe249b2",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "cec8714353811125",
        "name": "condicions punta",
        "property": "(\t   $globalContext(\"diposit1.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa1.hivern.punta.on\"\t   ) or $flowContext(\"tarifa1.auxpunta\")\t)\tand\t(\t   $globalContext(\"diposit1.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa1.hivern.punta.off\"\t   )\t)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 1900,
        "wires": [
            [
                "6b4c8e3afb127695"
            ],
            [
                "7f3d2623575c4775"
            ]
        ]
    },
    {
        "id": "6b4c8e3afb127695",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "cec8714353811125",
        "name": "horaritarifa.punta",
        "property": "horaritarifa.punta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 1880,
        "wires": [
            [
                "51516c7bf95661c0"
            ],
            [
                "7f3d2623575c4775"
            ]
        ]
    },
    {
        "id": "7f3d2623575c4775",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "cec8714353811125",
        "name": "tarifa1.auxpunta = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1460,
        "y": 1900,
        "wires": [
            []
        ]
    },
    {
        "id": "8ea568b05ad7192e",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "cec8714353811125",
        "name": "tarifa1.auxplana = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxplana",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 1780,
        "wires": [
            []
        ]
    },
    {
        "id": "51516c7bf95661c0",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "cec8714353811125",
        "name": "tarifa1.auxpunta = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxpunta",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1460,
        "y": 1860,
        "wires": [
            []
        ]
    },
    {
        "id": "d59cb02be0e850b3",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "9afc1104e379bff5",
        "name": "estiu/hivern",
        "property": "diposits.consigna.tarifa1.estiuhivern",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 730,
        "y": 2220,
        "wires": [
            [
                "dba19fd762ff8a06",
                "136795241fd91158",
                "4725bf42d8ee0d83"
            ],
            [
                "c7c657f2d2addb5e",
                "f8afdfb6890b1797",
                "003ea8c56fad23e7"
            ]
        ]
    },
    {
        "id": "dba19fd762ff8a06",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "d72fd464c0ef7527",
        "name": "condicions vall",
        "property": "(\t   $globalContext(\"diposit2.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa1.estiu.vall.on\"\t   ) or $flowContext(\"tarifa1.auxvall\")\t)\tand\t(\t   $globalContext(\"diposit2.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa1.estiu.vall.off\"\t   ) or $globalContext(\"diposit2.nivell\") >= 100\t)\t\t",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 960,
        "y": 2080,
        "wires": [
            [
                "4a323e10da5837e3"
            ],
            [
                "2fd98b4ab1d93e4c"
            ]
        ]
    },
    {
        "id": "4a323e10da5837e3",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "d72fd464c0ef7527",
        "name": "horaritarifa.vall",
        "property": "horaritarifa.vall",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1140,
        "y": 2060,
        "wires": [
            [
                "767d40f753b369da"
            ],
            [
                "2fd98b4ab1d93e4c"
            ]
        ]
    },
    {
        "id": "767d40f753b369da",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "d72fd464c0ef7527",
        "name": "tarifa1.auxvall = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxvall",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 2060,
        "wires": [
            []
        ]
    },
    {
        "id": "2fd98b4ab1d93e4c",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "d72fd464c0ef7527",
        "name": "tarifa1.auxvall = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 2100,
        "wires": [
            []
        ]
    },
    {
        "id": "136795241fd91158",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "d72fd464c0ef7527",
        "name": "condicions plana",
        "property": "(\t   $globalContext(\"diposit2.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa1.estiu.plana.on\"\t   ) or $flowContext(\"tarifa1.auxplana\")\t)\tand\t(\t   $globalContext(\"diposit2.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa1.estiu.plana.off\"\t   )\t)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 2180,
        "wires": [
            [
                "5e56be75c7ec6651"
            ],
            [
                "7597064351c49ad6"
            ]
        ]
    },
    {
        "id": "5e56be75c7ec6651",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "d72fd464c0ef7527",
        "name": "horaritarifa.plana",
        "property": "horaritarifa.plana",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 2160,
        "wires": [
            [
                "3acb31294159e642"
            ],
            [
                "7597064351c49ad6"
            ]
        ]
    },
    {
        "id": "7597064351c49ad6",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "d72fd464c0ef7527",
        "name": "tarifa1.auxplana = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 2180,
        "wires": [
            []
        ]
    },
    {
        "id": "4725bf42d8ee0d83",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "d72fd464c0ef7527",
        "name": "condicions punta",
        "property": "(\t   $globalContext(\"diposit2.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa1.estiu.punta.on\"\t   ) or $flowContext(\"tarifa1.auxpunta\")\t)\tand\t(\t   $globalContext(\"diposit2.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa1.estiu.punta.off\"\t   )\t)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 2260,
        "wires": [
            [
                "ea0d058132e917d9"
            ],
            [
                "8aab9a861f735984"
            ]
        ]
    },
    {
        "id": "ea0d058132e917d9",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "d72fd464c0ef7527",
        "name": "horaritarifa.punta",
        "property": "horaritarifa.punta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 2240,
        "wires": [
            [
                "5728e2d84958d41c"
            ],
            [
                "8aab9a861f735984"
            ]
        ]
    },
    {
        "id": "8aab9a861f735984",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "d72fd464c0ef7527",
        "name": "tarifa1.auxpunta = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1460,
        "y": 2260,
        "wires": [
            []
        ]
    },
    {
        "id": "3acb31294159e642",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "d72fd464c0ef7527",
        "name": "tarifa1.auxplana = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxplana",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 2140,
        "wires": [
            []
        ]
    },
    {
        "id": "5728e2d84958d41c",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "d72fd464c0ef7527",
        "name": "tarifa1.auxpunta = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxpunta",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1460,
        "y": 2220,
        "wires": [
            []
        ]
    },
    {
        "id": "c7c657f2d2addb5e",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "condicions vall",
        "property": "(\t   $globalContext(\"diposit2.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa1.hivern.vall.on\"\t   ) or $flowContext(\"tarifa1.auxvall\")\t)\tand\t(\t   $globalContext(\"diposit2.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa1.hivern.vall.off\"\t   ) or $globalContext(\"diposit2.nivell\") >= 100\t)\t\t",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 960,
        "y": 2340,
        "wires": [
            [
                "4224a661a3c48ad3"
            ],
            [
                "f69ca7ae607693ec"
            ]
        ]
    },
    {
        "id": "4224a661a3c48ad3",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "horaritarifa.vall",
        "property": "horaritarifa.vall",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1140,
        "y": 2320,
        "wires": [
            [
                "43abb3904da34bad"
            ],
            [
                "f69ca7ae607693ec"
            ]
        ]
    },
    {
        "id": "43abb3904da34bad",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa1.auxvall = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxvall",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 2320,
        "wires": [
            []
        ]
    },
    {
        "id": "f69ca7ae607693ec",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa1.auxvall = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 2360,
        "wires": [
            []
        ]
    },
    {
        "id": "f8afdfb6890b1797",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "condicions plana",
        "property": "(\t   $globalContext(\"diposit2.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa1.hivern.plana.on\"\t   ) or $flowContext(\"tarifa1.auxplana\")\t)\tand\t(\t   $globalContext(\"diposit2.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa1.hivern.plana.off\"\t   )\t)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 2440,
        "wires": [
            [
                "db93f1b24c56c75f"
            ],
            [
                "3633bc26cefc7857"
            ]
        ]
    },
    {
        "id": "db93f1b24c56c75f",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "horaritarifa.plana",
        "property": "horaritarifa.plana",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 2420,
        "wires": [
            [
                "3fef53cc9f96f4bb"
            ],
            [
                "3633bc26cefc7857"
            ]
        ]
    },
    {
        "id": "3633bc26cefc7857",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa1.auxplana = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 2440,
        "wires": [
            []
        ]
    },
    {
        "id": "003ea8c56fad23e7",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "condicions punta",
        "property": "(\t   $globalContext(\"diposit2.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa1.hivern.punta.on\"\t   ) or $flowContext(\"tarifa1.auxpunta\")\t)\tand\t(\t   $globalContext(\"diposit2.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa1.hivern.punta.off\"\t   )\t)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 2520,
        "wires": [
            [
                "5d35244b32a8ea92"
            ],
            [
                "b48afb7e42cc766c"
            ]
        ]
    },
    {
        "id": "5d35244b32a8ea92",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "horaritarifa.punta",
        "property": "horaritarifa.punta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 2500,
        "wires": [
            [
                "f13bff07296f96d4"
            ],
            [
                "b48afb7e42cc766c"
            ]
        ]
    },
    {
        "id": "b48afb7e42cc766c",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa1.auxpunta = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1460,
        "y": 2520,
        "wires": [
            []
        ]
    },
    {
        "id": "3fef53cc9f96f4bb",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa1.auxplana = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxplana",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 2400,
        "wires": [
            []
        ]
    },
    {
        "id": "f13bff07296f96d4",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa1.auxpunta = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa1.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa1.auxpunta",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1460,
        "y": 2480,
        "wires": [
            []
        ]
    },
    {
        "id": "de8163150711ca15",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "tarifa1.auxvall",
        "property": "tarifa1.auxvall",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 520,
        "y": 2640,
        "wires": [
            [
                "5b1cdf0e5c62d6a5"
            ],
            [
                "10915b5eaad452ca"
            ]
        ]
    },
    {
        "id": "10915b5eaad452ca",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "tarifa1.auxplana",
        "property": "tarifa1.auxplana",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 720,
        "y": 2660,
        "wires": [
            [
                "5b1cdf0e5c62d6a5"
            ],
            [
                "15bff8b04cabf591"
            ]
        ]
    },
    {
        "id": "15bff8b04cabf591",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "tarifa1.auxpunta",
        "property": "tarifa1.auxpunta",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 900,
        "y": 2680,
        "wires": [
            [
                "5b1cdf0e5c62d6a5"
            ],
            [
                "b2ce1236ce0bf052"
            ]
        ]
    },
    {
        "id": "6ea4871330afd57c",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "diposit1.servei",
        "property": "diposit1.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 300,
        "y": 2660,
        "wires": [
            [
                "de8163150711ca15"
            ],
            [
                "b2ce1236ce0bf052"
            ]
        ]
    },
    {
        "id": "210561599986f771",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "diposit2.servei",
        "property": "diposit2.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 300,
        "y": 2840,
        "wires": [
            [
                "1a795361bd83e434"
            ],
            [
                "882fac419d612ec4"
            ]
        ]
    },
    {
        "id": "b2ce1236ce0bf052",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "v1.tarifes = 0",
        "rules": [
            {
                "t": "set",
                "p": "v1.tarifes",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1110,
        "y": 2720,
        "wires": [
            []
        ]
    },
    {
        "id": "882fac419d612ec4",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "v2.tarifes = 0",
        "rules": [
            {
                "t": "set",
                "p": "v2.tarifes",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1110,
        "y": 2900,
        "wires": [
            []
        ]
    },
    {
        "id": "5b1cdf0e5c62d6a5",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "v1.tarifes = 1 i v2.tarifes = 0",
        "rules": [
            {
                "t": "set",
                "p": "v1.tarifes",
                "pt": "global",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "v2.tarifes",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 2640,
        "wires": [
            []
        ]
    },
    {
        "id": "1f91fa6d48882425",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "v1.tarifes = 0 i v2.tarifes = 1",
        "rules": [
            {
                "t": "set",
                "p": "v1.tarifes",
                "pt": "global",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "v2.tarifes",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 2820,
        "wires": [
            []
        ]
    },
    {
        "id": "1a795361bd83e434",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "tarifa1.auxvall",
        "property": "tarifa1.auxvall",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 500,
        "y": 2820,
        "wires": [
            [
                "1f91fa6d48882425"
            ],
            [
                "26772bb4b6611d30"
            ]
        ]
    },
    {
        "id": "26772bb4b6611d30",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "tarifa1.auxplana",
        "property": "tarifa1.auxplana",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 700,
        "y": 2840,
        "wires": [
            [
                "1f91fa6d48882425"
            ],
            [
                "9b6861ea17c1bfcb"
            ]
        ]
    },
    {
        "id": "9b6861ea17c1bfcb",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "88010a504113ec9e",
        "name": "tarifa1.auxpunta",
        "property": "tarifa1.auxpunta",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 880,
        "y": 2860,
        "wires": [
            [
                "1f91fa6d48882425"
            ],
            [
                "882fac419d612ec4"
            ]
        ]
    },
    {
        "id": "3f0568e01967c718",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "Vall",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "btwn",
                "v": "horaritarifa.vall1.on",
                "vt": "global",
                "v2": "horaritarifa.vall1.off",
                "v2t": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1010,
        "y": 1080,
        "wires": [
            [
                "2d161c1ee5ee8c5d"
            ]
        ]
    },
    {
        "id": "067cc3e74e0af4eb",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "Plana",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "btwn",
                "v": "horaritarifa.plana1.on",
                "vt": "global",
                "v2": "horaritarifa.plana1.off",
                "v2t": "global"
            },
            {
                "t": "btwn",
                "v": "horaritarifa.plana2.on",
                "vt": "global",
                "v2": "horaritarifa.plana2.off",
                "v2t": "global"
            },
            {
                "t": "btwn",
                "v": "horaritarifa.plana3.on",
                "vt": "global",
                "v2": "24",
                "v2t": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 1010,
        "y": 1140,
        "wires": [
            [
                "d3c1c5fa026ef173"
            ],
            [
                "049aceb3ef48c63b"
            ],
            [
                "f9ebc10fda039ab0"
            ]
        ]
    },
    {
        "id": "e21fd0c0daba2060",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "Punta",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "btwn",
                "v": "horaritarifa.punta1.on",
                "vt": "global",
                "v2": "horaritarifa.punta1.off",
                "v2t": "global"
            },
            {
                "t": "btwn",
                "v": "horaritarifa.punta2.on",
                "vt": "global",
                "v2": "horaritarifa.punta2.off",
                "v2t": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1010,
        "y": 1240,
        "wires": [
            [
                "83f22432830419ef"
            ],
            [
                "314a5418a82771dc"
            ]
        ]
    },
    {
        "id": "7b3e0b8e6384ccfe",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "Laboral",
        "property": "plc.mDiaLocal",
        "propertyType": "global",
        "rules": [
            {
                "t": "btwn",
                "v": "1",
                "vt": "num",
                "v2": "5",
                "v2t": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 740,
        "y": 1140,
        "wires": [
            [
                "e6e50a2d2882c50e"
            ]
        ]
    },
    {
        "id": "b85af6dc0a4f5396",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "vall",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.vall",
                "pt": "global",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "horaritarifa.plana",
                "pt": "global",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "horaritarifa.punta",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "73da721737fa5282",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "plana",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.plana",
                "pt": "global",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "horaritarifa.vall",
                "pt": "global",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "horaritarifa.punta",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "20d0cc62df7a2282",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "punta",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.punta",
                "pt": "global",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "horaritarifa.vall",
                "pt": "global",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "horaritarifa.plana",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 1240,
        "wires": [
            []
        ]
    },
    {
        "id": "d4faaaa6b8993ac8",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "Cap Setmana",
        "property": "plc.mDiaLocal",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "6",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1100,
        "y": 1020,
        "wires": [
            [
                "b85af6dc0a4f5396"
            ],
            [
                "b85af6dc0a4f5396"
            ]
        ]
    },
    {
        "id": "e6e50a2d2882c50e",
        "type": "function",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "HH",
        "func": "var entrada=global.get(\"plc.mHoraLocal\");\n\nseccionar=entrada.split(\":\",);\n\nhora=seccionar[0];\n\nmsg.payload=[hora];\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 1140,
        "wires": [
            [
                "3f0568e01967c718",
                "067cc3e74e0af4eb",
                "e21fd0c0daba2060"
            ]
        ]
    },
    {
        "id": "ab77213ae3bfea3c",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "Mode Dipòsits Auto/ Forçar Vall ",
        "property": "diposits.consigna.tarifa1.manual",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "3",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 1000,
        "wires": [
            [
                "7c80da2c2f6e8e3b"
            ],
            [
                "544d3002a910df1d"
            ]
        ]
    },
    {
        "id": "d3c1c5fa026ef173",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "<h.off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "horaritarifa.plana1.off",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 1100,
        "wires": [
            [
                "73da721737fa5282"
            ]
        ]
    },
    {
        "id": "049aceb3ef48c63b",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "<h.off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "horaritarifa.plana2.off",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 1140,
        "wires": [
            [
                "73da721737fa5282"
            ]
        ]
    },
    {
        "id": "f9ebc10fda039ab0",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "<h.off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "24",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 1180,
        "wires": [
            [
                "73da721737fa5282"
            ]
        ]
    },
    {
        "id": "83f22432830419ef",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "<h.off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "horaritarifa.punta1.off",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 1220,
        "wires": [
            [
                "20d0cc62df7a2282"
            ]
        ]
    },
    {
        "id": "314a5418a82771dc",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "<h.off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "horaritarifa.punta2.off",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 1260,
        "wires": [
            [
                "20d0cc62df7a2282"
            ]
        ]
    },
    {
        "id": "2d161c1ee5ee8c5d",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "1c5d544f2907841e",
        "name": "<h.off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "horaritarifa.vall1.off",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 1060,
        "wires": [
            [
                "b85af6dc0a4f5396"
            ]
        ]
    },
    {
        "id": "3f43c11f7e1df0a5",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "treball2",
        "rules": [
            {
                "t": "set",
                "p": "diposits.treball2",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 3920,
        "wires": [
            []
        ]
    },
    {
        "id": "95d64cdbdf4f9c26",
        "type": "inject",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "diposits.consigna.treball2",
        "payloadType": "global",
        "x": 300,
        "y": 3960,
        "wires": [
            [
                "3f43c11f7e1df0a5",
                "3c89f3b4a2805c1b"
            ]
        ]
    },
    {
        "id": "703f055e9a59a8ba",
        "type": "comment",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "Tarifes Bombament Gronxadors  (tarifa 2)",
        "info": "",
        "x": 240,
        "y": 3020,
        "wires": []
    },
    {
        "id": "3c89f3b4a2805c1b",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "sel diposit",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 520,
        "y": 3960,
        "wires": [
            [
                "80421fe9a32fb903",
                "6308aea184cd9837"
            ],
            [
                "0b5ca5159c636e50",
                "3a5a57e1bc72067d"
            ]
        ],
        "outputLabels": [
            "diposit 1",
            "diposit 2"
        ]
    },
    {
        "id": "91bfb25de9571ab3",
        "type": "inject",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 3100,
        "wires": [
            [
                "26d86fade7720796"
            ]
        ]
    },
    {
        "id": "26d86fade7720796",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "Mode Dipòsits Auto/ Forçar Vall ",
        "property": "diposits.consigna.tarifa2.manual",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "3",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 3100,
        "wires": [
            [
                "ad1ff4d00ec3c415"
            ],
            [
                "5ca48b55ea6252d0"
            ]
        ]
    },
    {
        "id": "ca5c1e6f32f7b949",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "Vall",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "btwn",
                "v": "horaritarifa.vall1.on",
                "vt": "global",
                "v2": "horaritarifa.vall1.off",
                "v2t": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1010,
        "y": 3180,
        "wires": [
            [
                "a2ca08f3f4de84d6"
            ]
        ]
    },
    {
        "id": "0be5df2983351baf",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "Plana",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "btwn",
                "v": "horaritarifa.plana1.on",
                "vt": "global",
                "v2": "horaritarifa.plana1.off",
                "v2t": "global"
            },
            {
                "t": "btwn",
                "v": "horaritarifa.plana2.on",
                "vt": "global",
                "v2": "horaritarifa.plana2.off",
                "v2t": "global"
            },
            {
                "t": "btwn",
                "v": "horaritarifa.plana3.on",
                "vt": "global",
                "v2": "24",
                "v2t": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 1010,
        "y": 3240,
        "wires": [
            [
                "f9e9dd8717bcfba8"
            ],
            [
                "b8e2e4b3d18379bf"
            ],
            [
                "1a3ac9eebcea46e3"
            ]
        ]
    },
    {
        "id": "91505f49d04be116",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "Punta",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "btwn",
                "v": "horaritarifa.punta1.on",
                "vt": "global",
                "v2": "horaritarifa.punta1.off",
                "v2t": "global"
            },
            {
                "t": "btwn",
                "v": "horaritarifa.punta2.on",
                "vt": "global",
                "v2": "horaritarifa.punta2.off",
                "v2t": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1010,
        "y": 3340,
        "wires": [
            [
                "ea88459cda2633df"
            ],
            [
                "99521499dfec490e"
            ]
        ]
    },
    {
        "id": "5713319853ae2b3d",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "Laboral",
        "property": "plc.mDiaLocal",
        "propertyType": "global",
        "rules": [
            {
                "t": "btwn",
                "v": "1",
                "vt": "num",
                "v2": "5",
                "v2t": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 740,
        "y": 3240,
        "wires": [
            [
                "e7c9dbd2f3e074e3"
            ]
        ]
    },
    {
        "id": "27ccc78a8c6375ca",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "Cap Setmana",
        "property": "plc.mDiaLocal",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "6",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1100,
        "y": 3120,
        "wires": [
            [
                "33246b0567f06e20"
            ],
            [
                "33246b0567f06e20"
            ]
        ]
    },
    {
        "id": "e7c9dbd2f3e074e3",
        "type": "function",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "HH",
        "func": "var entrada=global.get(\"plc.mHoraLocal\");\n\nseccionar=entrada.split(\":\",);\n\nhora=seccionar[0];\n\nmsg.payload=[hora];\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 3240,
        "wires": [
            [
                "ca5c1e6f32f7b949",
                "0be5df2983351baf",
                "91505f49d04be116"
            ]
        ]
    },
    {
        "id": "f9e9dd8717bcfba8",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "<h.off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "horaritarifa.plana1.off",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 3200,
        "wires": [
            [
                "9985aa6372fdbbe5"
            ]
        ]
    },
    {
        "id": "b8e2e4b3d18379bf",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "<h.off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "horaritarifa.plana2.off",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 3240,
        "wires": [
            [
                "9985aa6372fdbbe5"
            ]
        ]
    },
    {
        "id": "1a3ac9eebcea46e3",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "<h.off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "24",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 3280,
        "wires": [
            [
                "9985aa6372fdbbe5"
            ]
        ]
    },
    {
        "id": "ea88459cda2633df",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "<h.off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "horaritarifa.punta1.off",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 3320,
        "wires": [
            [
                "e07e89cc901e91bd"
            ]
        ]
    },
    {
        "id": "99521499dfec490e",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "<h.off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "horaritarifa.punta2.off",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 3360,
        "wires": [
            [
                "e07e89cc901e91bd"
            ]
        ]
    },
    {
        "id": "a2ca08f3f4de84d6",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "<h.off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "horaritarifa.vall1.off",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1130,
        "y": 3160,
        "wires": [
            [
                "33246b0567f06e20"
            ]
        ]
    },
    {
        "id": "e07e89cc901e91bd",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "punta",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.punta",
                "pt": "global",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "horaritarifa.vall",
                "pt": "global",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "horaritarifa.plana",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 3340,
        "wires": [
            []
        ]
    },
    {
        "id": "9985aa6372fdbbe5",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "plana",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.plana",
                "pt": "global",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "horaritarifa.vall",
                "pt": "global",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "horaritarifa.punta",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 3240,
        "wires": [
            []
        ]
    },
    {
        "id": "33246b0567f06e20",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "7801467ccf18bf07",
        "name": "vall",
        "rules": [
            {
                "t": "set",
                "p": "horaritarifa.vall",
                "pt": "global",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "horaritarifa.plana",
                "pt": "global",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "horaritarifa.punta",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 3120,
        "wires": [
            []
        ]
    },
    {
        "id": "80421fe9a32fb903",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "estiu/hivern",
        "property": "diposits.consigna.tarifa2.estiuhivern",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 3660,
        "wires": [
            [
                "4bb1add558e8ce3a",
                "197aa9468c2137a6",
                "9efbbf3696d9611b"
            ],
            [
                "aa6befa6595eda8d",
                "f0b759f314405697",
                "c4db7b9d968bd48b"
            ]
        ]
    },
    {
        "id": "4bb1add558e8ce3a",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "condicions vall",
        "property": "(\t   $globalContext(\"diposit1.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa2.estiu.vall.on\"\t   ) or $flowContext(\"tarifa2.auxvall\")\t)\tand\t(\t   $globalContext(\"diposit1.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa2.estiu.vall.off\"\t   ) or $globalContext(\"diposit2.nivell\") >= 100\t)\t\t",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 980,
        "y": 3520,
        "wires": [
            [
                "bc9986b1f072ed6d",
                "36cc6c8f4df7600b"
            ],
            [
                "9ec3cd71a1ac640a"
            ]
        ]
    },
    {
        "id": "bc9986b1f072ed6d",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "horaritarifa.vall",
        "property": "horaritarifa.vall",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1160,
        "y": 3500,
        "wires": [
            [
                "c4a83ee316365db7"
            ],
            [
                "9ec3cd71a1ac640a"
            ]
        ]
    },
    {
        "id": "c4a83ee316365db7",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa2.auxvall = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxvall",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 3500,
        "wires": [
            []
        ]
    },
    {
        "id": "9ec3cd71a1ac640a",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa2.auxvall = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 3540,
        "wires": [
            []
        ]
    },
    {
        "id": "197aa9468c2137a6",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "condicions plana",
        "property": "(\t   $globalContext(\"diposit1.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa2.estiu.plana.on\"\t   ) or $flowContext(\"tarifa2.auxplana\")\t)\tand\t(\t   $globalContext(\"diposit1.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa2.estiu.plana.off\"\t   )\t)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 990,
        "y": 3620,
        "wires": [
            [
                "6f9edb21363d0858",
                "4b9d1d12e3c2dad0"
            ],
            [
                "602f1421476a8354"
            ]
        ]
    },
    {
        "id": "6f9edb21363d0858",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "horaritarifa.plana",
        "property": "horaritarifa.plana",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1190,
        "y": 3600,
        "wires": [
            [
                "f3d4f9d1a65c2a77"
            ],
            [
                "602f1421476a8354"
            ]
        ]
    },
    {
        "id": "602f1421476a8354",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa2.auxplana = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 3620,
        "wires": [
            []
        ]
    },
    {
        "id": "9efbbf3696d9611b",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "condicions punta",
        "property": "(\t   $globalContext(\"diposit1.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa2.estiu.punta.on\"\t   ) or $flowContext(\"tarifa2.auxpunta\")\t)\tand\t(\t   $globalContext(\"diposit1.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa2.estiu.punta.off\"\t   )\t)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 990,
        "y": 3700,
        "wires": [
            [
                "e5f49e8da89ac920",
                "cdc5b71b2c1efe07"
            ],
            [
                "6b5d7defcb4c558d"
            ]
        ]
    },
    {
        "id": "e5f49e8da89ac920",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "horaritarifa.punta",
        "property": "horaritarifa.punta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1190,
        "y": 3680,
        "wires": [
            [
                "4e53a9e1795971f3"
            ],
            [
                "6b5d7defcb4c558d"
            ]
        ]
    },
    {
        "id": "6b5d7defcb4c558d",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa2.auxpunta = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1480,
        "y": 3700,
        "wires": [
            []
        ]
    },
    {
        "id": "f3d4f9d1a65c2a77",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa2.auxplana = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxplana",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 3580,
        "wires": [
            []
        ]
    },
    {
        "id": "4e53a9e1795971f3",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa2.auxpunta = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxpunta",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1480,
        "y": 3660,
        "wires": [
            []
        ]
    },
    {
        "id": "aa6befa6595eda8d",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "condicions vall",
        "property": "(\t   $globalContext(\"diposit1.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa2.hivern.vall.on\"\t   ) or $flowContext(\"tarifa2.auxvall\")\t)\tand\t(\t   $globalContext(\"diposit1.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa2.hivern.vall.off\"\t   ) or $globalContext(\"diposit1.nivell\") >= 100\t)\t\t",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 980,
        "y": 3820,
        "wires": [
            [
                "abe0070d43c2f0da"
            ],
            [
                "fb754e9aec8838ca"
            ]
        ]
    },
    {
        "id": "abe0070d43c2f0da",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "horaritarifa.vall",
        "property": "horaritarifa.vall",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1180,
        "y": 3800,
        "wires": [
            [
                "96aa502d66ad4d23"
            ],
            [
                "fb754e9aec8838ca"
            ]
        ]
    },
    {
        "id": "96aa502d66ad4d23",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa2.auxvall = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxvall",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 3800,
        "wires": [
            []
        ]
    },
    {
        "id": "fb754e9aec8838ca",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa2.auxvall = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 3840,
        "wires": [
            []
        ]
    },
    {
        "id": "f0b759f314405697",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "condicions plana",
        "property": "(\t   $globalContext(\"diposit1.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa2.hivern.plana.on\"\t   ) or $flowContext(\"tarifa2.auxplana\")\t)\tand\t(\t   $globalContext(\"diposit1.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa2.hivern.plana.off\"\t   )\t)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 990,
        "y": 3920,
        "wires": [
            [
                "0b01b2ab8f2789fb"
            ],
            [
                "2193fb2d309f725a"
            ]
        ]
    },
    {
        "id": "0b01b2ab8f2789fb",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "horaritarifa.plana",
        "property": "horaritarifa.plana",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1190,
        "y": 3900,
        "wires": [
            [
                "fb3a32431880bbdc"
            ],
            [
                "2193fb2d309f725a"
            ]
        ]
    },
    {
        "id": "2193fb2d309f725a",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa2.auxplana = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 3920,
        "wires": [
            []
        ]
    },
    {
        "id": "c4db7b9d968bd48b",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "condicions punta",
        "property": "(\t   $globalContext(\"diposit1.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa2.hivern.punta.on\"\t   ) or $flowContext(\"tarifa2.auxpunta\")\t)\tand\t(\t   $globalContext(\"diposit1.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa2.hivern.punta.off\"\t   )\t)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 990,
        "y": 4000,
        "wires": [
            [
                "03b41ad9df33d3e6"
            ],
            [
                "84e8fc898c3bf66f"
            ]
        ]
    },
    {
        "id": "03b41ad9df33d3e6",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "name": "horaritarifa.punta",
        "property": "horaritarifa.punta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1190,
        "y": 3980,
        "wires": [
            [
                "a0916b49be1ab023"
            ],
            [
                "84e8fc898c3bf66f"
            ]
        ]
    },
    {
        "id": "84e8fc898c3bf66f",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa2.auxpunta = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1480,
        "y": 4000,
        "wires": [
            []
        ]
    },
    {
        "id": "fb3a32431880bbdc",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa2.auxplana = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxplana",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 3880,
        "wires": [
            []
        ]
    },
    {
        "id": "a0916b49be1ab023",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "name": "tarifa2.auxpunta = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxpunta",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1480,
        "y": 3960,
        "wires": [
            []
        ]
    },
    {
        "id": "0b5ca5159c636e50",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7de9cdab3affadba",
        "name": "estiu/hivern",
        "property": "diposits.consigna.tarifa2.estiuhivern",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 730,
        "y": 4320,
        "wires": [
            [
                "6e022686fe68340d",
                "ba515348cd99b405",
                "3e79ee1c96e0e26f"
            ],
            [
                "29279d327a751e7b",
                "a8e9e19f153ec716",
                "0bd4774426cf9782"
            ]
        ]
    },
    {
        "id": "6e022686fe68340d",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "05ab6833a2e8eaac",
        "name": "condicions vall",
        "property": "(\t   $globalContext(\"diposit2.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa2.estiu.vall.on\"\t   ) or $flowContext(\"tarifa2.auxvall\")\t)\tand\t(\t   $globalContext(\"diposit2.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa2.estiu.vall.off\"\t   ) or $globalContext(\"diposit2.nivell\") >= 100\t)\t\t",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 960,
        "y": 4180,
        "wires": [
            [
                "8e444bbc9ed99813"
            ],
            [
                "9845c2151afc05b8"
            ]
        ]
    },
    {
        "id": "8e444bbc9ed99813",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "05ab6833a2e8eaac",
        "name": "horaritarifa.vall",
        "property": "horaritarifa.vall",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1140,
        "y": 4160,
        "wires": [
            [
                "2247c07c8dbca0ab"
            ],
            [
                "9845c2151afc05b8"
            ]
        ]
    },
    {
        "id": "2247c07c8dbca0ab",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "05ab6833a2e8eaac",
        "name": "tarifa2.auxvall = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxvall",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 4160,
        "wires": [
            []
        ]
    },
    {
        "id": "9845c2151afc05b8",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "05ab6833a2e8eaac",
        "name": "tarifa2.auxvall = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 4200,
        "wires": [
            []
        ]
    },
    {
        "id": "ba515348cd99b405",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "05ab6833a2e8eaac",
        "name": "condicions plana",
        "property": "(\t   $globalContext(\"diposit2.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa2.estiu.plana.on\"\t   ) or $flowContext(\"tarifa2.auxplana\")\t)\tand\t(\t   $globalContext(\"diposit2.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa2.estiu.plana.off\"\t   )\t)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 4280,
        "wires": [
            [
                "303111a29d843174"
            ],
            [
                "f89dfce910632cf9"
            ]
        ]
    },
    {
        "id": "303111a29d843174",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "05ab6833a2e8eaac",
        "name": "horaritarifa.plana",
        "property": "horaritarifa.plana",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 4260,
        "wires": [
            [
                "d734a1b9ac8017f6"
            ],
            [
                "f89dfce910632cf9"
            ]
        ]
    },
    {
        "id": "f89dfce910632cf9",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "05ab6833a2e8eaac",
        "name": "tarifa2.auxplana = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 4280,
        "wires": [
            []
        ]
    },
    {
        "id": "3e79ee1c96e0e26f",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "05ab6833a2e8eaac",
        "name": "condicions punta",
        "property": "(\t   $globalContext(\"diposit2.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa2.estiu.punta.on\"\t   ) or $flowContext(\"tarifa2.auxpunta\")\t)\tand\t(\t   $globalContext(\"diposit2.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa2.estiu.punta.off\"\t   )\t)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 4360,
        "wires": [
            [
                "bf21e39b961ee4db"
            ],
            [
                "a0dc938a24a46a3b"
            ]
        ]
    },
    {
        "id": "bf21e39b961ee4db",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "05ab6833a2e8eaac",
        "name": "horaritarifa.punta",
        "property": "horaritarifa.punta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 4340,
        "wires": [
            [
                "3d28013ffecd5b27"
            ],
            [
                "a0dc938a24a46a3b"
            ]
        ]
    },
    {
        "id": "a0dc938a24a46a3b",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "05ab6833a2e8eaac",
        "name": "tarifa2.auxpunta = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1460,
        "y": 4360,
        "wires": [
            []
        ]
    },
    {
        "id": "d734a1b9ac8017f6",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "05ab6833a2e8eaac",
        "name": "tarifa2.auxplana = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxplana",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 4240,
        "wires": [
            []
        ]
    },
    {
        "id": "3d28013ffecd5b27",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "05ab6833a2e8eaac",
        "name": "tarifa2.auxpunta = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxpunta",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1460,
        "y": 4320,
        "wires": [
            []
        ]
    },
    {
        "id": "bcbb09422db294e6",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "tarifa2.auxvall",
        "property": "tarifa2.auxvall",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 520,
        "y": 4780,
        "wires": [
            [
                "19ace7ffd213ca48"
            ],
            [
                "ed5c4208d1f33df7"
            ]
        ]
    },
    {
        "id": "ed5c4208d1f33df7",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "tarifa2.auxplana",
        "property": "tarifa2.auxplana",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 700,
        "y": 4820,
        "wires": [
            [
                "19ace7ffd213ca48"
            ],
            [
                "6ff6421b2ad99fdf"
            ]
        ]
    },
    {
        "id": "6ff6421b2ad99fdf",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "tarifa2.auxpunta",
        "property": "tarifa2.auxpunta",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 900,
        "y": 4820,
        "wires": [
            [
                "19ace7ffd213ca48"
            ],
            [
                "0ef6cb2ba63b427b"
            ]
        ]
    },
    {
        "id": "8b5f4a1b90dab8a5",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "diposit1.servei",
        "property": "diposit1.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 300,
        "y": 4800,
        "wires": [
            [
                "bcbb09422db294e6"
            ],
            [
                "0ef6cb2ba63b427b"
            ]
        ]
    },
    {
        "id": "85889f3744b02e66",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "diposit2.servei",
        "property": "diposit2.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 300,
        "y": 4940,
        "wires": [
            [
                "942d7d7912449075"
            ],
            [
                "c88ced4cbcdd4e01"
            ]
        ]
    },
    {
        "id": "c597db9a0c089032",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "bgronxadors.tarifes = 0",
        "rules": [
            {
                "t": "set",
                "p": "bgronxadors.tarifes",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 5020,
        "wires": [
            [
                "d48c937c4e191216"
            ]
        ]
    },
    {
        "id": "23a504b4cb3295f3",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "bgronxadors.tarifes = 1",
        "rules": [
            {
                "t": "set",
                "p": "bgronxadors.tarifes",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 4740,
        "wires": [
            [
                "a105ab66b8f3c394"
            ]
        ]
    },
    {
        "id": "942d7d7912449075",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "tarifa2.auxvall",
        "property": "tarifa2.auxvall",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 500,
        "y": 4920,
        "wires": [
            [
                "6bd566e482ef5572"
            ],
            [
                "aee1904ad09e3b98"
            ]
        ]
    },
    {
        "id": "aee1904ad09e3b98",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "tarifa2.auxplana",
        "property": "tarifa2.auxplana",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 700,
        "y": 4940,
        "wires": [
            [
                "6bd566e482ef5572"
            ],
            [
                "3acd07d984b0065d"
            ]
        ]
    },
    {
        "id": "3acd07d984b0065d",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "tarifa2.auxpunta",
        "property": "tarifa2.auxpunta",
        "propertyType": "flow",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 900,
        "y": 4960,
        "wires": [
            [
                "6bd566e482ef5572"
            ],
            [
                "ba7f9b20aa769784"
            ]
        ]
    },
    {
        "id": "29279d327a751e7b",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7adb6c2d9bd6c84d",
        "name": "condicions vall",
        "property": "(\t   $globalContext(\"diposit2.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa2.hivern.vall.on\"\t   ) or $flowContext(\"tarifa2.auxvall\")\t)\tand\t(\t   $globalContext(\"diposit2.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa2.hivern.vall.off\"\t   ) or $globalContext(\"diposit2.nivell\") >= 100\t)\t\t",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 960,
        "y": 4460,
        "wires": [
            [
                "80deeba20765c6f7"
            ],
            [
                "d9ba2683fc099a82"
            ]
        ]
    },
    {
        "id": "80deeba20765c6f7",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7adb6c2d9bd6c84d",
        "name": "horaritarifa.vall",
        "property": "horaritarifa.vall",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1140,
        "y": 4440,
        "wires": [
            [
                "742f81d4d4a203ac"
            ],
            [
                "d9ba2683fc099a82"
            ]
        ]
    },
    {
        "id": "742f81d4d4a203ac",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "7adb6c2d9bd6c84d",
        "name": "tarifa2.auxvall = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxvall",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 4440,
        "wires": [
            []
        ]
    },
    {
        "id": "d9ba2683fc099a82",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "7adb6c2d9bd6c84d",
        "name": "tarifa2.auxvall = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 4480,
        "wires": [
            []
        ]
    },
    {
        "id": "a8e9e19f153ec716",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7adb6c2d9bd6c84d",
        "name": "condicions plana",
        "property": "(\t   $globalContext(\"diposit2.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa2.hivern.plana.on\"\t   ) or $flowContext(\"tarifa2.auxplana\")\t)\tand\t(\t   $globalContext(\"diposit2.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa2.hivern.plana.off\"\t   )\t)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 4560,
        "wires": [
            [
                "bbafafeb3f18e823"
            ],
            [
                "f2c60cd3ce1d35ce"
            ]
        ]
    },
    {
        "id": "bbafafeb3f18e823",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7adb6c2d9bd6c84d",
        "name": "horaritarifa.plana",
        "property": "horaritarifa.plana",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 4540,
        "wires": [
            [
                "38e18f0bdb5e518d"
            ],
            [
                "f2c60cd3ce1d35ce"
            ]
        ]
    },
    {
        "id": "f2c60cd3ce1d35ce",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "7adb6c2d9bd6c84d",
        "name": "tarifa2.auxplana = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 4560,
        "wires": [
            []
        ]
    },
    {
        "id": "0bd4774426cf9782",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7adb6c2d9bd6c84d",
        "name": "condicions punta",
        "property": "(\t   $globalContext(\"diposit2.nivell\") <= $globalContext(\t       \"diposits.consigna.tarifa2.hivern.punta.on\"\t   ) or $flowContext(\"tarifa2.auxpunta\")\t)\tand\t(\t   $globalContext(\"diposit2.nivell\") < $globalContext(\t       \"diposits.consigna.tarifa2.hivern.punta.off\"\t   )\t)",
        "propertyType": "jsonata",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 4640,
        "wires": [
            [
                "d54998289403d7eb"
            ],
            [
                "d19c33f3ce24bcbe"
            ]
        ]
    },
    {
        "id": "d54998289403d7eb",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "7adb6c2d9bd6c84d",
        "name": "horaritarifa.punta",
        "property": "horaritarifa.punta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 4620,
        "wires": [
            [
                "d8fe78a93aec3ebc"
            ],
            [
                "d19c33f3ce24bcbe"
            ]
        ]
    },
    {
        "id": "d19c33f3ce24bcbe",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "7adb6c2d9bd6c84d",
        "name": "tarifa2.auxpunta = 0",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1460,
        "y": 4640,
        "wires": [
            []
        ]
    },
    {
        "id": "38e18f0bdb5e518d",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "7adb6c2d9bd6c84d",
        "name": "tarifa2.auxplana = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxplana",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxpunta",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 4520,
        "wires": [
            []
        ]
    },
    {
        "id": "d8fe78a93aec3ebc",
        "type": "change",
        "z": "eb9b13ea99aacf08",
        "g": "7adb6c2d9bd6c84d",
        "name": "tarifa2.auxpunta = 1",
        "rules": [
            {
                "t": "set",
                "p": "tarifa2.auxvall",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxplana",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "tarifa2.auxpunta",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1460,
        "y": 4600,
        "wires": [
            []
        ]
    },
    {
        "id": "19ace7ffd213ca48",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "dip1.maxima",
        "property": "diposit1.bmaxim",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1070,
        "y": 4780,
        "wires": [
            [
                "2ef041f398de2603"
            ],
            [
                "0ef6cb2ba63b427b"
            ]
        ]
    },
    {
        "id": "6bd566e482ef5572",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "dip2.maxima",
        "property": "diposit2.bmaxim",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1070,
        "y": 4920,
        "wires": [
            [
                "1acba6be2522903d"
            ],
            [
                "c597db9a0c089032"
            ]
        ]
    },
    {
        "id": "1acba6be2522903d",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "dip1.maxima",
        "property": "diposit1.bmaxim",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1230,
        "y": 4900,
        "wires": [
            [
                "23a504b4cb3295f3"
            ],
            [
                "919ccdf52fef9d5c"
            ]
        ]
    },
    {
        "id": "2ef041f398de2603",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "dip2.maxima",
        "property": "diposit2.bmaxim",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1230,
        "y": 4760,
        "wires": [
            [
                "23a504b4cb3295f3"
            ],
            [
                "5f64ed2d85c8ec46"
            ]
        ]
    },
    {
        "id": "d48c937c4e191216",
        "type": "debug",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "debug 196",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1790,
        "y": 5020,
        "wires": []
    },
    {
        "id": "a105ab66b8f3c394",
        "type": "debug",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "debug 197",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1790,
        "y": 4740,
        "wires": []
    },
    {
        "id": "919ccdf52fef9d5c",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "diposit1.servei",
        "property": "diposit1.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1400,
        "y": 4920,
        "wires": [
            [
                "23a504b4cb3295f3"
            ],
            [
                "c597db9a0c089032"
            ]
        ]
    },
    {
        "id": "5f64ed2d85c8ec46",
        "type": "switch",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "diposit2.servei",
        "property": "diposit2.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1400,
        "y": 4780,
        "wires": [
            [
                "23a504b4cb3295f3"
            ],
            [
                "c597db9a0c089032"
            ]
        ]
    },
    {
        "id": "4b9d1d12e3c2dad0",
        "type": "debug",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "debug 203",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1520,
        "y": 3400,
        "wires": []
    },
    {
        "id": "36cc6c8f4df7600b",
        "type": "debug",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "debug 204",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1520,
        "y": 3360,
        "wires": []
    },
    {
        "id": "cdc5b71b2c1efe07",
        "type": "debug",
        "z": "eb9b13ea99aacf08",
        "g": "908439d0cf7debb6",
        "name": "debug 205",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1560,
        "y": 3440,
        "wires": []
    },
    {
        "id": "04fc45b459865162",
        "type": "mqtt out",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "FUXA",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "be25cdc18f19b7bc",
        "x": 870,
        "y": 1840,
        "wires": []
    },
    {
        "id": "ae461e4102ccfa6b",
        "type": "mqtt in",
        "z": "40e18b1fe1f3daf0",
        "name": "",
        "topic": "#",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "be25cdc18f19b7bc",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 90,
        "y": 60,
        "wires": [
            [
                "845bcdb8b8a278b2"
            ]
        ]
    },
    {
        "id": "845bcdb8b8a278b2",
        "type": "debug",
        "z": "40e18b1fe1f3daf0",
        "name": "escolta MQTT rebuts",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 440,
        "y": 60,
        "wires": []
    },
    {
        "id": "d2919c6e39dd32a0",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/analitzador1",
        "payload": "analitzador1",
        "payloadType": "global",
        "x": 180,
        "y": 1880,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "a7d7bf97d5b09072",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/analitzador2",
        "payload": "analitzador2",
        "payloadType": "global",
        "x": 180,
        "y": 1920,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "19ff3bc73b0a78ad",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/analitzador3",
        "payload": "analitzador3",
        "payloadType": "global",
        "x": 180,
        "y": 1960,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "3dac1e306cd03dda",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/b1",
        "payload": "b1",
        "payloadType": "global",
        "x": 150,
        "y": 2000,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "8f3a7ee1892e2dbc",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/br1",
        "payload": "br1",
        "payloadType": "global",
        "x": 150,
        "y": 2040,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "23d9f608fc7a5dc5",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/br2",
        "payload": "br2",
        "payloadType": "global",
        "x": 150,
        "y": 2080,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "7f47caed5f5d3238",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/cabal1",
        "payload": "cabal1",
        "payloadType": "global",
        "x": 160,
        "y": 2120,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "e40fbc658e86ae6e",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/cabal2",
        "payload": "cabal2",
        "payloadType": "global",
        "x": 160,
        "y": 2160,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "262a494857426b31",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/cabal3",
        "payload": "cabal3",
        "payloadType": "global",
        "x": 160,
        "y": 2200,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "b5c2c0cad4e07807",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/cabal4",
        "payload": "cabal4",
        "payloadType": "global",
        "x": 160,
        "y": 2240,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "74633c378cf9c346",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/cabal5",
        "payload": "cabal5",
        "payloadType": "global",
        "x": 160,
        "y": 2280,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "a406553517367c83",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/cabal6",
        "payload": "cabal6",
        "payloadType": "global",
        "x": 160,
        "y": 2320,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "d33d91b3ec104220",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/cabal7",
        "payload": "cabal7",
        "payloadType": "global",
        "x": 160,
        "y": 2360,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "94396212841e66c0",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/d1",
        "payload": "d1",
        "payloadType": "global",
        "x": 150,
        "y": 2400,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "fb2929d25a504084",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/d2",
        "payload": "d2",
        "payloadType": "global",
        "x": 150,
        "y": 2440,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "ab0ba175788d46bc",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/d3",
        "payload": "d3",
        "payloadType": "global",
        "x": 150,
        "y": 2480,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "eb1d138b205f94ff",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/diposit1",
        "payload": "diposit1",
        "payloadType": "global",
        "x": 160,
        "y": 2520,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "6777f7904103cb6b",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/diposit2",
        "payload": "diposit2",
        "payloadType": "global",
        "x": 160,
        "y": 2560,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "b562dc251e5acd73",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/v1",
        "payload": "v1",
        "payloadType": "global",
        "x": 150,
        "y": 2600,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "66cd77d6d302aa9a",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/v2",
        "payload": "v2",
        "payloadType": "global",
        "x": 150,
        "y": 2640,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "31d3d976e537b1cc",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/v3",
        "payload": "v3",
        "payloadType": "global",
        "x": 150,
        "y": 2680,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "753aa89ed9093bc1",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/plc",
        "payload": "plc",
        "payloadType": "global",
        "x": 150,
        "y": 3000,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "aeeacf7c01a35926",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "parada",
        "rules": [
            {
                "t": "set",
                "p": "br1.estat",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "424466ba0116847a",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "",
        "property": "br1.marxa",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 260,
        "wires": [
            [
                "bde60443c61fba26"
            ],
            [
                "aeeacf7c01a35926"
            ]
        ]
    },
    {
        "id": "bde60443c61fba26",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "marxa",
        "rules": [
            {
                "t": "set",
                "p": "br1.estat",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "598776789d6d7398",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "parada",
        "rules": [
            {
                "t": "set",
                "p": "br2.estat",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "2b11395eb3163ce0",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "marxa",
        "rules": [
            {
                "t": "set",
                "p": "br2.estat",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "0f78d7bb1dc31819",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "avaria",
        "rules": [
            {
                "t": "set",
                "p": "b1.estat",
                "pt": "global",
                "to": "2",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "eaa365e88ca7fec8",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "parada",
        "rules": [
            {
                "t": "set",
                "p": "b1.estat",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "d78042691c6b5106",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "marxa",
        "rules": [
            {
                "t": "set",
                "p": "b1.estat",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "f91db0aeec5c2461",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/filtre",
        "payload": "filtre",
        "payloadType": "global",
        "x": 150,
        "y": 2720,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "fdf211275312083f",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "oberta",
        "property": "v1.oberta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 980,
        "wires": [
            [
                "5a0aa88a34e300cf"
            ]
        ]
    },
    {
        "id": "7c2117af6ffa5e1f",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "indefinida",
        "rules": [
            {
                "t": "set",
                "p": "v1.estat",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "82ac2b5809546802",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "avaria",
        "rules": [
            {
                "t": "set",
                "p": "v1.estat",
                "pt": "global",
                "to": "3",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "a6426f54e64e5c5f",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "oberta",
        "rules": [
            {
                "t": "set",
                "p": "v1.estat",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "d639ddfbdddd5d8d",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!tancada",
        "property": "v1.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 360,
        "y": 980,
        "wires": [
            [
                "fdf211275312083f"
            ]
        ]
    },
    {
        "id": "22204fce814e324c",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!tancada",
        "property": "v1.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 360,
        "y": 940,
        "wires": [
            [
                "b61faa7a1e44d363"
            ]
        ]
    },
    {
        "id": "b61faa7a1e44d363",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!oberta",
        "property": "v1.oberta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 500,
        "y": 940,
        "wires": [
            [
                "602b57748f526616"
            ]
        ]
    },
    {
        "id": "e82d38e9874c4fed",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "avaria.obrir",
        "property": "v1.avaria.obrir",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 1060,
        "wires": [
            [
                "82ac2b5809546802"
            ],
            [
                "ea04c7dba23a18e7"
            ]
        ]
    },
    {
        "id": "ded19ab0b96ce00e",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!oberta",
        "property": "v1.oberta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 500,
        "y": 1020,
        "wires": [
            [
                "1ff441b2af3c8acb"
            ]
        ]
    },
    {
        "id": "4dc224b742881706",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "tancada",
        "property": "v1.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 360,
        "y": 1020,
        "wires": [
            [
                "ded19ab0b96ce00e"
            ]
        ]
    },
    {
        "id": "70af1b8d33229058",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "tancada",
        "rules": [
            {
                "t": "set",
                "p": "v1.estat",
                "pt": "global",
                "to": "2",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "c036382d6301a932",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "indefinida",
        "rules": [
            {
                "t": "set",
                "p": "v2.estat",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "1365ad359f498a50",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "avaria",
        "rules": [
            {
                "t": "set",
                "p": "v2.estat",
                "pt": "global",
                "to": "3",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 1280,
        "wires": [
            []
        ]
    },
    {
        "id": "c4f3543a077fc107",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "oberta",
        "rules": [
            {
                "t": "set",
                "p": "v2.estat",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "84253d667c92c4ab",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "tancada",
        "rules": [
            {
                "t": "set",
                "p": "v2.estat",
                "pt": "global",
                "to": "2",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1240,
        "wires": [
            []
        ]
    },
    {
        "id": "86d5a60c62150951",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "indefinida",
        "rules": [
            {
                "t": "set",
                "p": "v3.estat",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "d94bd775abfefe7d",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "avaria",
        "rules": [
            {
                "t": "set",
                "p": "v3.estat",
                "pt": "global",
                "to": "3",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 1500,
        "wires": [
            []
        ]
    },
    {
        "id": "cce227b1e7f16cda",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "oberta",
        "rules": [
            {
                "t": "set",
                "p": "v3.estat",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "865984d4b65ebd2c",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "tancada",
        "rules": [
            {
                "t": "set",
                "p": "v3.estat",
                "pt": "global",
                "to": "2",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1460,
        "wires": [
            []
        ]
    },
    {
        "id": "65bd5ede554da3a2",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "",
        "property": "br2.marxa",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 320,
        "wires": [
            [
                "2b11395eb3163ce0"
            ],
            [
                "598776789d6d7398"
            ]
        ]
    },
    {
        "id": "8115fd4ac3daad53",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "avaria",
        "rules": [
            {
                "t": "set",
                "p": "d1.estat",
                "pt": "global",
                "to": "2",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "7d9ebd0478b88400",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "avaria",
        "property": "d1.avaria",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 620,
        "wires": [
            [
                "8115fd4ac3daad53"
            ]
        ]
    },
    {
        "id": "e9f7b5f871d5b96b",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!marxa",
        "property": "d1.marxa",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 580,
        "wires": [
            [
                "25050b4ec8b71a61"
            ]
        ]
    },
    {
        "id": "25050b4ec8b71a61",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria",
        "property": "d1.avaria",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 580,
        "wires": [
            [
                "2c64f8fef94e7c5f"
            ]
        ]
    },
    {
        "id": "2c64f8fef94e7c5f",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "parada",
        "rules": [
            {
                "t": "set",
                "p": "d1.estat",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "b4922ae5fc09368d",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "marxa",
        "property": "d1.marxa",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 540,
        "wires": [
            [
                "84df56a4af2189bc"
            ]
        ]
    },
    {
        "id": "84df56a4af2189bc",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria",
        "property": "d1.avaria",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 540,
        "wires": [
            [
                "2d33780ddd8e011e"
            ]
        ]
    },
    {
        "id": "2d33780ddd8e011e",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "marxa",
        "rules": [
            {
                "t": "set",
                "p": "d1.estat",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "0ba354eeaad19f59",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "avaria",
        "rules": [
            {
                "t": "set",
                "p": "d2.estat",
                "pt": "global",
                "to": "2",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "9ac0d4c5f64e2b69",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "parada",
        "rules": [
            {
                "t": "set",
                "p": "d2.estat",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "14dc0ad125c313e2",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "marxa",
        "rules": [
            {
                "t": "set",
                "p": "d2.estat",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "0432de45cc1789a8",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "avaria",
        "rules": [
            {
                "t": "set",
                "p": "d3.estat",
                "pt": "global",
                "to": "2",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "781b0791bbcbeb8a",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "parada",
        "rules": [
            {
                "t": "set",
                "p": "d3.estat",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "43901cb417d1faa8",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "marxa",
        "rules": [
            {
                "t": "set",
                "p": "d3.estat",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "c236ace670417cbf",
        "type": "function",
        "z": "40e18b1fe1f3daf0",
        "name": "Escriure consignes a variables globals",
        "func": "// Extreure el topic després del primer '/'\nconst topic = msg.topic.split('/')[1];\nconst payload = msg.payload;\n\n// Crear la clau global dinàmica afegint \"consigna\" automàticament\nconst clauGlobal = topic.includes('.') \n    ? topic.replace('.', '.consigna.') \n    : topic + '.consigna';\n\n// Assignar el valor del payload a la clau global generada\nglobal.set(clauGlobal, payload);\n\nreturn null;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "481ace8cb861ae9c",
        "type": "mqtt in",
        "z": "40e18b1fe1f3daf0",
        "name": "FUXA consignes",
        "topic": "consignes/#",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "be25cdc18f19b7bc",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 120,
        "y": 120,
        "wires": [
            [
                "c236ace670417cbf"
            ]
        ]
    },
    {
        "id": "9fa3248947dea251",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "estats/horaritarifa",
        "payload": "horaritarifa",
        "payloadType": "global",
        "x": 170,
        "y": 2760,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "553efaa4fa20997f",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "estats v1",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1000,
        "wires": [
            [
                "22204fce814e324c",
                "d639ddfbdddd5d8d",
                "4dc224b742881706",
                "e82d38e9874c4fed"
            ]
        ]
    },
    {
        "id": "2e538c8c7354afb1",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "",
        "property": "v2.oberta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1200,
        "wires": [
            [
                "138dd04729f0d4c4"
            ]
        ]
    },
    {
        "id": "9a53c76801318abc",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "",
        "property": "v2.oberta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1160,
        "wires": [
            [
                "4768ed38c3523177"
            ]
        ]
    },
    {
        "id": "7b1c55528750f79e",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "",
        "property": "v2.oberta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1240,
        "wires": [
            [
                "cdbe6bb517ecafa9"
            ]
        ]
    },
    {
        "id": "e69157330b5b7ed5",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "",
        "property": "v2.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 1240,
        "wires": [
            [
                "7b1c55528750f79e"
            ]
        ]
    },
    {
        "id": "06a35071943a2857",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "",
        "property": "v2.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 1200,
        "wires": [
            [
                "2e538c8c7354afb1"
            ]
        ]
    },
    {
        "id": "9b64fb6ae176c8b7",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "",
        "property": "v2.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 1160,
        "wires": [
            [
                "9a53c76801318abc"
            ]
        ]
    },
    {
        "id": "7b9079fa3136dd56",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "oberta",
        "property": "v3.oberta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 1420,
        "wires": [
            [
                "f15a56a11bfbbbb9"
            ]
        ]
    },
    {
        "id": "ea3709af16568a9c",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!oberta",
        "property": "v3.oberta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 500,
        "y": 1380,
        "wires": [
            [
                "5b30b17b06ac026e"
            ]
        ]
    },
    {
        "id": "5fb6d76bd545190d",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!oberta",
        "property": "v3.oberta",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 500,
        "y": 1460,
        "wires": [
            [
                "701dec0a9486547c"
            ]
        ]
    },
    {
        "id": "528aef13fee9e653",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "tancada",
        "property": "v3.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 360,
        "y": 1460,
        "wires": [
            [
                "5fb6d76bd545190d"
            ]
        ]
    },
    {
        "id": "5f6c5144846461df",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!tancada",
        "property": "v3.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 360,
        "y": 1420,
        "wires": [
            [
                "7b9079fa3136dd56"
            ]
        ]
    },
    {
        "id": "dd77912c3babf31b",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!tancada",
        "property": "v3.tancada",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 360,
        "y": 1380,
        "wires": [
            [
                "ea3709af16568a9c"
            ]
        ]
    },
    {
        "id": "162b236edd1933f0",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "estats v2",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1200,
        "wires": [
            [
                "9b64fb6ae176c8b7",
                "06a35071943a2857",
                "e69157330b5b7ed5",
                "666238e7c8700130"
            ]
        ]
    },
    {
        "id": "56756b516b412091",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "estats v3",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1420,
        "wires": [
            [
                "dd77912c3babf31b",
                "5f6c5144846461df",
                "528aef13fee9e653",
                "bb24a4a078a61b6d"
            ]
        ]
    },
    {
        "id": "031ec2c01610c9de",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "estats d1",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 580,
        "wires": [
            [
                "b4922ae5fc09368d",
                "e9f7b5f871d5b96b",
                "7d9ebd0478b88400"
            ]
        ]
    },
    {
        "id": "05e6e3ae7d9b2821",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!marxa",
        "property": "d2.marxa",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 700,
        "wires": [
            [
                "9ac0d4c5f64e2b69"
            ]
        ]
    },
    {
        "id": "d92d9c1c9e097d52",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "marxa",
        "property": "d2.marxa",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 660,
        "wires": [
            [
                "14dc0ad125c313e2"
            ]
        ]
    },
    {
        "id": "099149c2e5d77022",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "estats d2",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 700,
        "wires": [
            [
                "d92d9c1c9e097d52",
                "05e6e3ae7d9b2821"
            ]
        ]
    },
    {
        "id": "1120662f3bf57657",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "avaria",
        "property": "d3.avaria",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 860,
        "wires": [
            [
                "0432de45cc1789a8"
            ]
        ]
    },
    {
        "id": "2039c47e40dcd6cc",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!marxa",
        "property": "d3.marxa",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 820,
        "wires": [
            [
                "cb70d1db07a4ba7c"
            ]
        ]
    },
    {
        "id": "cb70d1db07a4ba7c",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria",
        "property": "d3.avaria",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 820,
        "wires": [
            [
                "781b0791bbcbeb8a"
            ]
        ]
    },
    {
        "id": "f8b7bd3bbc7d6ad3",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "marxa",
        "property": "d3.marxa",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 780,
        "wires": [
            [
                "28ad7edf37fb7e62"
            ]
        ]
    },
    {
        "id": "28ad7edf37fb7e62",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria",
        "property": "d3.avaria",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 780,
        "wires": [
            [
                "43901cb417d1faa8"
            ]
        ]
    },
    {
        "id": "9ed6c64c4af5230c",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "estats d3",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 820,
        "wires": [
            [
                "f8b7bd3bbc7d6ad3",
                "2039c47e40dcd6cc",
                "1120662f3bf57657"
            ]
        ]
    },
    {
        "id": "86d77ec2548268e8",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "estats br1",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 260,
        "wires": [
            [
                "424466ba0116847a"
            ]
        ]
    },
    {
        "id": "4e4d19d10cec1821",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "estats br2",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 320,
        "wires": [
            [
                "65bd5ede554da3a2"
            ]
        ]
    },
    {
        "id": "68764693c90b3b2d",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "estats bfiltre",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 420,
        "wires": [
            [
                "f32c43c6f3ecc658",
                "a25d33a88bfe6320",
                "7f011332338c0d48"
            ]
        ]
    },
    {
        "id": "7f011332338c0d48",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "avaria",
        "property": "b1.avaria",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 460,
        "wires": [
            [
                "0f78d7bb1dc31819"
            ]
        ]
    },
    {
        "id": "a25d33a88bfe6320",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!marxa",
        "property": "b1.marxa",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 420,
        "wires": [
            [
                "4c06bee04a916f91"
            ]
        ]
    },
    {
        "id": "4c06bee04a916f91",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria",
        "property": "b1.avaria",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 420,
        "wires": [
            [
                "eaa365e88ca7fec8"
            ]
        ]
    },
    {
        "id": "f32c43c6f3ecc658",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "marxa",
        "property": "b1.marxa",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 380,
        "wires": [
            [
                "d3c2aa1172d8a70a"
            ]
        ]
    },
    {
        "id": "d3c2aa1172d8a70a",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria",
        "property": "b1.avaria",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 380,
        "wires": [
            [
                "d78042691c6b5106"
            ]
        ]
    },
    {
        "id": "1cd209dd3bc8f34c",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "estats/plc4",
        "payload": "plc4",
        "payloadType": "global",
        "x": 150,
        "y": 2800,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "98c96f5eb4f1135b",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "d3.consigna.selector",
        "payloadType": "global",
        "x": 200,
        "y": 1740,
        "wires": [
            [
                "b887c692236a8389"
            ]
        ]
    },
    {
        "id": "0b2894401c66e83e",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "diposit1.consigna.servei",
        "payloadType": "global",
        "x": 210,
        "y": 1620,
        "wires": [
            [
                "660c57591565019d"
            ]
        ]
    },
    {
        "id": "b887c692236a8389",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "d3.diposit",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 1740,
        "wires": [
            [
                "5e30e1447d82469d"
            ]
        ]
    },
    {
        "id": "7d2d124a0341bb7f",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "servei d2",
        "property": "diposit2.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 620,
        "y": 1600,
        "wires": [
            [
                "b3c26445a8934bdc"
            ]
        ]
    },
    {
        "id": "a1e91c3dbc18a52c",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!servei d2",
        "property": "diposit2.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 620,
        "y": 1640,
        "wires": [
            [
                "a84f37b58e127470"
            ]
        ]
    },
    {
        "id": "660c57591565019d",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "servei d1",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 440,
        "y": 1620,
        "wires": [
            [
                "7d2d124a0341bb7f"
            ],
            [
                "a1e91c3dbc18a52c",
                "f84fcd17d8c0ee5f"
            ]
        ]
    },
    {
        "id": "f84fcd17d8c0ee5f",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "servei d2",
        "property": "diposit2.consigna.servei",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 620,
        "y": 1680,
        "wires": [
            [
                "330b441c8af70f13"
            ]
        ]
    },
    {
        "id": "b3c26445a8934bdc",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "Dipòsit 2",
        "rules": [
            {
                "t": "set",
                "p": "diposits.selector",
                "pt": "global",
                "to": "2",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 1600,
        "wires": [
            []
        ]
    },
    {
        "id": "a84f37b58e127470",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "Dipòsit 1",
        "rules": [
            {
                "t": "set",
                "p": "diposits.selector",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 1640,
        "wires": [
            []
        ]
    },
    {
        "id": "330b441c8af70f13",
        "type": "change",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "2 dipòsits ",
        "rules": [
            {
                "t": "set",
                "p": "diposits.selector",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 1680,
        "wires": [
            []
        ]
    },
    {
        "id": "1977247eefe0893f",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "estats/diposits",
        "payload": "diposits",
        "payloadType": "global",
        "x": 160,
        "y": 2840,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "5e30e1447d82469d",
        "type": "debug",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "debug 186",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 1740,
        "wires": []
    },
    {
        "id": "9c79fae732a2d838",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "alarmes",
        "payload": "alarmes",
        "payloadType": "global",
        "x": 160,
        "y": 2880,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "ea04c7dba23a18e7",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "avaria.tancar",
        "property": "v1.avaria.tancar",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 530,
        "y": 1080,
        "wires": [
            [
                "82ac2b5809546802"
            ]
        ]
    },
    {
        "id": "666238e7c8700130",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "",
        "property": "v2.avaria.obrir",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 1280,
        "wires": [
            [
                "1365ad359f498a50"
            ],
            [
                "9a6e9b30f93a31ef"
            ]
        ]
    },
    {
        "id": "9a6e9b30f93a31ef",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "",
        "property": "v2.avaria.tancar",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1300,
        "wires": [
            [
                "1365ad359f498a50"
            ]
        ]
    },
    {
        "id": "dc78747e9b84535e",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "",
        "property": "v3.avaria.tancar",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1520,
        "wires": [
            [
                "d94bd775abfefe7d"
            ]
        ]
    },
    {
        "id": "bb24a4a078a61b6d",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "",
        "property": "v3.avaria.obrir",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 1500,
        "wires": [
            [
                "d94bd775abfefe7d"
            ],
            [
                "dc78747e9b84535e"
            ]
        ]
    },
    {
        "id": "602b57748f526616",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.obrir",
        "property": "v1.avaria.obrir",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 650,
        "y": 940,
        "wires": [
            [
                "61141507483c3a36"
            ]
        ]
    },
    {
        "id": "61141507483c3a36",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.tancar",
        "property": "v1.avaria.tancar",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 820,
        "y": 940,
        "wires": [
            [
                "7c2117af6ffa5e1f"
            ]
        ]
    },
    {
        "id": "5a0aa88a34e300cf",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.obrir",
        "property": "v1.avaria.obrir",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 650,
        "y": 980,
        "wires": [
            [
                "8fa9fcc33a02eac8"
            ]
        ]
    },
    {
        "id": "8fa9fcc33a02eac8",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.tancar",
        "property": "v1.avaria.tancar",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 820,
        "y": 980,
        "wires": [
            [
                "a6426f54e64e5c5f"
            ]
        ]
    },
    {
        "id": "1ff441b2af3c8acb",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.obrir",
        "property": "v1.avaria.obrir",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 650,
        "y": 1020,
        "wires": [
            [
                "df27a5ae053385e2"
            ]
        ]
    },
    {
        "id": "df27a5ae053385e2",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.tancar",
        "property": "v1.avaria.tancar",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 820,
        "y": 1020,
        "wires": [
            [
                "70af1b8d33229058"
            ]
        ]
    },
    {
        "id": "4768ed38c3523177",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.obrir",
        "property": "v2.avaria.obrir",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 650,
        "y": 1160,
        "wires": [
            [
                "413094742396bb74"
            ]
        ]
    },
    {
        "id": "413094742396bb74",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.tancar",
        "property": "v2.avaria.tancar",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 820,
        "y": 1160,
        "wires": [
            [
                "c036382d6301a932"
            ]
        ]
    },
    {
        "id": "138dd04729f0d4c4",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.obrir",
        "property": "v2.avaria.obrir",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 650,
        "y": 1200,
        "wires": [
            [
                "20fb7b78fae9b64a"
            ]
        ]
    },
    {
        "id": "20fb7b78fae9b64a",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.tancar",
        "property": "v2.avaria.tancar",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 820,
        "y": 1200,
        "wires": [
            [
                "c4f3543a077fc107"
            ]
        ]
    },
    {
        "id": "cdbe6bb517ecafa9",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.obrir",
        "property": "v2.avaria.obrir",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 650,
        "y": 1240,
        "wires": [
            [
                "a19761b209d4ee03"
            ]
        ]
    },
    {
        "id": "a19761b209d4ee03",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.tancar",
        "property": "v2.avaria.tancar",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 820,
        "y": 1240,
        "wires": [
            [
                "84253d667c92c4ab"
            ]
        ]
    },
    {
        "id": "5b30b17b06ac026e",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.obrir",
        "property": "v3.avaria.obrir",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 650,
        "y": 1380,
        "wires": [
            [
                "8b000766422b857e"
            ]
        ]
    },
    {
        "id": "8b000766422b857e",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.tancar",
        "property": "v3.avaria.tancar",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 820,
        "y": 1380,
        "wires": [
            [
                "86d5a60c62150951"
            ]
        ]
    },
    {
        "id": "f15a56a11bfbbbb9",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.obrir",
        "property": "v3.avaria.obrir",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 650,
        "y": 1420,
        "wires": [
            [
                "516ccca22c7fa335"
            ]
        ]
    },
    {
        "id": "516ccca22c7fa335",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.tancar",
        "property": "v3.avaria.tancar",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 820,
        "y": 1420,
        "wires": [
            [
                "cce227b1e7f16cda"
            ]
        ]
    },
    {
        "id": "701dec0a9486547c",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.obrir",
        "property": "v3.avaria.obrir",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 650,
        "y": 1460,
        "wires": [
            [
                "1b0f6ad09018793d"
            ]
        ]
    },
    {
        "id": "1b0f6ad09018793d",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "9b2933ab4b100a51",
        "name": "!avaria.tancar",
        "property": "v3.avaria.tancar",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 820,
        "y": 1460,
        "wires": [
            [
                "865984d4b65ebd2c"
            ]
        ]
    },
    {
        "id": "b0eff72c6fc85d73",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "estats/intrusio",
        "payload": "intrusio",
        "payloadType": "global",
        "x": 160,
        "y": 2920,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "6b0848e0bc4f9bbc",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "estats/intrusio",
        "payload": "filtre",
        "payloadType": "global",
        "x": 150,
        "y": 2960,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "748b9d1028bef358",
        "type": "mqtt out",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "FUXA",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "be25cdc18f19b7bc",
        "x": 610,
        "y": 3220,
        "wires": []
    },
    {
        "id": "91afb37136937a3e",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/consignadiposit1",
        "payload": "alarmes.nivelldiposit1.fuxa",
        "payloadType": "global",
        "x": 220,
        "y": 3840,
        "wires": [
            [
                "ab40c78f1323be01"
            ]
        ]
    },
    {
        "id": "0a809d1e7c897b58",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/consignaterbolesaanalitzador3",
        "payload": "alarmes.terbolesa1.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 4220,
        "wires": [
            [
                "03ce8ba904caa370"
            ]
        ]
    },
    {
        "id": "baf7a1405ee76482",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/consignadiposit2",
        "payload": "alarmes.nivelldiposit2.fuxa",
        "payloadType": "global",
        "x": 220,
        "y": 3920,
        "wires": [
            [
                "a76bdeb68e607891"
            ]
        ]
    },
    {
        "id": "957c4e6dc2cca905",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/disposiciov1",
        "payload": "alarmes.valvula1.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 3700,
        "wires": [
            [
                "a465080284c8c444"
            ]
        ]
    },
    {
        "id": "fa2c706cd44248fc",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/minimboiadiposit1",
        "payload": "alarmes.bmindiposit1.fuxa",
        "payloadType": "global",
        "x": 220,
        "y": 4060,
        "wires": [
            [
                "f883054c7ca18df7"
            ]
        ]
    },
    {
        "id": "ed3301b70fbc23fc",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/maximboiadiposit1",
        "payload": "alarmes.bmaxdiposit1.fuxa",
        "payloadType": "global",
        "x": 220,
        "y": 4020,
        "wires": [
            [
                "82816b0cd9ece897"
            ]
        ]
    },
    {
        "id": "a3d9348c8db47b42",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/maximboiadiposit2",
        "payload": "alarmes.bmaxdiposit2.fuxa",
        "payloadType": "global",
        "x": 220,
        "y": 4120,
        "wires": [
            [
                "a6a2d3ca8461feb6"
            ]
        ]
    },
    {
        "id": "2ff3fd3f127d869d",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/minimboiadiposit2",
        "payload": "alarmes.bmindiposit2.fuxa",
        "payloadType": "global",
        "x": 220,
        "y": 4160,
        "wires": [
            [
                "21daa6d30779e2b8"
            ]
        ]
    },
    {
        "id": "29eade8d6ab7a9a6",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/disposiciobr1",
        "payload": "alarmes.marxabr1.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 3420,
        "wires": [
            [
                "c23c8900db4fdd55"
            ]
        ]
    },
    {
        "id": "ccfc26794fcab363",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/disposiciobr2",
        "payload": "alarmes.marxabr2.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 3460,
        "wires": [
            [
                "cd2f5301b7b3e067"
            ]
        ]
    },
    {
        "id": "f444a538a650c577",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/falladaalimentacio",
        "payload": "alarmes.falladaalimentacio.fuxa",
        "payloadType": "global",
        "x": 240,
        "y": 3220,
        "wires": [
            [
                "a73fad34034f0a2f"
            ]
        ]
    },
    {
        "id": "1b5d6d1d7b43422a",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/volatgeplc",
        "payload": "alarmes.volatgeplc.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 3260,
        "wires": [
            [
                "81cf952c8c725c14"
            ]
        ]
    },
    {
        "id": "567f8b0baf68c5cf",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/analitzador2",
        "payload": "alarmes.analitzador2.fuxa",
        "payloadType": "global",
        "x": 220,
        "y": 3500,
        "wires": [
            [
                "a941bd399beb6093"
            ]
        ]
    },
    {
        "id": "b638fa55f948f2a8",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/disposiciodosificadora1",
        "payload": "alarmes.marxad1.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 3560,
        "wires": [
            [
                "11c78a9d9436cf82"
            ]
        ]
    },
    {
        "id": "6a3bc9f30bc54140",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/disposiciodosificadora3",
        "payload": "alarmes.marxad3.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 3640,
        "wires": [
            [
                "6821781c40c918bd"
            ]
        ]
    },
    {
        "id": "6583617781cf9442",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/disposiciov2",
        "payload": "alarmes.valvula2.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 3740,
        "wires": [
            [
                "4297994b27e62876"
            ]
        ]
    },
    {
        "id": "b6e70d77d94127cd",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/disposiciov3",
        "payload": "alarmes.valvula3.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 3780,
        "wires": [
            [
                "f38ecda9245663a9"
            ]
        ]
    },
    {
        "id": "9bfa7e7654ec876b",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/eadiposit1",
        "payload": "alarmes.eadiposit1.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 3880,
        "wires": [
            [
                "943e36fbdd1cc2fd"
            ]
        ]
    },
    {
        "id": "a56219b1b4cb36b8",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/eadiposit2",
        "payload": "alarmes.eadiposit2.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 3960,
        "wires": [
            [
                "0e3efaac39990192"
            ]
        ]
    },
    {
        "id": "f822aa7825702d60",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/intrusio",
        "payload": "alarma.intrusio.fuxa",
        "payloadType": "global",
        "x": 200,
        "y": 3320,
        "wires": [
            [
                "d568a5bf78586574"
            ]
        ]
    },
    {
        "id": "f98abb051adefd7e",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/infointrusio",
        "payload": "alarmes.infointrusio.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 3360,
        "wires": [
            [
                "efe6b04498c0eb8c"
            ]
        ]
    },
    {
        "id": "8a951c2679d1d25d",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/eacloranalitzador1",
        "payload": "alarmes.clor1ea.fuxa",
        "payloadType": "global",
        "x": 200,
        "y": 4260,
        "wires": [
            [
                "6cd03ff5cd3b5c77"
            ]
        ]
    },
    {
        "id": "0fec6eb5111851a2",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/eaterbolesaanalitzador3",
        "payload": "alarmes.terbolesa1ea.fuxa",
        "payloadType": "global",
        "x": 220,
        "y": 4300,
        "wires": [
            [
                "578c92f88c4ad491"
            ]
        ]
    },
    {
        "id": "420c03a5a8477411",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/instantanicabal3",
        "payload": "alarmes.cabal3.fuxa",
        "payloadType": "global",
        "x": 200,
        "y": 4360,
        "wires": [
            [
                "c48daddacee7c6e3"
            ]
        ]
    },
    {
        "id": "7b5678cf2a9dcc23",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/instantanicabal5",
        "payload": "alarmes.cabal5.fuxa",
        "payloadType": "global",
        "x": 200,
        "y": 4400,
        "wires": [
            [
                "26e1c51d4bbf94a5"
            ]
        ]
    },
    {
        "id": "9846c58f26dd1497",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/.fuxaeacabal3",
        "payload": "alarmes.cabal3ea.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 4440,
        "wires": [
            [
                "aaa0e4714a3c2243"
            ]
        ]
    },
    {
        "id": "bb69d9835f5abc97",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/eacabal5",
        "payload": "alarmes.cabal5ea.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 4480,
        "wires": [
            [
                "748ccd98a6aaa33a"
            ]
        ]
    },
    {
        "id": "c39def618fb17dcc",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/instantanicabal2",
        "payload": "alarmes.cabal2.fuxa",
        "payloadType": "global",
        "x": 200,
        "y": 4540,
        "wires": [
            [
                "fcc0efe55f23e344"
            ]
        ]
    },
    {
        "id": "ad8bbe301fa47329",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/instantanicabal6",
        "payload": "alarmes.cabal6.fuxa",
        "payloadType": "global",
        "x": 200,
        "y": 4580,
        "wires": [
            [
                "cf515328c9095d48"
            ]
        ]
    },
    {
        "id": "2354a99035a18128",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/eacabal6",
        "payload": "alarmes.cabal6ea.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 4660,
        "wires": [
            [
                "61b97b7ad90f0dbe"
            ]
        ]
    },
    {
        "id": "c012a7e2f2ce5f96",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/eacabal7",
        "payload": "alarmes.cabal7ea.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 4700,
        "wires": [
            [
                "22664306c5664025"
            ]
        ]
    },
    {
        "id": "c439b9228a8be73c",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/instantanicabal7",
        "payload": "alarmes.cabal7.fuxa",
        "payloadType": "global",
        "x": 200,
        "y": 4620,
        "wires": [
            [
                "62aac12f16c82c99"
            ]
        ]
    },
    {
        "id": "6f44983617457343",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/consignaphanalitzador2",
        "payload": "alarmes.phanalitzador2.fuxa",
        "payloadType": "global",
        "x": 230,
        "y": 4840,
        "wires": [
            [
                "d8e32ad0fe9ea1d8"
            ]
        ]
    },
    {
        "id": "02668bc4b5c2061f",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/consignacloranalitzador1",
        "payload": "alarmes.cloranalitzador1.fuxa",
        "payloadType": "global",
        "x": 230,
        "y": 4760,
        "wires": [
            [
                "e6e9f26001570c56"
            ]
        ]
    },
    {
        "id": "d3329bac17ba4cd7",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/consignacloranalitzador2",
        "payload": "alarmes.cloranalitzador2.fuxa",
        "payloadType": "global",
        "x": 230,
        "y": 4800,
        "wires": [
            [
                "60799418d07ef065"
            ]
        ]
    },
    {
        "id": "6ccda5a71718940d",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/tarjaumf1",
        "payload": "alarmes.comunicacioremota1.fuxa",
        "payloadType": "global",
        "x": 240,
        "y": 4900,
        "wires": [
            [
                "6e39a09e1b9c9644"
            ]
        ]
    },
    {
        "id": "19ebe889bf46985a",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/tarjaumf2",
        "payload": "alarmes.comunicacioremota2.fuxa",
        "payloadType": "global",
        "x": 240,
        "y": 4940,
        "wires": [
            [
                "a754e54859ae945b"
            ]
        ]
    },
    {
        "id": "4c2d646507538e13",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/tarjaumf3",
        "payload": "alarmes.comunicacioremota3.fuxa",
        "payloadType": "global",
        "x": 240,
        "y": 4980,
        "wires": [
            [
                "a785bb17a55ae012"
            ]
        ]
    },
    {
        "id": "760915b0fd1bb433",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/comunicacioanalitzador2",
        "payload": "alarmes.comunicacioanalitzador2.fuxa",
        "payloadType": "global",
        "x": 260,
        "y": 5020,
        "wires": [
            [
                "d41f4a6bdd8cbc2b"
            ]
        ]
    },
    {
        "id": "b2c7ba375ee1f1c2",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/comunicacioplc4",
        "payload": "alarmes.comunicacioplc4.fuxa",
        "payloadType": "global",
        "x": 230,
        "y": 5060,
        "wires": [
            [
                "203373dcb6bf65b2"
            ]
        ]
    },
    {
        "id": "cfa02ad9260a0c6d",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "369b1294abc3fe12",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/disposiciodosificadora2",
        "payload": "alarmes.marxad2.fuxa",
        "payloadType": "global",
        "x": 210,
        "y": 3600,
        "wires": [
            [
                "c3990a6cd6bbd44f"
            ]
        ]
    },
    {
        "id": "af425e7f2ebb4632",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/tarja1",
        "payload": "plc.tarja1.comunicacio",
        "payloadType": "global",
        "x": 210,
        "y": 3040,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "559cb5ad9ef091d0",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/tarja2",
        "payload": "plc.tarja2.comunicacio",
        "payloadType": "global",
        "x": 210,
        "y": 3080,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "d8be47f1cb41d432",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/tarja3",
        "payload": "plc.tarja3.comunicacio",
        "payloadType": "global",
        "x": 210,
        "y": 3120,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "77ce7e067abc9064",
        "type": "inject",
        "z": "40e18b1fe1f3daf0",
        "g": "bb65a77b590797ae",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "estats/bgronxadorstarifes",
        "payload": "bgronxadors.tarifes",
        "payloadType": "global",
        "x": 200,
        "y": 1840,
        "wires": [
            [
                "04fc45b459865162"
            ]
        ]
    },
    {
        "id": "acd4bc5eeddb246c",
        "type": "function",
        "z": "40e18b1fe1f3daf0",
        "g": "14a904ecd01d32e0",
        "name": "Prepare Query",
        "func": "// Ensure payload contains required fields\nif (!msg.payload || !msg.payload.username || !msg.payload.fullname || !msg.payload.password) {\n    node.error(\"Invalid MQTT payload: Missing required fields\", msg);\n    return null; // Stop execution if data is missing\n}\n\n// Block update if username is 'admin'\nif ((msg.payload.username.toLowerCase() === \"admin\") || (msg.payload.groups === -1)) {\n    node.error(\"Update blocked: Cannot modify 'admin' user\", msg);\n    return null; // Stop execution\n}\n\n// Assign MQTT payload to msg.params\nmsg.params = {\n    $username: msg.payload.username,\n    $fullname: msg.payload.fullname,\n    $password: msg.payload.password,\n    $groups: msg.payload.groups,\n    $info: msg.payload.info || null   // Default to null if not provided\n};\n\nmsg.topic = `SELECT COUNT(*) AS count FROM users WHERE username = '${msg.params.$username}';`;\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 5260,
        "wires": [
            [
                "84825f466033c3c2"
            ]
        ]
    },
    {
        "id": "0c8367e6d33a76b2",
        "type": "function",
        "z": "40e18b1fe1f3daf0",
        "g": "14a904ecd01d32e0",
        "name": "Extract Count",
        "func": "// Extract count value from the sqlite result\nif(Array.isArray(msg.payload) && msg.payload.length > 0) {\n    msg.payload = msg.payload[0].count;\n} else {\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 5260,
        "wires": [
            [
                "1d3a960290f6328d"
            ]
        ]
    },
    {
        "id": "1d3a960290f6328d",
        "type": "switch",
        "z": "40e18b1fe1f3daf0",
        "g": "14a904ecd01d32e0",
        "name": "Decide Operation",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 950,
        "y": 5260,
        "wires": [
            [
                "f755455d5b9b64d4"
            ],
            [
                "10e89340d7996d22"
            ]
        ]
    },
    {
        "id": "f755455d5b9b64d4",
        "type": "function",
        "z": "40e18b1fe1f3daf0",
        "g": "14a904ecd01d32e0",
        "name": "Update Operation",
        "func": "// Set SQL query for update operation\nmsg.topic = `UPDATE users SET fullname = '${msg.params.$fullname}', password = '${msg.params.$password}', groups = '${msg.params.$groups}', info = '${msg.params.$info}' WHERE username = '${msg.params.$username}';`;\nreturn msg;;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1150,
        "y": 5220,
        "wires": [
            [
                "b579c07f4a9658d4"
            ]
        ]
    },
    {
        "id": "10e89340d7996d22",
        "type": "function",
        "z": "40e18b1fe1f3daf0",
        "g": "14a904ecd01d32e0",
        "name": "Insert Operation",
        "func": "// Set SQL query for insert operation\nmsg.topic = `INSERT INTO users (username, fullname, password, groups, info) VALUES ('${msg.params.$username}', '${msg.params.$fullname}', '${msg.params.$password}', '${msg.params.$groups}', '${msg.params.$info}');`;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1150,
        "y": 5300,
        "wires": [
            [
                "b579c07f4a9658d4"
            ]
        ]
    },
    {
        "id": "12979d1915220889",
        "type": "mqtt in",
        "z": "40e18b1fe1f3daf0",
        "g": "14a904ecd01d32e0",
        "name": "userManagement",
        "topic": "test/users/userManagment",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "bd051378bb87b410",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 180,
        "y": 5260,
        "wires": [
            [
                "acd4bc5eeddb246c"
            ]
        ]
    },
    {
        "id": "84825f466033c3c2",
        "type": "sqlite",
        "z": "40e18b1fe1f3daf0",
        "g": "14a904ecd01d32e0",
        "mydb": "31db50412fb6aaa3",
        "sqlquery": "msg.topic",
        "sql": "SELECT COUNT(*) AS count FROM users WHERE username = :username;",
        "name": "Check Duplicities",
        "x": 550,
        "y": 5260,
        "wires": [
            [
                "0c8367e6d33a76b2"
            ]
        ]
    },
    {
        "id": "b579c07f4a9658d4",
        "type": "sqlite",
        "z": "40e18b1fe1f3daf0",
        "g": "14a904ecd01d32e0",
        "mydb": "526e0134d931089d",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "Execute SQL",
        "x": 1350,
        "y": 5260,
        "wires": [
            []
        ]
    },
    {
        "id": "2",
        "type": "trigger",
        "z": "8dd0653486d5a6d4",
        "name": "ok/fallo",
        "op1": "1",
        "op2": "0",
        "op1type": "num",
        "op2type": "num",
        "duration": "15",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 340,
        "y": 260,
        "wires": [
            [
                "b92ff5a508f9afcf"
            ]
        ]
    },
    {
        "id": "61f6caa3a3cbf3f0",
        "type": "comment",
        "z": "8dd0653486d5a6d4",
        "name": "XIP LORA RN2483A",
        "info": "",
        "x": 130,
        "y": 520,
        "wires": []
    },
    {
        "id": "c9fbe9689981be68",
        "type": "mqtt out",
        "z": "8dd0653486d5a6d4",
        "name": "Gronxadors",
        "topic": "control/comandament/bgronxa",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "e641fe5b1175d5b1",
        "x": 930,
        "y": 140,
        "wires": []
    },
    {
        "id": "e9790cda0b8d2955",
        "type": "comment",
        "z": "8dd0653486d5a6d4",
        "name": "MQTT",
        "info": "",
        "x": 90,
        "y": 60,
        "wires": []
    },
    {
        "id": "8b8d3b88aca2aba2",
        "type": "mqtt in",
        "z": "8dd0653486d5a6d4",
        "name": "Control comunicacio ",
        "topic": "control/comunicacio/plc9",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "e641fe5b1175d5b1",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 150,
        "y": 240,
        "wires": [
            [
                "b92ff5a508f9afcf",
                "2"
            ]
        ]
    },
    {
        "id": "b92ff5a508f9afcf",
        "type": "change",
        "z": "8dd0653486d5a6d4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "plc4.comunic",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 240,
        "wires": [
            [
                "e9f1aa4e329a04ba"
            ]
        ]
    },
    {
        "id": "98504dd907dbbb5b",
        "type": "inject",
        "z": "8dd0653486d5a6d4",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "bgronxadors.tarifes",
        "payloadType": "global",
        "x": 200,
        "y": 120,
        "wires": [
            [
                "533231eb757f57c5"
            ]
        ]
    },
    {
        "id": "beb0e6c5e5c634fe",
        "type": "rbe",
        "z": "8dd0653486d5a6d4",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "payload",
        "x": 570,
        "y": 120,
        "wires": [
            [
                "caef0ca774b3678a"
            ]
        ]
    },
    {
        "id": "caef0ca774b3678a",
        "type": "switch",
        "z": "8dd0653486d5a6d4",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 730,
        "y": 140,
        "wires": [
            [
                "c9fbe9689981be68",
                "45dd7faae143f1b0"
            ],
            [
                "c9fbe9689981be68",
                "45dd7faae143f1b0"
            ]
        ]
    },
    {
        "id": "db29c747d126c8c9",
        "type": "inject",
        "z": "8dd0653486d5a6d4",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "120",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "bgronxadors.tarifes",
        "payloadType": "global",
        "x": 200,
        "y": 160,
        "wires": [
            [
                "caef0ca774b3678a"
            ]
        ]
    },
    {
        "id": "f829f77502db427c",
        "type": "inject",
        "z": "8dd0653486d5a6d4",
        "name": "Fallada cominiciacio",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 170,
        "y": 300,
        "wires": [
            [
                "b92ff5a508f9afcf"
            ]
        ]
    },
    {
        "id": "49d66affeb2eb432",
        "type": "mqtt in",
        "z": "8dd0653486d5a6d4",
        "name": "Estat bombament Gronxadors",
        "topic": "control/estatbombes/plc9",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "e641fe5b1175d5b1",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 180,
        "y": 380,
        "wires": [
            [
                "46adf2e6e2754c9e"
            ]
        ]
    },
    {
        "id": "ebc6b3c5c6bd607b",
        "type": "change",
        "z": "8dd0653486d5a6d4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bgronxadors.estat",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 380,
        "wires": [
            [
                "66e0b83b12ccbe46"
            ]
        ]
    },
    {
        "id": "46adf2e6e2754c9e",
        "type": "switch",
        "z": "8dd0653486d5a6d4",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 380,
        "wires": [
            [
                "ebc6b3c5c6bd607b"
            ],
            [
                "ebc6b3c5c6bd607b"
            ]
        ]
    },
    {
        "id": "533231eb757f57c5",
        "type": "delay",
        "z": "8dd0653486d5a6d4",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 420,
        "y": 120,
        "wires": [
            [
                "beb0e6c5e5c634fe"
            ]
        ]
    },
    {
        "id": "45dd7faae143f1b0",
        "type": "debug",
        "z": "8dd0653486d5a6d4",
        "name": "debug 193",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 100,
        "wires": []
    },
    {
        "id": "e9f1aa4e329a04ba",
        "type": "debug",
        "z": "8dd0653486d5a6d4",
        "name": "debug 198",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 240,
        "wires": []
    },
    {
        "id": "66e0b83b12ccbe46",
        "type": "debug",
        "z": "8dd0653486d5a6d4",
        "name": "debug 199",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 380,
        "wires": []
    },
    {
        "id": "ed041976a18576d6",
        "type": "comment",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Gestió d'alarmes",
        "info": "",
        "x": 160,
        "y": 560,
        "wires": []
    },
    {
        "id": "5bf0662f125320fd",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 1160,
        "wires": [
            [
                "e605265d32c71e37"
            ]
        ]
    },
    {
        "id": "e56a3a47c24e2aa4",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "diposit1.nivell",
        "payloadType": "global",
        "x": 200,
        "y": 1160,
        "wires": [
            [
                "5bf0662f125320fd"
            ]
        ]
    },
    {
        "id": "6b4c05b030c9b261",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "diposit2.nivell",
        "payloadType": "global",
        "x": 200,
        "y": 1240,
        "wires": [
            [
                "cfa88792d9a5309c"
            ]
        ]
    },
    {
        "id": "e605265d32c71e37",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Dipòsit 1 Nivell",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'diposit1';\nconst concepte = 'nivelldiposit1';\n\n// Consignes\nconst limitHigh = global.get(`${sensor}.consigna.maxim`); // Límit alt\nconst limitLow = global.get(`${sensor}.consigna.minim`); // Límit baix\nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nconst alarmaLH = global.get(`alarmes.${concepte}.fuxa.alt`) || 0;\nconst alarmaLL = global.get(`alarmes.${concepte}.fuxa.baix`) || 0;\n\nif (valor >= limitHigh && servei == 1)  {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    if (!alarmaLH) {\n        saveGlobalState(1, valor, '1');\n        global.set(`alarmes.${concepte}.fuxa.alt`,1);\n    }\n} else if (valor <= limitLow && servei == 1) {\n    // Si el valor és inferior al límit baix i l'alarma no està activa\n    if (!alarmaLL) {\n        saveGlobalState(1, valor, '3');\n        global.set(`alarmes.${concepte}.fuxa.baix`,1);\n    }\n} else if (alarmaLH && (valor < limitHigh||servei != 1)){\n        saveGlobalState(0, valor, '2');\n        global.set(`alarmes.${concepte}.fuxa.alt`,0);\n} else if (alarmaLL && (valor > limitLow||servei != 1)){\n        saveGlobalState(0, valor, '4');\n        global.set(`alarmes.${concepte}.fuxa.baix`,0);\n}\n\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 1160,
        "wires": []
    },
    {
        "id": "cfa88792d9a5309c",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 1240,
        "wires": [
            [
                "a53d412234c7fed4"
            ]
        ]
    },
    {
        "id": "a53d412234c7fed4",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Dipòsit 2 Nivell",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'diposit2';\nconst concepte = 'nivelldiposit2';\nconst subconcepte = \"\"; //Exemple: \"cabal.\", en el cas que no en tingui es deixa buit \"\" \n\n// Consignes\nconst limitHigh = global.get(`${sensor}.consigna.${subconcepte}maxim`); // Límit alt\nconst limitLow = global.get(`${sensor}.consigna.${subconcepte}minim`); // Límit baix\nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nconst alarmaLH = global.get(`alarmes.${concepte}.fuxa.alt`) || 0;\nconst alarmaLL = global.get(`alarmes.${concepte}.fuxa.baix`) || 0;\n\nif (valor >= limitHigh && servei == 1)  {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    if (!alarmaLH) {\n        saveGlobalState(1, valor, '1');\n        global.set(`alarmes.${concepte}.fuxa.alt`,1);\n    }\n} else if (valor <= limitLow && servei == 1) {\n    // Si el valor és inferior al límit baix i l'alarma no està activa\n    if (!alarmaLL) {\n        saveGlobalState(1, valor, '3');\n        global.set(`alarmes.${concepte}.fuxa.baix`,1);\n    }\n} else if (alarmaLH && (valor < limitHigh||servei!= 1)){\n        saveGlobalState(0, valor, '2');\n        global.set(`alarmes.${concepte}.fuxa.alt`,0);\n} else if (alarmaLL && (valor > limitLow||servei!= 1)){\n        saveGlobalState(0, valor, '4');\n        global.set(`alarmes.${concepte}.fuxa.baix`,0);\n}\n\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 1240,
        "wires": []
    },
    {
        "id": "a045be917f981728",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "diposit1.bmaxim",
        "payloadType": "global",
        "x": 210,
        "y": 1340,
        "wires": [
            [
                "b596bcf8c080a55e"
            ]
        ]
    },
    {
        "id": "4b80af1113bc09b9",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Dipòsit 1 Boia Màx",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'diposit1';\nconst concepte = 'bmaxdiposit1';\n\n// Consignes\nconst boia = global.get(`${sensor}.bmaxim`); // \nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\nif (valor==0 && servei == 1)  {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    saveGlobalState(1, valor, '7');\n    global.set(`alarmes.${concepte}.fuxa.activa`,1);\n\n} else if (valor === 1 || servei === 0) {\n    saveGlobalState(0, valor, '8');\n    global.set(`alarmes.${concepte}.fuxa.activa`,0);\n}\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 1340,
        "wires": []
    },
    {
        "id": "4a4f2291b9287f3b",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Dipòsit 1 Boia Mín",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'diposit1';\nconst concepte = 'bmindiposit1';\n\n// Consignes\nconst boia = global.get(`${sensor}.bminim`); // \nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\nif (valor == 0 && servei == 1) {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    saveGlobalState(1, valor, '7');\n    global.set(`alarmes.${concepte}.fuxa.activa`, 1);\n\n} else if (valor === 1 || servei === 0) {\n    saveGlobalState(0, valor, '8');\n    global.set(`alarmes.${concepte}.fuxa.activa`, 0);\n}\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 1380,
        "wires": []
    },
    {
        "id": "d286cbd0e9ed5974",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "diposit1.bminim",
        "payloadType": "global",
        "x": 210,
        "y": 1380,
        "wires": [
            [
                "e84f39c453821804"
            ]
        ]
    },
    {
        "id": "f219495dee97cab1",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "br1.avaria",
        "payloadType": "global",
        "x": 190,
        "y": 780,
        "wires": [
            [
                "c379be4aacdaf761"
            ]
        ]
    },
    {
        "id": "1fdca9d6bdba6c2b",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Bomba recirculadora 1",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'br1';\nconst concepte = 'marxabr1';\n\n// Consignes\nconst avaria = global.get(`${sensor}.avaria`); // \nconst servei = global.get(`analitzador1.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\nif (avaria===1 && servei===1)  {\n    saveGlobalState(1, valor, '5');\n    global.set(`alarmes.${concepte}.fuxa.avaria`,1);\n\n} else if (avaria === 0 || servei === 0) {\n    saveGlobalState(0, valor, '6');\n    global.set(`alarmes.${concepte}.fuxa.avaria`,0);\n}",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 780,
        "wires": []
    },
    {
        "id": "b6ed100552d50d2c",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "d1.avaria",
        "payloadType": "global",
        "x": 190,
        "y": 920,
        "wires": [
            [
                "e6d2814e15aef9b6"
            ]
        ]
    },
    {
        "id": "b53eb0e8cc5e1990",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Dosificadora 1 pre clor",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'd1';\nconst concepte = 'marxad1';\n\n// Consignes\nconst avaria = global.get(`${sensor}.avaria`); // \nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nif (valor ===1 && servei === 1)  {\n    saveGlobalState(1, valor, '5');\n    global.set(`alarmes.${concepte}.fuxa.avaria`,1);\n\n} else if (valor === 0 || servei === 0) {\n    saveGlobalState(0, valor, '6');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 0);\n}\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 920,
        "wires": []
    },
    {
        "id": "4d05a6529c7b8c5f",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Dosificadora 3 àcid",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'd3';\nconst concepte = 'marxad3';\n\n// Consignes\nconst avaria = global.get(`${sensor}.avaria`); // \nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nif (valor === 1 && servei === 1) {\n    saveGlobalState(1, valor, '5');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 1);\n\n} else if (valor === 0 || servei === 0) {\n    saveGlobalState(0, valor, '6');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 0);\n}\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 960,
        "wires": []
    },
    {
        "id": "146aee312e69e885",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "d3.avaria",
        "payloadType": "global",
        "x": 190,
        "y": 960,
        "wires": [
            [
                "f49fbde78bed5d6a"
            ]
        ]
    },
    {
        "id": "048d9bfbfde41581",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "br2.avaria",
        "payloadType": "global",
        "x": 190,
        "y": 820,
        "wires": [
            [
                "0fe875b941c4b8c0"
            ]
        ]
    },
    {
        "id": "04a805abe82df77e",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Bomba recirculadora 2",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'br2';\nconst concepte = 'marxabr2';\n\n// Consignes\nconst avaria = global.get(`${sensor}.avaria`); // \nconst servei = global.get(`analitzador2.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\nif (avaria === 1 && servei === 1) {\n    saveGlobalState(1, valor, '5');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 1);\n\n} else if (avaria === 0 || servei === 0) {\n    saveGlobalState(0, valor, '6');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 0);\n}",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 820,
        "wires": []
    },
    {
        "id": "c806efbe3d419c66",
        "type": "comment",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "Gestió avaries calculades",
        "info": "",
        "x": 190,
        "y": 60,
        "wires": []
    },
    {
        "id": "085377df68fd8cbe",
        "type": "comment",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "Gestió avisos",
        "info": "",
        "x": 810,
        "y": 60,
        "wires": []
    },
    {
        "id": "7b74f78f5bdc4652",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 1140,
        "y": 120,
        "wires": [
            [
                "060b54794724b332"
            ]
        ]
    },
    {
        "id": "060b54794724b332",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "Dipòsit 2 EA",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'diposit2';\nconst concepte = 'nivell2ea';\n\n// Consignes\n//##const equip = \"i0.7_diposit_nivell\";\nconst limitHigh = 4095; // 4mA\nconst limitLow = 785;   // 20mA\nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Estat de l'alarma (guardarà l'estat)\nconst alarmaEstat = global.get(`alarmes.${concepte}.estat`) || 0;\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nif ((valor > limitHigh || valor < limitLow) && servei == 1) {\n    // Si el valor és superior o inferior als límits i l'alarma no està activa\n    if (!alarmaEstat) {\n        saveGlobalState(1, valor, '11');\n        global.set(`alarmes.${concepte}.fuxa.ea`,1);\n    }\n} else {\n    // Si el valor torna a la normalitat i l'alarma està activa\n    if (alarmaEstat || servei != 1) {\n        saveGlobalState(0, valor, '12');\n        global.set(`alarmes.${concepte}.fuxa.ea`,0);\n    }\n}",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1330,
        "y": 120,
        "wires": []
    },
    {
        "id": "15a110f912e0a009",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "diposit2.ea",
        "payloadType": "global",
        "x": 850,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "4b88787f0a9799b9",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 1160,
        "y": 220,
        "wires": [
            [
                "4b7a70721ccba21c"
            ]
        ]
    },
    {
        "id": "6ffd69542da5e62d",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "cabalimetre1.cabal",
        "payloadType": "global",
        "x": 880,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "4b7a70721ccba21c",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "Cabal 1 (Gronxadors)",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'cabalimetre1';\nconst concepte = 'instantanicabalgronxadors';\nconst subconcepte = \"cabal.\"; //En el cas que no en tingui, es deixa buit \"\"\n\n// Consignes\nconst limitHigh = global.get(`${sensor}.consigna.${subconcepte}maxim`); // Límit alt\nconst limitLow = global.get(`${sensor}.consigna.${subconcepte}minim`); // Límit baix\nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nconst alarmaLH = global.get(`alarmes.${concepte}.estat`) || 0;\nconst alarmaLL = global.get(`alarmes.${concepte}.estat`) || 0;\n\nif (valor >= limitHigh && servei == 1)  {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    if (!alarmaLH) {\n        saveGlobalState(1, valor, '1');\n        global.set(`alarmes.${concepte}.fuxa.alt`,1);\n    }\n} else if (valor <= limitLow && servei == 1) {\n    // Si el valor és inferior al límit baix i l'alarma no està activa\n    if (!alarmaLL) {\n        saveGlobalState(1, valor, '3');\n        global.set(`alarmes.${concepte}.fuxa.baix`,1);\n    }\n} else if (alarmaLH && (valor < limitHigh||servei != 1)){\n        saveGlobalState(0, valor, '2');\n        global.set(`alarmes.${concepte}.fuxa.alt`,0);\n} else if (alarmaLL && (valor > limitLow||servei != 1)){\n        saveGlobalState(0, valor, '4');\n        global.set(`alarmes.${concepte}.fuxa.baix`,0);\n}\n\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 220,
        "wires": []
    },
    {
        "id": "67bd2b508a0aeec0",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 1160,
        "y": 260,
        "wires": [
            [
                "e55b600f53fa45de"
            ]
        ]
    },
    {
        "id": "cbea85b2f651f72d",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "cabalimetre2.cabal",
        "payloadType": "global",
        "x": 880,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "e55b600f53fa45de",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "Cabal 2 (Ca l'Esteve dip.1)",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'cabal2';\nconst concepte = 'instantanicabalentradad';\nconst subconcepte = \"inst.\"; //Exemple: \"cabal.\", en el cas que no en tingui es deixa buit \"\" \n\n// Consignes\nconst limitHigh = global.get(`${sensor}.consigna.${subconcepte}maxim`); // Límit alt\nconst limitLow = global.get(`${sensor}.consigna.${subconcepte}minim`); // Límit baix\nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nconst alarmaLH = global.get(`alarmes.${concepte}.estat`) || 0;\nconst alarmaLL = global.get(`alarmes.${concepte}.estat`) || 0;\n\nif (valor >= limitHigh && servei == 1)  {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    if (!alarmaLH) {\n        saveGlobalState(1, valor, '1');\n        global.set(`alarmes.${concepte}.fuxa.alt`,1);\n    }\n} else if (valor <= limitLow && servei == 1) {\n    // Si el valor és inferior al límit baix i l'alarma no està activa\n    if (!alarmaLL) {\n        saveGlobalState(1, valor, '3');\n        global.set(`alarmes.${concepte}.fuxa.baix`,1);\n    }\n} else if (alarmaLH && (valor < limitHigh||servei != 1)){\n        saveGlobalState(0, valor, '2');\n        global.set(`alarmes.${concepte}.fuxa.alt`,0);\n} else if (alarmaLL && (valor > limitLow||servei != 1)){\n        saveGlobalState(0, valor, '4');\n        global.set(`alarmes.${concepte}.fuxa.baix`,0);\n}\n\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1360,
        "y": 260,
        "wires": []
    },
    {
        "id": "20365a7e8ae444b0",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 1160,
        "y": 300,
        "wires": [
            [
                "304b45427619085b"
            ]
        ]
    },
    {
        "id": "27608e581ba3dce5",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "cabalimetre3.cabal",
        "payloadType": "global",
        "x": 880,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "304b45427619085b",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "Cabal 3 (Ca l'Esteve dip.2)",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'cabalimetre2';\nconst concepte = 'instantanicabalentradad2';\nconst subconcepte = \"cabal.\"; //Exemple: \"cabal.\", en el cas que no en tingui es deixa buit \"\" \n\n// Consignes\nconst limitHigh = global.get(`${sensor}.consigna.${subconcepte}maxim`); // Límit alt\nconst limitLow = global.get(`${sensor}.consigna.${subconcepte}minim`); // Límit baix\nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nconst alarmaLH = global.get(`alarmes.${concepte}.estat`) || 0;\nconst alarmaLL = global.get(`alarmes.${concepte}.estat`) || 0;\n\nif (valor >= limitHigh && servei == 1)  {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    if (!alarmaLH) {\n        saveGlobalState(1, valor, '1');\n        global.set(`alarmes.${concepte}.fuxa.alt`,1);\n    }\n} else if (valor <= limitLow && servei == 1) {\n    // Si el valor és inferior al límit baix i l'alarma no està activa\n    if (!alarmaLL) {\n        saveGlobalState(1, valor, '3');\n        global.set(`alarmes.${concepte}.fuxa.baix`,1);\n    }\n} else if (alarmaLH && (valor < limitHigh||servei != 1)){\n        saveGlobalState(0, valor, '2');\n        global.set(`alarmes.${concepte}.fuxa.alt`,0);\n} else if (alarmaLL && (valor > limitLow||servei != 1)){\n        saveGlobalState(0, valor, '4');\n        global.set(`alarmes.${concepte}.fuxa.baix`,0);\n}\n\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1360,
        "y": 300,
        "wires": []
    },
    {
        "id": "bc8c927b0b6cd1be",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 1140,
        "y": 160,
        "wires": [
            [
                "c238b5308d959d6e"
            ]
        ]
    },
    {
        "id": "3e8ad2322d8115c3",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "cabalimetre1.ea",
        "payloadType": "global",
        "x": 870,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "c238b5308d959d6e",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "EA Cabalímetre 1",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'cabalimetre1';\nconst concepte = 'cabal1ea';\n\n// Consignes\n//##const equip = \"i0.7_diposit_nivell\";\nconst limitHigh = 4095; // 4mA\nconst limitLow = 785;   // 20mA\nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Estat de l'alarma (guardarà l'estat)\nconst alarmaEstat = global.get(`alarmes.${concepte}.estat`) || 0;\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nif ((valor > limitHigh || valor < limitLow) && servei == 1) {\n    // Si el valor és superior o inferior als límits i l'alarma no està activa\n    if (!alarmaEstat) {\n        saveGlobalState(1, valor, '11');\n        global.set(`alarmes.${concepte}.fuxa.ea`,1);\n    }\n} else {\n    // Si el valor torna a la normalitat i l'alarma està activa\n    if (alarmaEstat || servei != 1) {\n        saveGlobalState(0, valor, '12');\n        global.set(`alarmes.${concepte}.fuxa.ea`,0);\n    }\n}",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1310,
        "y": 160,
        "wires": []
    },
    {
        "id": "22fe4883f2e9b762",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "avaria br1",
        "func": "// Obtenir els valors globals necessaris\nlet servei = global.get('analitzador1.consigna.servei');\nlet estat = global.get('br1.marxa');\n\n// Comprovar si tenim 'comandament' (servei) i no tenim 'estat'\nif (servei && !estat) {\n    // Establir el valor de 'global.br1.avaria' a 1\n    global.set('br1.avaria', 1);\n} else {\n    // En qualsevol altre cas, establir 'global.br1.avaria' a 0\n    global.set('br1.avaria', 0);\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "630c5f6e02691325",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 410,
        "y": 80,
        "wires": [
            [
                "22fe4883f2e9b762",
                "f024987ad8501b38",
                "1bc32d24587bb201",
                "1116d67f9d328f79",
                "116b939df40db327"
            ]
        ]
    },
    {
        "id": "f024987ad8501b38",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "avaria br2",
        "func": "// Obtenir els valors globals necessaris\nlet servei1 = global.get('analitzador2.consigna.servei');\nlet servei2 = global.get('analitzador3.consigna.servei');\nlet estat = global.get('br2.marxa');\n\n// Comprovar si tenim 'comandament' (servei) i no tenim 'estat'\nif (servei1 && servei2 && !estat) {\n    // Establir el valor de 'global.br1.avaria' a 1\n    global.set('br2.avaria', 1);\n} else {\n    // En qualsevol altre cas, establir 'global.br1.avaria' a 0\n    global.set('br2.avaria', 0);\n}\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "1bc32d24587bb201",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "avaria d1",
        "func": "// Definim el thing d'entrada per poder-lo reutilitzar\nconst thing = 'd1'; // Utilitzem 'msg.payload' per obtenir el thing, per defecte és 'd1'\n\n\n// Obtenir els valors globals necessaris amb valors per defecte\nlet servei = global.get(`${thing}.consigna.servei`) || 0; // Consigna de servei: actiu o no\nlet estat = global.get(`${thing}.marxa`) || 0;            // Estat de marxa: indica si està funcionant\nlet comandament = global.get(`${thing}.comand`) || 0;     // Comandament: actiu o no\n\n// Obtenir el temps d'inici d'avaria del context (específic pel thing)\nlet avariaStartTime = context.get(`${thing}_avariaStartTime`);\n\n// Obtenir l'actual temps\nlet now = Date.now();\n\n// Comprovar si tenim comandament i servei, però no tenim marxa\nif (comandament === 1 && servei === 1 && estat === 0) {\n    if (!avariaStartTime) {\n        // Si no hi ha un temps d'inici d'avaria, establir-ho ara\n        context.set(`${thing}_avariaStartTime`, now);\n        } else if (now - avariaStartTime >= 60000) { // 60 segons\n        // Si ha passat més de 30 segons des de l'inici de la situació d'avaria\n        global.set(`${thing}.avaria`, 1);}\n} else {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime`, null);\n    global.set(`${thing}.avaria`, 0);\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "1116d67f9d328f79",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "avaria d3",
        "func": "// Definim el thing d'entrada per poder-lo reutilitzar\nconst thing = 'd3'; // Utilitzem 'msg.payload' per obtenir el thing, per defecte és 'd1'\n\n\n// Obtenir els valors globals necessaris amb valors per defecte\nlet servei = global.get(`${thing}.consigna.servei`) || 0; // Consigna de servei: actiu o no\nlet estat = global.get(`${thing}.marxa`) || 0;            // Estat de marxa: indica si està funcionant\nlet comandament = global.get(`${thing}.comand`) || 0;     // Comandament: actiu o no\n\n// Obtenir el temps d'inici d'avaria del context (específic pel thing)\nlet avariaStartTime = context.get(`${thing}_avariaStartTime`);\n\n// Obtenir l'actual temps\nlet now = Date.now();\n\n// Comprovar si tenim comandament i servei, però no tenim marxa\nif (comandament === 1 && servei === 1 && estat === 0) {\n    if (!avariaStartTime) {\n        // Si no hi ha un temps d'inici d'avaria, establir-ho ara\n        context.set(`${thing}_avariaStartTime`, now);\n    } else if (now - avariaStartTime >= 60000) { // 60 segons\n        // Si ha passat més de 30 segons des de l'inici de la situació d'avaria\n        global.set(`${thing}.avaria`, 1);\n    }\n} else {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime`, null);\n    global.set(`${thing}.avaria`, 0);\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "26ba5321978346dc",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "avaria v1 obrir",
        "func": "// Definim el thing d'entrada per poder-lo reutilitzar\nconst thing = 'v1'; // Utilitzem 'msg.payload' per obtenir el thing, per defecte és 'd1'\n\n// Obtenir els valors globals necessaris\nlet servei = global.get(`${thing}.consigna.servei`); // Consigna de servei: actiu o no\nlet estat = global.get(`${thing}.oberta`);            // Estat de marxa: indica si està funcionant\nlet comandament = global.get(`${thing}.comand`);     // Comandament: actiu o no\nlet reset = global.get('reset.consigna');\n\n// Obtenir el temps d'inici d'avaria del context (específic pel thing)\nlet avariaStartTime = context.get(`${thing}_avariaStartTime1`);\n\n// Obtenir l'actual temps\nlet now = Date.now();\n\n// Comprovar si tenim comandament i servei, però no tenim marxa\nif (comandament && servei && !estat) {\n    if (!avariaStartTime) {\n        // Si no hi ha un temps d'inici d'avaria, establir-ho ara\n        context.set(`${thing}_avariaStartTime1`, now);\n    } else if (now - avariaStartTime >= 30000) {\n        // Si ha passat més d'1 minut des de l'inici de la situació d'avaria\n        global.set(`${thing}.avaria.obrir`, 1);\n    }\n} else if (reset == 1) {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime1`, null);\n    global.set(`${thing}.avaria.obrir`, 0);\n    \n} else if (estat == 1) {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime1`, null);\n    global.set(`${thing}.avaria.obrir`, 0);\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "02ee2514deba4c09",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "avaria v1 tancar",
        "func": "// Definim el thing d'entrada per poder-lo reutilitzar\nconst thing = 'v1'; // Utilitzem 'msg.payload' per obtenir el thing, per defecte és 'd1'\n\n// Obtenir els valors globals necessaris\nlet servei = global.get(`${thing}.consigna.ci`); // Consigna de servei: actiu o no\nlet estat = global.get(`${thing}.tancada`);            // Estat de marxa: indica si està funcionant\nlet comandament = global.get(`${thing}.comand`);     // Comandament: actiu o no\nlet reset = global.get('reset.consigna');\n\n// Obtenir el temps d'inici d'avaria del context (específic pel thing)\nlet avariaStartTime = context.get(`${thing}_avariaStartTime2`);\n\n// Obtenir l'actual temps\nlet now = Date.now();\n\n// Comprovar si tenim comandament i servei, però no tenim marxa\nif (!comandament && servei && !estat) {\n    if (!avariaStartTime) {\n        // Si no hi ha un temps d'inici d'avaria, establir-ho ara\n        context.set(`${thing}_avariaStartTime2`, now);\n    } else if (now - avariaStartTime >= 30000) {\n        // Si ha passat més d'1 minut des de l'inici de la situació d'avaria\n        global.set(`${thing}.avaria.tancar`, 1);\n    }\n} else if (reset == 1) {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime2`, null);\n    global.set(`${thing}.avaria.tancar`, 0);\n    \n} else if (estat == 1) {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime2`, null);\n    global.set(`${thing}.avaria.tancar`, 0);\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "44a3f388aecc9c20",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "avaria v2 oberta (no tancada, proporcional)",
        "func": "// Definim el thing d'entrada per poder-lo reutilitzar\nconst thing = 'v2'; // Utilitzem 'msg.payload' per obtenir el thing, per defecte és 'd1'\n\n// Obtenir els valors globals necessaris\nlet servei = global.get(`${thing}.consigna.ci`); // Consigna de servei: actiu o no\nlet estat = global.get(`${thing}.tancada`);            // Estat de marxa: indica si està funcionant\nlet comandament = global.get(`${thing}.comand`);     // Comandament: actiu o no\nlet reset = global.get('reset.consigna');\n\n// Obtenir el temps d'inici d'avaria del context (específic pel thing)\nlet avariaStartTime = context.get(`${thing}_avariaStartTime1`);\n\n// Obtenir l'actual temps\nlet now = Date.now();\n\n// Comprovar si tenim comandament i servei, però no tenim marxa\nif (comandament && servei && estat) {\n    if (!avariaStartTime) {\n        // Si no hi ha un temps d'inici d'avaria, establir-ho ara\n        context.set(`${thing}_avariaStartTime1`, now);\n    } else if (now - avariaStartTime >= 30000) {\n        // Si ha passat més d'1 minut des de l'inici de la situació d'avaria\n        global.set(`${thing}.avaria.obrir`, 1);\n    }\n} if (reset ==1)  {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime1`, null);\n    global.set(`${thing}.avaria.obrir`, 0);\n    \n} else if (estat == 0) {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime1`, null);\n    global.set(`${thing}.avaria.obrir`, 0);\n}\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "bb147fe3a5514daa",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "avaria v2 tancar",
        "func": "// Definim el thing d'entrada per poder-lo reutilitzar\nconst thing = 'v2'; // Utilitzem 'msg.payload' per obtenir el thing, per defecte és 'd1'\n\n// Obtenir els valors globals necessaris\nlet servei = global.get(`${thing}.consigna.ci`); // Consigna de servei: actiu o no\nlet estat = global.get(`${thing}.tancada`);            // Estat de marxa: indica si està funcionant\nlet comandament = global.get(`${thing}.comand`);     // Comandament: actiu o no\nlet reset = global.get('reset.consigna');\n\n// Obtenir el temps d'inici d'avaria del context (específic pel thing)\nlet avariaStartTime = context.get(`${thing}_avariaStartTime2`);\n\n// Obtenir l'actual temps\nlet now = Date.now();\n\n// Comprovar si tenim comandament i servei, però no tenim marxa\nif (!comandament && servei && !estat) {\n    if (!avariaStartTime) {\n        // Si no hi ha un temps d'inici d'avaria, establir-ho ara\n        context.set(`${thing}_avariaStartTime2`, now);\n    } else if (now - avariaStartTime >= 30000) {\n        // Si ha passat més d'1 minut des de l'inici de la situació d'avaria\n        global.set(`${thing}.avaria.tancar`, 1);\n    }\n} if (reset ==1)  {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime2`, null);\n    global.set(`${thing}.avaria.tancar`, 0);\n} else if (estat == 1) {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime2`, null);\n    global.set(`${thing}.avaria.tancar`, 0);\n}\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "45e04f6b17f211b3",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "avaria v3 obrir",
        "func": "// Definim el thing d'entrada per poder-lo reutilitzar\nconst thing = 'v3'; // Utilitzem 'msg.payload' per obtenir el thing, per defecte és 'd1'\n\n// Obtenir els valors globals necessaris\nlet servei = global.get(`${thing}.consigna.servei`); // Consigna de servei: actiu o no\nlet estat = global.get(`${thing}.oberta`);            // Estat de marxa: indica si està funcionant\nlet comandament = global.get(`${thing}.comand`);     // Comandament: actiu o no\nlet reset = global.get('reset.consigna');\n\n// Obtenir el temps d'inici d'avaria del context (específic pel thing)\nlet avariaStartTime = context.get(`${thing}_avariaStartTime1`);\n\n// Obtenir l'actual temps\nlet now = Date.now();\n\n// Comprovar si tenim comandament i servei, però no tenim marxa\nif (comandament && servei && !estat) {\n    if (!avariaStartTime) {\n        // Si no hi ha un temps d'inici d'avaria, establir-ho ara\n        context.set(`${thing}_avariaStartTime1`, now);\n    } else if (now - avariaStartTime >= 30000) {\n        // Si ha passat més d'1 minut des de l'inici de la situació d'avaria\n        global.set(`${thing}.avaria.obrir`, 1);\n    }\n} else if (reset ==1) {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime1`, null);\n    global.set(`${thing}.avaria.obrir`, 0);\n    \n } else if (estat == 1) {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime1`, null);\n    global.set(`${thing}.avaria.obrir`, 0);\n}\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "52710fe6f83f43ca",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "avaria v3 tancar",
        "func": "// Definim el thing d'entrada per poder-lo reutilitzar\nconst thing = 'v3'; // Utilitzem 'msg.payload' per obtenir el thing, per defecte és 'd1'\n\n// Obtenir els valors globals necessaris\nlet servei = global.get(`${thing}.consigna.ci`); // Consigna de servei: actiu o no\nlet estat = global.get(`${thing}.tancada`);            // Estat de marxa: indica si està funcionant\nlet comandament = global.get(`${thing}.comand`);     // Comandament: actiu o no\nlet reset = global.get('reset.consigna');\n\n// Obtenir el temps d'inici d'avaria del context (específic pel thing)\nlet avariaStartTime = context.get(`${thing}_avariaStartTime2`);\n\n// Obtenir l'actual temps\nlet now = Date.now();\n\n// Comprovar si tenim comandament i servei, però no tenim marxa\nif (!comandament && servei && !estat) {\n    if (!avariaStartTime) {\n        // Si no hi ha un temps d'inici d'avaria, establir-ho ara\n        context.set(`${thing}_avariaStartTime2`, now);\n    } else if (now - avariaStartTime >= 30000) {\n        // Si ha passat més d'1 minut des de l'inici de la situació d'avaria\n        global.set(`${thing}.avaria.tancar`, 1);\n    }\n}else if (reset ==1)  {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime2`, null);\n    global.set(`${thing}.avaria.tancar`, 0);\n} else if (estat == 1) {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime2`, null);\n    global.set(`${thing}.avaria.tancar`, 0);\n}\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "116b939df40db327",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "avaria b1",
        "func": "// Definim el thing d'entrada per poder-lo reutilitzar\nconst thing = 'b1'; // Utilitzem 'msg.payload' per obtenir el thing, per defecte és 'd1'\n\n// Obtenir els valors globals necessaris\nlet servei = global.get(`${thing}.consigna.servei`); // Consigna de servei: actiu o no\nlet estat = global.get(`${thing}.marxa`);            // Estat de marxa: indica si està funcionant\nlet comandament = global.get(`${thing}.comand`);     // Comandament: actiu o no\nlet reset = global.get('reset.consigna');\n\n// Obtenir el temps d'inici d'avaria del context (específic pel thing)\nlet avariaStartTime = context.get(`${thing}_avariaStartTime`);\n\n// Obtenir l'actual temps\nlet now = Date.now();\n\n// Comprovar si tenim comandament i servei, però no tenim marxa\nif (comandament && servei && !estat) {\n    if (!avariaStartTime) {\n        // Si no hi ha un temps d'inici d'avaria, establir-ho ara\n        context.set(`${thing}_avariaStartTime`, now);\n    } else if (now - avariaStartTime >= 30000) {\n        // Si ha passat més d'1 minut des de l'inici de la situació d'avaria\n        global.set(`${thing}.avaria`, 1);\n    }\n} else if (reset ==1) {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime`, null);\n    global.set(`${thing}.avaria`, 0);\n} else if (estat == 1) {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime`, null);\n    global.set(`${thing}.avaria`, 0);\n}\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "912ef5187eb25296",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "plc.alimentacio",
        "payloadType": "global",
        "x": 200,
        "y": 600,
        "wires": [
            [
                "4d799aa3ba280a7a"
            ]
        ]
    },
    {
        "id": "e049c85ce6305d4a",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Fallada Alimentacio",
        "func": "// Definim les variables del sensor i el concepte\nconst concepte = 'falladaalimentacio';\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\nif (valor == 0)  {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    saveGlobalState(1, valor, 5);\n    global.set(`alarmes.${concepte}.fuxa.activa`,1);\n} else {\n\n    saveGlobalState(0, valor, 6);\n    global.set(`alarmes.${concepte}.fuxa.activa`,0);\n}",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 600,
        "wires": []
    },
    {
        "id": "136dd9b349b3eae4",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "plc.talim",
        "payloadType": "global",
        "x": 180,
        "y": 640,
        "wires": [
            [
                "d88de63389ed0d5a"
            ]
        ]
    },
    {
        "id": "2490a7661ffdae63",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Voltatge PLC",
        "func": "// Definim les variables del sensor i el concepte\nconst concepte = 'volatgeplc';\nconst subconcepte = \"\"; //Exemple: \"cabal.\", en el cas que no en tingui es deixa buit \"\" \n\n// Consignes\nconst limitHigh = 13.00; // Límit alt\nconst limitLow = 12.10; // Límit baix\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nconst alarmaLH = global.get(`alarmes.${concepte}.fuxa.alt`) || 0;\nconst alarmaLL = global.get(`alarmes.${concepte}.fuxa.alt`) || 0;\n\nif (valor >= limitHigh)  {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    if (!alarmaLH) {\n        saveGlobalState(1, valor, '1');\n        global.set(`alarmes.${concepte}.fuxa.alt`,1);\n    }\n} else if (valor <= limitLow) {\n    // Si el valor és inferior al límit baix i l'alarma no està activa\n    if (!alarmaLL) {\n        saveGlobalState(1, valor, '3');\n        global.set(`alarmes.${concepte}.fuxa.baix`,1);\n    }\n} else if (alarmaLH && (valor < limitHigh)){\n        saveGlobalState(0, valor, '2');\n        global.set(`alarmes.${concepte}.fuxa.alt`,0);\n} else if (alarmaLL && (valor > limitLow)){\n        saveGlobalState(0, valor, '4');\n        global.set(`alarmes.${concepte}.fuxa.baix`,0);\n}\n\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 640,
        "wires": []
    },
    {
        "id": "4d799aa3ba280a7a",
        "type": "rbe",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 750,
        "y": 600,
        "wires": [
            [
                "e049c85ce6305d4a"
            ]
        ]
    },
    {
        "id": "d88de63389ed0d5a",
        "type": "rbe",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 750,
        "y": 640,
        "wires": [
            [
                "2490a7661ffdae63"
            ]
        ]
    },
    {
        "id": "1cb0918c5ba48946",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "analitzador2.estat",
        "payloadType": "global",
        "x": 210,
        "y": 860,
        "wires": [
            [
                "b16efdd69c667cf1"
            ]
        ]
    },
    {
        "id": "40ab21cfb14ff7b1",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Estat Analitzador2",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'analitzador2';\nconst concepte = 'analitzador2';\n\n// Consignes\nconst servei = global.get(`${sensor}.consigna.servei`) || 0; // Valor per defecte si és null/undefined\n\n// Dades d'entrada\nconst valor = msg.payload || 0; // Valor per defecte si és null/undefined\n\n// Funció per desar l'estat global\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\n// Lògica principal\nif (servei === 1 && valor === 0) {\n    // Si avaria és 1 i valor és 1\n    saveGlobalState(1, valor, '41');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 1);\n} else if (servei === 0) {\n    // Si valor és 0 (independentment de l'estat de avaria)\n    saveGlobalState(0, valor, '42');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 0);\n} else {\n    // Qualsevol altre cas\n    saveGlobalState(0, valor, '42');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 0);\n}\n\nreturn msg;",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 860,
        "wires": []
    },
    {
        "id": "f0f28078438c5370",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "avaria d1",
        "func": "// Definim el thing d'entrada per poder-lo reutilitzar\nconst thing = 'd1'; // Utilitzem 'msg.payload' per obtenir el thing, per defecte és 'd1'\n\n// Obtenir els valors globals necessaris\nlet servei = global.get(`${thing}.consigna.servei`); // Consigna de servei: actiu o no\nlet estat = global.get(`${thing}.marxa`);            // Estat de marxa: indica si està funcionant\nlet comandament = global.get(`${thing}.comand`);     // Comandament: actiu o no\nlet reset = global.get('reset.consigna');\n\n// Obtenir el temps d'inici d'avaria del context (específic pel thing)\nlet avariaStartTime = context.get(`${thing}_avariaStartTime`);\n\n// Obtenir l'actual temps\nlet now = Date.now();\n\n// Comprovar si tenim comandament i servei, però no tenim marxa\nif (comandament && servei && !estat) {\n    if (!avariaStartTime) {\n        // Si no hi ha un temps d'inici d'avaria, establir-ho ara\n        context.set(`${thing}_avariaStartTime`, now);\n    } else if (now - avariaStartTime >= 30000) {\n        // Si ha passat més d'1 minut des de l'inici de la situació d'avaria\n        global.set(`${thing}.avaria`, 1);\n    }\n} if (reset ==1)  {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime`, null);\n    global.set(`${thing}.avaria`, 0);\n} else if (estat == 1) {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime`, null);\n    global.set(`${thing}.avaria`, 0);\n}\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 160,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "e9551458273ad19c",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "avaria d2",
        "func": "// Definim el thing d'entrada per poder-lo reutilitzar\nconst thing = 'd2'; // Utilitzem 'msg.payload' per obtenir el thing, per defecte és 'd1'\n\n\n// Obtenir els valors globals necessaris amb valors per defecte\nlet servei = global.get(`${thing}.consigna.servei`) || 0; // Consigna de servei: actiu o no\nlet estat = global.get(`${thing}.marxa`) || 0;            // Estat de marxa: indica si està funcionant\nlet comandament = global.get(`${thing}.comand`) || 0;     // Comandament: actiu o no\n\n// Obtenir el temps d'inici d'avaria del context (específic pel thing)\nlet avariaStartTime = context.get(`${thing}_avariaStartTime`);\n\n// Obtenir l'actual temps\nlet now = Date.now();\n\n// Comprovar si tenim comandament i servei, però no tenim marxa\nif (comandament === 1 && servei === 1 && estat === 0) {\n    if (!avariaStartTime) {\n        // Si no hi ha un temps d'inici d'avaria, establir-ho ara\n        context.set(`${thing}_avariaStartTime`, now);\n        } else if (now - avariaStartTime >= 60000) { // 60 segons\n        // Si ha passat més de 30 segons des de l'inici de la situació d'avaria\n        global.set(`${thing}.avaria`, 1);}\n} else {\n    // En qualsevol altre cas, restablir l'avaria i el temporitzador\n    context.set(`${thing}_avariaStartTime`, null);\n    global.set(`${thing}.avaria`, 0);\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "e6d2814e15aef9b6",
        "type": "rbe",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 750,
        "y": 920,
        "wires": [
            [
                "b53eb0e8cc5e1990"
            ]
        ]
    },
    {
        "id": "f49fbde78bed5d6a",
        "type": "rbe",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 750,
        "y": 960,
        "wires": [
            [
                "4d05a6529c7b8c5f"
            ]
        ]
    },
    {
        "id": "c379be4aacdaf761",
        "type": "rbe",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 750,
        "y": 780,
        "wires": [
            [
                "1fdca9d6bdba6c2b"
            ]
        ]
    },
    {
        "id": "0fe875b941c4b8c0",
        "type": "rbe",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 750,
        "y": 820,
        "wires": [
            [
                "04a805abe82df77e"
            ]
        ]
    },
    {
        "id": "34a826f4c2750b19",
        "type": "rbe",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 750,
        "y": 860,
        "wires": [
            [
                "40ab21cfb14ff7b1"
            ]
        ]
    },
    {
        "id": "28276088bda35a1b",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Vàlvula 1 ",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'v1';\nconst concepte = 'valvula1'\n\n// Consignes\nconst avaria = global.get(`${sensor}.calculada.avaria`) || 0; // 0=No avaria, 1=Avaria o true/false\nconst error = global.get(`${sensor}.calculada.error`) || 0; // 0=No error, 1=Error o true/false\nconst alarma_avaria = global.get(`alarmes.${concepte}.fuxa.avaria`) || 0;\nconst alarma_error = global.get(`alarmes.${concepte}.fuxa.error`) || 0;\n\n// Dades d'entrada\nconst valor = msg.payload;\n\n// Funció per guardar l'estat global\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\n// Funció per determinar si un estat està actiu\nfunction isActive(value) {\n    return value === 1 || value === true;\n}\n\n// Funció per determinar si un estat no està actiu\nfunction isInactive(value) {\n    return value === 0 || value === false;\n}\n\n// Avaria\nif (isActive(avaria) && isInactive(alarma_avaria) && isInactive(error)) {\n    setTimeout(() => {\n        saveGlobalState(1, '0', '5'); // Activem l'alarma d'avaria (Codi 5)\n        global.set(`alarmes.${concepte}.fuxa.avaria`, 1);\n    }, 5000);\n}\n\nif (isInactive(avaria) && isActive(alarma_avaria)) {\n    setTimeout(() => {\n        saveGlobalState(0, '1', '6'); // Restablim l'alarma d'avaria (Codi 6)\n        global.set(`alarmes.${concepte}.fuxa.avaria`, 0);\n    }, 5000);\n}\n\n// Error\nif (isActive(error) && isInactive(alarma_error) && isInactive(alarma_avaria)) {\n    setTimeout(() => {\n        saveGlobalState(1, '0', '13'); // Activem l'alarma d'error (Codi 13)\n        global.set(`alarmes.${concepte}.fuxa.error`, 1);\n    }, 5000);\n}\n\nif (isInactive(error) && isActive(alarma_error)) {\n    setTimeout(() => {\n        saveGlobalState(0, '1', '14'); // Restablim l'alarma d'error (Codi 14)\n        global.set(`alarmes.${concepte}.fuxa.error`, 0);\n    }, 5000);\n}\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 1020,
        "wires": []
    },
    {
        "id": "2d15227cacc659a1",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "v1.avaria",
        "payloadType": "global",
        "x": 190,
        "y": 1020,
        "wires": [
            [
                "e1efffcc06af9c93"
            ]
        ]
    },
    {
        "id": "e68ec712832cdcb1",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Vàlvula 2",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'v2';\nconst concepte = 'valvula2'\n\n// Consignes\nconst avaria = global.get(`${sensor}.calculada.avaria`) || 0; // 0=No avaria, 1=Avaria o true/false\nconst error = global.get(`${sensor}.calculada.error`) || 0; // 0=No error, 1=Error o true/false\nconst alarma_avaria = global.get(`alarmes.${concepte}.fuxa.avaria`) || 0;\nconst alarma_error = global.get(`alarmes.${concepte}.fuxa.error`) || 0;\n\n// Dades d'entrada\nconst valor = msg.payload;\n\n// Funció per guardar l'estat global\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\n// Funció per determinar si un estat està actiu\nfunction isActive(value) {\n    return value === 1 || value === true;\n}\n\n// Funció per determinar si un estat no està actiu\nfunction isInactive(value) {\n    return value === 0 || value === false;\n}\n\n// Avaria\nif (isActive(avaria) && isInactive(alarma_avaria) && isInactive(error)) {\n    setTimeout(() => {\n        saveGlobalState(1, '0', '5'); // Activem l'alarma d'avaria (Codi 5)\n        global.set(`alarmes.${concepte}.fuxa.avaria`, 1);\n    }, 5000);\n}\n\nif (isInactive(avaria) && isActive(alarma_avaria)) {\n    setTimeout(() => {\n        saveGlobalState(0, '1', '6'); // Restablim l'alarma d'avaria (Codi 6)\n        global.set(`alarmes.${concepte}.fuxa.avaria`, 0);\n    }, 5000);\n}\n\n// Error\nif (isActive(error) && isInactive(alarma_error) && isInactive(alarma_avaria)) {\n    setTimeout(() => {\n        saveGlobalState(1, '0', '13'); // Activem l'alarma d'error (Codi 13)\n        global.set(`alarmes.${concepte}.fuxa.error`, 1);\n    }, 5000);\n}\n\nif (isInactive(error) && isActive(alarma_error)) {\n    setTimeout(() => {\n        saveGlobalState(0, '1', '14'); // Restablim l'alarma d'error (Codi 14)\n        global.set(`alarmes.${concepte}.fuxa.error`, 0);\n    }, 5000);\n}\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 1060,
        "wires": []
    },
    {
        "id": "9ea7a79d188381f4",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "v2.avaria",
        "payloadType": "global",
        "x": 190,
        "y": 1060,
        "wires": [
            [
                "9bf45065524ae152"
            ]
        ]
    },
    {
        "id": "63dff4f04f011869",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Vàlvula 3",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'v3';\nconst concepte = 'valvula3'\n\n// Consignes\nconst avaria = global.get(`${sensor}.calculada.avaria`) || 0; // 0=No avaria, 1=Avaria o true/false\nconst error = global.get(`${sensor}.calculada.error`) || 0; // 0=No error, 1=Error o true/false\nconst alarma_avaria = global.get(`alarmes.${concepte}.fuxa.avaria`) || 0;\nconst alarma_error = global.get(`alarmes.${concepte}.fuxa.error`) || 0;\n\n// Dades d'entrada\nconst valor = msg.payload;\n\n// Funció per guardar l'estat global\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\n// Funció per determinar si un estat està actiu\nfunction isActive(value) {\n    return value === 1 || value === true;\n}\n\n// Funció per determinar si un estat no està actiu\nfunction isInactive(value) {\n    return value === 0 || value === false;\n}\n\n// Avaria\nif (isActive(avaria) && isInactive(alarma_avaria) && isInactive(error)) {\n    setTimeout(() => {\n        saveGlobalState(1, '0', '5'); // Activem l'alarma d'avaria (Codi 5)\n        global.set(`alarmes.${concepte}.fuxa.avaria`, 1);\n    }, 5000);\n}\n\nif (isInactive(avaria) && isActive(alarma_avaria)) {\n    setTimeout(() => {\n        saveGlobalState(0, '1', '6'); // Restablim l'alarma d'avaria (Codi 6)\n        global.set(`alarmes.${concepte}.fuxa.avaria`, 0);\n    }, 5000);\n}\n\n// Error\nif (isActive(error) && isInactive(alarma_error) && isInactive(alarma_avaria)) {\n    setTimeout(() => {\n        saveGlobalState(1, '0', '13'); // Activem l'alarma d'error (Codi 13)\n        global.set(`alarmes.${concepte}.fuxa.error`, 1);\n    }, 5000);\n}\n\nif (isInactive(error) && isActive(alarma_error)) {\n    setTimeout(() => {\n        saveGlobalState(0, '1', '14'); // Restablim l'alarma d'error (Codi 14)\n        global.set(`alarmes.${concepte}.fuxa.error`, 0);\n    }, 5000);\n}\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 1100,
        "wires": []
    },
    {
        "id": "c8551fa8b03b6720",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "v3.avaria",
        "payloadType": "global",
        "x": 190,
        "y": 1100,
        "wires": [
            [
                "0d1d532075c1f684"
            ]
        ]
    },
    {
        "id": "e1efffcc06af9c93",
        "type": "rbe",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 750,
        "y": 1020,
        "wires": [
            [
                "28276088bda35a1b"
            ]
        ]
    },
    {
        "id": "9bf45065524ae152",
        "type": "rbe",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 750,
        "y": 1060,
        "wires": [
            [
                "e68ec712832cdcb1"
            ]
        ]
    },
    {
        "id": "0d1d532075c1f684",
        "type": "rbe",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 750,
        "y": 1100,
        "wires": [
            [
                "63dff4f04f011869"
            ]
        ]
    },
    {
        "id": "56ae3a5ad5ba28d8",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 1200,
        "wires": [
            [
                "39718590c56cef0a"
            ]
        ]
    },
    {
        "id": "839266da2ccd70e6",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "diposit1.nivellea",
        "payloadType": "global",
        "x": 210,
        "y": 1200,
        "wires": [
            [
                "56ae3a5ad5ba28d8"
            ]
        ]
    },
    {
        "id": "920d579124f84301",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "diposit2.nivellea",
        "payloadType": "global",
        "x": 210,
        "y": 1280,
        "wires": [
            [
                "e4a35978c45c5a10"
            ]
        ]
    },
    {
        "id": "39718590c56cef0a",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Dipòsit 1 EA",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'diposit1';\nconst concepte = 'eadiposit1';\n\n// Consignes\nconst limitHigh = 27648; // 20mA\nconst limitLow = 9;   // 4mA\nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Estat de l'alarma (guardarà l'estat)\nconst alarmaEstat = global.get(`alarmes.${concepte}.estat`) || 0;\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nif ((valor > limitHigh || valor < limitLow) && servei == 1) {\n    // Si el valor és superior o inferior als límits i l'alarma no està activa\n    if (!alarmaEstat) {\n        saveGlobalState(1, valor, '11');\n        global.set(`alarmes.${concepte}.fuxa.ea`,1);\n    }\n} else {\n    // Si el valor torna a la normalitat i l'alarma està activa\n    if (alarmaEstat || servei != 1) {\n        saveGlobalState(0, valor, '12');\n        global.set(`alarmes.${concepte}.fuxa.ea`,0);\n    }\n}",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 1200,
        "wires": []
    },
    {
        "id": "09fc3af29bf25655",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Dipòsit 2 EA",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'diposit2';\nconst concepte = 'eadiposit2';\n\n// Consignes\nconst limitHigh = 27648; // 20mA\nconst limitLow = 9;   // 4mA\nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Estat de l'alarma (guardarà l'estat)\nconst alarmaEstat = global.get(`alarmes.${concepte}.estat`) || 0;\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nif ((valor > limitHigh || valor < limitLow) && servei == 1) {\n    // Si el valor és superior o inferior als límits i l'alarma no està activa\n    if (!alarmaEstat) {\n        saveGlobalState(1, valor, '11');\n        global.set(`alarmes.${concepte}.fuxa.ea`,1);\n    }\n} else {\n    // Si el valor torna a la normalitat i l'alarma està activa\n    if (alarmaEstat || servei != 1) {\n        saveGlobalState(0, valor, '12');\n        global.set(`alarmes.${concepte}.fuxa.ea`,0);\n    }\n}",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 1280,
        "wires": []
    },
    {
        "id": "e4a35978c45c5a10",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 1280,
        "wires": [
            [
                "09fc3af29bf25655"
            ]
        ]
    },
    {
        "id": "b596bcf8c080a55e",
        "type": "rbe",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 750,
        "y": 1340,
        "wires": [
            [
                "4b80af1113bc09b9"
            ]
        ]
    },
    {
        "id": "e84f39c453821804",
        "type": "rbe",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 750,
        "y": 1380,
        "wires": [
            [
                "4a4f2291b9287f3b"
            ]
        ]
    },
    {
        "id": "7d616ec1bf751f9f",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "diposit2.bmaxim",
        "payloadType": "global",
        "x": 210,
        "y": 1440,
        "wires": [
            [
                "7887b054757c1b1b"
            ]
        ]
    },
    {
        "id": "dadb2d1147b1508f",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Dipòsit 2 Boia Màx",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'diposit2';\nconst concepte = 'bmaxdiposit2';\n\n// Consignes\nconst boia = global.get(`${sensor}.bmaxim`); // \nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\nif (valor==0 && servei == 1)  {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    saveGlobalState(1, valor, '7');\n    global.set(`alarmes.${concepte}.fuxa.activa`,1);\n\n} else if (valor === 1 || servei === 0) {\n    saveGlobalState(0, valor, '8');\n    global.set(`alarmes.${concepte}.fuxa.activa`,0);\n}\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 1440,
        "wires": []
    },
    {
        "id": "a89ffa5ed7062a63",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Dipòsit 2 Boia Mín",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'diposit2';\nconst concepte = 'bmindiposit2';\n\n// Consignes\nconst boia = global.get(`${sensor}.bminim`); // \nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\nif (valor == 0 && servei == 1) {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    saveGlobalState(1, valor, '7');\n    global.set(`alarmes.${concepte}.fuxa.activa`, 1);\n\n} else if (valor === 1 || servei === 0) {\n    saveGlobalState(0, valor, '8');\n    global.set(`alarmes.${concepte}.fuxa.activa`, 0);\n}\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 1480,
        "wires": []
    },
    {
        "id": "8dfcd36f23323b4e",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "diposit2.bminim",
        "payloadType": "global",
        "x": 210,
        "y": 1480,
        "wires": [
            [
                "76dd71d2c470cec2"
            ]
        ]
    },
    {
        "id": "7887b054757c1b1b",
        "type": "rbe",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 750,
        "y": 1440,
        "wires": [
            [
                "dadb2d1147b1508f"
            ]
        ]
    },
    {
        "id": "76dd71d2c470cec2",
        "type": "rbe",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 750,
        "y": 1480,
        "wires": [
            [
                "a89ffa5ed7062a63"
            ]
        ]
    },
    {
        "id": "6331c893fbe46c23",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "plc.tarja1.comunicacio",
        "payloadType": "global",
        "x": 230,
        "y": 2340,
        "wires": [
            [
                "4748af944b53ffd4"
            ]
        ]
    },
    {
        "id": "f802c573b7bba24e",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "plc.tarja2.comunicacio",
        "payloadType": "global",
        "x": 230,
        "y": 2380,
        "wires": [
            [
                "4d3243f63d668c0c"
            ]
        ]
    },
    {
        "id": "a56622dfbd40e0da",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "plc.tarja3.comunicacio",
        "payloadType": "global",
        "x": 230,
        "y": 2420,
        "wires": [
            [
                "e4f91b31e0a0e044"
            ]
        ]
    },
    {
        "id": "4748af944b53ffd4",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Comunicació UMF100 1",
        "func": "// Definim les variables del sensor i el concepte\nconst concepte = 'comunicacioremota1';\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\nif (valor == 0) {\n    saveGlobalState(1, valor, '28');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 1);\n} else {\n\n    saveGlobalState(0, valor, '29');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 0);\n}\n\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 2340,
        "wires": []
    },
    {
        "id": "4d3243f63d668c0c",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Comunicació UMF100 2",
        "func": "// Definim les variables del sensor i el concepte\nconst concepte = 'comunicacioremota2';\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\nif (valor == 0) {\n    saveGlobalState(1, valor, '28');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 1);\n} else {\n\n    saveGlobalState(0, valor, '29');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 0);\n}\n\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 2380,
        "wires": []
    },
    {
        "id": "e4f91b31e0a0e044",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Comunicació UMF100 3",
        "func": "// Definim les variables del sensor i el concepte\nconst concepte = 'comunicacioremota3';\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\nif (valor == 0) {\n    saveGlobalState(1, valor, '28');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 1);\n} else {\n\n    saveGlobalState(0, valor, '29');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 0);\n}\n\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 2420,
        "wires": []
    },
    {
        "id": "b16efdd69c667cf1",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. Analitzador 2",
        "property": "analitzador2.comunicacio",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 860,
        "wires": [
            [
                "34a826f4c2750b19"
            ]
        ]
    },
    {
        "id": "2d0aed29f5a0c4b7",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "analitzador2.comunicacio",
        "payloadType": "global",
        "x": 240,
        "y": 2460,
        "wires": [
            [
                "6d0b4017e5a743c4"
            ]
        ]
    },
    {
        "id": "6d0b4017e5a743c4",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Comunicació Analitzador 2",
        "func": "// Definim les variables del sensor i el concepte\nconst concepte = 'comunicacioanalitzador2';\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\nif (valor == 0) {\n    saveGlobalState(1, valor, '28');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 1);\n} else {\n\n    saveGlobalState(0, valor, '29');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 0);\n}\n\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 2460,
        "wires": []
    },
    {
        "id": "7501d6b258aa2b3c",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 900,
        "y": 2180,
        "wires": [
            [
                "fed56a76268a8206"
            ]
        ]
    },
    {
        "id": "070c8e1b67ac437c",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "analitzador1.clor",
        "payloadType": "global",
        "x": 210,
        "y": 2180,
        "wires": [
            [
                "652f774103cd5cbb"
            ]
        ]
    },
    {
        "id": "fed56a76268a8206",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Clor 1",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'analitzador1';\nconst concepte = 'cloranalitzador1';\n\n// Consignes\nconst limitHigh = global.get(`${sensor}.consigna.clor.maxim`); // Límit alt\nconst limitLow = global.get(`${sensor}.consigna.clor.minim`); // Límit baix\nconst servei = global.get(`${sensor}.consigna.servei`); // \n\n\n// Dades d'entrada\nconst valor = msg.payload;\n\n// Variables internes\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\n// Variables globals per mantenir l'estat de les alarmes\nlet alarmaLH = global.get(`alarmes.${concepte}.fuxa.alt`) || 0;\nlet alarmaLL = global.get(`alarmes.${concepte}.fuxa.baix`) || 0;\n\n// Tractament\nif (valor >= limitHigh && servei == 1) {\n    if (!alarmaLH) {\n        saveGlobalState(1, valor, '1');\n        global.set(`alarmes.${concepte}.fuxa.alt`, 1);\n        alarmaLH = 1;\n    }\n} else if (valor <= limitLow && servei == 1) {\n    if (!alarmaLL) {\n        saveGlobalState(1, valor, '3');\n        global.set(`alarmes.${concepte}.fuxa.baix`, 1);\n        alarmaLL = 1;\n    }\n} else if ((alarmaLH && (valor < limitHigh)) || (servei != 1)) {\n    saveGlobalState(0, valor, '2');\n    global.set(`alarmes.${concepte}.fuxa.alt`, 0);\n    alarmaLH = 0;\n} else if ((alarmaLL && (valor > limitLow)) || (servei != 1)) {\n    saveGlobalState(0, valor, '4');\n    global.set(`alarmes.${concepte}.fuxa.baix`, 0);\n    alarmaLL = 0;\n}",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 2180,
        "wires": []
    },
    {
        "id": "1d1558c8b1381f5f",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 900,
        "y": 2220,
        "wires": [
            [
                "4306902cb9eff109"
            ]
        ]
    },
    {
        "id": "372543d9489c83c3",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "analitzador2.clor",
        "payloadType": "global",
        "x": 210,
        "y": 2220,
        "wires": [
            [
                "0e629436207fa0df"
            ]
        ]
    },
    {
        "id": "4306902cb9eff109",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Clor 2",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'analitzador2';\nconst concepte = 'cloranalitzador2';\n\n// Consignes\nconst limitHigh = global.get(`${sensor}.consigna.clor.maxim`); // Límit alt\nconst limitLow = global.get(`${sensor}.consigna.clor.minim`); // Límit baix\nconst servei = global.get(`${sensor}.consigna.servei`); // \n\n\n// Dades d'entrada\nconst valor = msg.payload;\n\n// Variables internes\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\n// Variables globals per mantenir l'estat de les alarmes\nlet alarmaLH = global.get(`alarmes.${concepte}.fuxa.alt`) || 0;\nlet alarmaLL = global.get(`alarmes.${concepte}.fuxa.baix`) || 0;\n\n// Tractament\nif (valor >= limitHigh && servei == 1) {\n    if (!alarmaLH) {\n        saveGlobalState(1, valor, '1');\n        global.set(`alarmes.${concepte}.fuxa.alt`, 1);\n        alarmaLH = 1;\n    }\n} else if (valor <= limitLow && servei == 1) {\n    if (!alarmaLL) {\n        saveGlobalState(1, valor, '3');\n        global.set(`alarmes.${concepte}.fuxa.baix`, 1);\n        alarmaLL = 1;\n    }\n} else if ((alarmaLH && (valor < limitHigh)) || (servei != 1)) {\n    saveGlobalState(0, valor, '2');\n    global.set(`alarmes.${concepte}.fuxa.alt`, 0);\n    alarmaLH = 0;\n} else if ((alarmaLL && (valor > limitLow)) || (servei != 1)) {\n    saveGlobalState(0, valor, '4');\n    global.set(`alarmes.${concepte}.fuxa.baix`, 0);\n    alarmaLL = 0;\n}",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 2220,
        "wires": []
    },
    {
        "id": "085f982d0b0927f0",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 900,
        "y": 2260,
        "wires": [
            [
                "6e71b8e4146ca54c"
            ]
        ]
    },
    {
        "id": "c901c12f1d5e4637",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "analitzador2.ph",
        "payloadType": "global",
        "x": 210,
        "y": 2260,
        "wires": [
            [
                "f2a472c55d451cfb"
            ]
        ]
    },
    {
        "id": "6e71b8e4146ca54c",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Ph 2",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'analitzador2';\nconst concepte = 'phanalitzador2';\n\n// Consignes\nconst limitHigh = global.get(`${sensor}.consigna.ph.maxim`); // Límit alt\nconst limitLow = global.get(`${sensor}.consigna.ph.minim`); // Límit baix\nconst servei = global.get(`${sensor}.consigna.servei`); // \n\n\n// Dades d'entrada\nconst valor = msg.payload;\n\n// Variables internes\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\n// Variables globals per mantenir l'estat de les alarmes\nlet alarmaLH = global.get(`alarmes.${concepte}.fuxa.alt`) || 0;\nlet alarmaLL = global.get(`alarmes.${concepte}.fuxa.baix`) || 0;\n\n// Tractament\nif (valor >= limitHigh && servei == 1) {\n    if (!alarmaLH) {\n        saveGlobalState(1, valor, '1');\n        global.set(`alarmes.${concepte}.fuxa.alt`, 1);\n        alarmaLH = 1;\n    }\n} else if (valor <= limitLow && servei == 1) {\n    if (!alarmaLL) {\n        saveGlobalState(1, valor, '3');\n        global.set(`alarmes.${concepte}.fuxa.baix`, 1);\n        alarmaLL = 1;\n    }\n} else if ((alarmaLH && (valor < limitHigh)) || (servei != 1)) {\n    saveGlobalState(0, valor, '2');\n    global.set(`alarmes.${concepte}.fuxa.alt`, 0);\n    alarmaLH = 0;\n} else if ((alarmaLL && (valor > limitLow)) || (servei != 1)) {\n    saveGlobalState(0, valor, '4');\n    global.set(`alarmes.${concepte}.fuxa.baix`, 0);\n    alarmaLL = 0;\n}",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 2260,
        "wires": []
    },
    {
        "id": "1c82ecf3b131c571",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "marxa br1",
        "property": "br1.marxa",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 600,
        "y": 2180,
        "wires": [
            [
                "bf18c31f8fce413a"
            ]
        ]
    },
    {
        "id": "9be7936c69b427f6",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "marxa br2",
        "property": "br2.marxa",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 600,
        "y": 2220,
        "wires": [
            [
                "1d1558c8b1381f5f"
            ]
        ]
    },
    {
        "id": "1347855876902ae2",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "marxa br2",
        "property": "br2.marxa",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 600,
        "y": 2260,
        "wires": [
            [
                "085f982d0b0927f0"
            ]
        ]
    },
    {
        "id": "1b9e5ef78ee9c31f",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 1720,
        "wires": [
            [
                "4fad51b3fdb62181"
            ]
        ]
    },
    {
        "id": "38b004df253637be",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "cabal5.inst",
        "payloadType": "global",
        "x": 190,
        "y": 1720,
        "wires": [
            [
                "bf71fe33d24efa3d"
            ]
        ]
    },
    {
        "id": "aa31838213f0c6c3",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. UMF 1",
        "property": "plc.tarja1",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1580,
        "wires": [
            [
                "fd71c2c05eb41e1f"
            ]
        ]
    },
    {
        "id": "fd71c2c05eb41e1f",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 1580,
        "wires": [
            [
                "750eebf9b5c5eeba"
            ]
        ]
    },
    {
        "id": "8e27b8e8a9922216",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "analitzador1.ea",
        "payloadType": "global",
        "x": 210,
        "y": 1580,
        "wires": [
            [
                "aa31838213f0c6c3"
            ]
        ]
    },
    {
        "id": "750eebf9b5c5eeba",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Analitzador 1 Clor EA",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'analitzador1';\nconst concepte = 'clor1ea';\n\n// Consignes\nconst limitHigh = 27648; // 20mA\nconst limitLow = 9;   // 4mA\nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Estat de l'alarma (guardarà l'estat)\nconst alarmaEstat = global.get(`alarmes.${concepte}.estat`) || 0;\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nif ((valor > limitHigh || valor < limitLow) && servei == 1) {\n    // Si el valor és superior o inferior als límits i l'alarma no està activa\n    if (!alarmaEstat) {\n        saveGlobalState(1, valor, '11');\n        global.set(`alarmes.${concepte}.fuxa.ea`,1);\n    }\n} else {\n    // Si el valor torna a la normalitat i l'alarma està activa\n    if (alarmaEstat || servei != 1) {\n        saveGlobalState(0, valor, '12');\n        global.set(`alarmes.${concepte}.fuxa.ea`,0);\n    }\n}",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 1580,
        "wires": []
    },
    {
        "id": "0360a759ce631c99",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. UMF 1",
        "property": "plc.tarja1",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1620,
        "wires": [
            [
                "6fa23a3945dfdfcf"
            ]
        ]
    },
    {
        "id": "6fa23a3945dfdfcf",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 1620,
        "wires": [
            [
                "7ee3c9cf2837a040"
            ]
        ]
    },
    {
        "id": "0a7a733cdc4a760c",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "analitzador3.ea",
        "payloadType": "global",
        "x": 210,
        "y": 1620,
        "wires": [
            [
                "0360a759ce631c99"
            ]
        ]
    },
    {
        "id": "7ee3c9cf2837a040",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Analitzador 3 Terbolesa EA",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'analitzador3';\nconst concepte = 'terbolesa1ea';\n\n// Consignes\nconst limitHigh = 27648; // 20mA\nconst limitLow = 9;   // 4mA\nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Estat de l'alarma (guardarà l'estat)\nconst alarmaEstat = global.get(`alarmes.${concepte}.estat`) || 0;\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nif ((valor > limitHigh || valor < limitLow) && servei == 1) {\n    // Si el valor és superior o inferior als límits i l'alarma no està activa\n    if (!alarmaEstat) {\n        saveGlobalState(1, valor, '11');\n        global.set(`alarmes.${concepte}.fuxa.ea`,1);\n    }\n} else {\n    // Si el valor torna a la normalitat i l'alarma està activa\n    if (alarmaEstat || servei != 1) {\n        saveGlobalState(0, valor, '12');\n        global.set(`alarmes.${concepte}.fuxa.ea`,0);\n    }\n}",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 1620,
        "wires": []
    },
    {
        "id": "f8f430c3ece80307",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. UMF 1",
        "property": "plc.tarja1",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1540,
        "wires": [
            [
                "f6762bfa014efd01"
            ]
        ]
    },
    {
        "id": "f6762bfa014efd01",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 1540,
        "wires": [
            [
                "6901f9602577b2f8"
            ]
        ]
    },
    {
        "id": "9ca129f07df545d7",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "analitzador3.terb",
        "payloadType": "global",
        "x": 210,
        "y": 1540,
        "wires": [
            [
                "f8f430c3ece80307"
            ]
        ]
    },
    {
        "id": "6901f9602577b2f8",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Analitzador 3 Terbolesa",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'analitzador3';\nconst concepte = 'terbolesa1';\n\n// Consignes\nconst limitHigh = global.get(`${sensor}.consigna.terb.maxim`); // Límit alt\nconst limitLow = global.get(`${sensor}.consigna.terb.minim`); // Límit baix\nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nconst alarmaLH = global.get(`alarmes.${concepte}.fuxa.alt`) || 0;\nconst alarmaLL = global.get(`alarmes.${concepte}.fuxa.baix`) || 0;\n\nif (valor >= limitHigh && servei == 1)  {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    if (!alarmaLH) {\n        saveGlobalState(1, valor, '1');\n        global.set(`alarmes.${concepte}.fuxa.alt`,1);\n    }\n} else if (valor <= limitLow && servei == 1) {\n    // Si el valor és inferior al límit baix i l'alarma no està activa\n    if (!alarmaLL) {\n        saveGlobalState(1, valor, '3');\n        global.set(`alarmes.${concepte}.fuxa.baix`,1);\n    }\n} else if (alarmaLH && (valor < limitHigh||servei != 1)){\n        saveGlobalState(0, valor, '2');\n        global.set(`alarmes.${concepte}.fuxa.alt`,0);\n} else if (alarmaLL && (valor > limitLow||servei != 1)){\n        saveGlobalState(0, valor, '4');\n        global.set(`alarmes.${concepte}.fuxa.baix`,0);\n}\n\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 1540,
        "wires": []
    },
    {
        "id": "4589775655090696",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 1680,
        "wires": [
            [
                "f9d3eb0354294278"
            ]
        ]
    },
    {
        "id": "3606a106fe333dfd",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "cabal3.inst",
        "payloadType": "global",
        "x": 190,
        "y": 1680,
        "wires": [
            [
                "e75dbf45e866c32b"
            ]
        ]
    },
    {
        "id": "e75dbf45e866c32b",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. UMF 2",
        "property": "plc.tarja2",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1680,
        "wires": [
            [
                "4589775655090696"
            ]
        ]
    },
    {
        "id": "bf71fe33d24efa3d",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. UMF 2",
        "property": "plc.tarja2",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1720,
        "wires": [
            [
                "1b9e5ef78ee9c31f"
            ]
        ]
    },
    {
        "id": "f9d3eb0354294278",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Cabal 3",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'cabal3';\nconst concepte = 'cabal3';\n\n// Consignes\nconst limitHigh = global.get(`${sensor}.consigna.maxim`, 'file'); // Límit alt\nconst limitLow = global.get(`${sensor}.consigna.minim`, 'file'); // Límit baix\nconst servei = global.get(`${sensor}.consigna.servei`, 'file');  \n \n\n\n// Dades d'entrada\nconst valor = msg.payload;\n\n// Variables internes\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\n// Variables globals per mantenir l'estat de les alarmes\nlet alarmaLH = global.get(`alarmes.${concepte}.fuxa.alt`) || 0;\nlet alarmaLL = global.get(`alarmes.${concepte}.fuxa.baix`) || 0;\n\n// Tractament\nif (valor >= limitHigh && servei == 1) {\n    if (!alarmaLH) {\n        saveGlobalState(1, valor, '1');\n        global.set(`alarmes.${concepte}.fuxa.alt`, 1);\n        alarmaLH = 1;\n    }\n} else if ((alarmaLH && (valor < limitHigh)) || (servei != 1)) {\n    saveGlobalState(0, valor, '2');\n    global.set(`alarmes.${concepte}.fuxa.alt`, 0);\n    alarmaLH = 0;\n    }\n    ",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 1680,
        "wires": []
    },
    {
        "id": "4fad51b3fdb62181",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Cabal 5",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'cabal5';\nconst concepte = 'cabal5';\n\n// Consignes\nconst limitHigh = global.get(`${sensor}.consigna.maxim`, 'file'); // Límit alt\nconst limitLow = global.get(`${sensor}.consigna.minim`, 'file'); // Límit baix\nconst servei = global.get(`${sensor}.consigna.servei`, 'file');  \n \n\n\n// Dades d'entrada\nconst valor = msg.payload;\n\n// Variables internes\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\n// Variables globals per mantenir l'estat de les alarmes\nlet alarmaLH = global.get(`alarmes.${concepte}.fuxa.alt`) || 0;\nlet alarmaLL = global.get(`alarmes.${concepte}.fuxa.baix`) || 0;\n\n// Tractament\nif (valor >= limitHigh && servei == 1) {\n    if (!alarmaLH) {\n        saveGlobalState(1, valor, '1');\n        global.set(`alarmes.${concepte}.fuxa.alt`, 1);\n        alarmaLH = 1;\n    }\n} else if ((alarmaLH && (valor < limitHigh)) || (servei != 1)) {\n    saveGlobalState(0, valor, '2');\n    global.set(`alarmes.${concepte}.fuxa.alt`, 0);\n    alarmaLH = 0;\n    }\n    ",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 1720,
        "wires": []
    },
    {
        "id": "13b768e906826115",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "cabal7.inst",
        "payloadType": "global",
        "x": 190,
        "y": 1940,
        "wires": [
            [
                "21875cd12c674713"
            ]
        ]
    },
    {
        "id": "c6583d31e68c1618",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "cabal6.inst",
        "payloadType": "global",
        "x": 190,
        "y": 1900,
        "wires": [
            [
                "4fdd31e79daf8ec9"
            ]
        ]
    },
    {
        "id": "4fdd31e79daf8ec9",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. UMF 3",
        "property": "plc.tarja3",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1900,
        "wires": [
            [
                "59e5572e1580a8e8"
            ]
        ]
    },
    {
        "id": "21875cd12c674713",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. UMF 3",
        "property": "plc.tarja3",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1940,
        "wires": [
            [
                "a76c7dc43ba9ce09"
            ]
        ]
    },
    {
        "id": "95afc6fd03638ff6",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Cabal 6",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'cabal6';\nconst concepte = 'cabal6';\n\n// Consignes\nconst limitHigh = global.get(`${sensor}.consigna.maxim`, 'file'); // Límit alt\nconst limitLow = global.get(`${sensor}.consigna.minim`, 'file'); // Límit baix\nconst servei = global.get(`${sensor}.consigna.servei`, 'file');  \n \n\n\n// Dades d'entrada\nconst valor = msg.payload;\n\n// Variables internes\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\n// Variables globals per mantenir l'estat de les alarmes\nlet alarmaLH = global.get(`alarmes.${concepte}.fuxa.alt`) || 0;\nlet alarmaLL = global.get(`alarmes.${concepte}.fuxa.baix`) || 0;\n\n// Tractament\nif (valor >= limitHigh && servei == 1) {\n    if (!alarmaLH) {\n        saveGlobalState(1, valor, '1');\n        global.set(`alarmes.${concepte}.fuxa.alt`, 1);\n        alarmaLH = 1;\n    }\n} else if ((alarmaLH && (valor < limitHigh)) || (servei != 1)) {\n    saveGlobalState(0, valor, '2');\n    global.set(`alarmes.${concepte}.fuxa.alt`, 0);\n    alarmaLH = 0;\n    }\n    ",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 1900,
        "wires": []
    },
    {
        "id": "8151a345a28b32e7",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Cabal 7",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'cabal7';\nconst concepte = 'cabal7';\n\n// Consignes\nconst limitHigh = global.get(`${sensor}.consigna.maxim`, 'file'); // Límit alt\nconst limitLow = global.get(`${sensor}.consigna.minim`, 'file'); // Límit baix\nconst servei = global.get(`${sensor}.consigna.servei`, 'file');  \n \n\n\n// Dades d'entrada\nconst valor = msg.payload;\n\n// Variables internes\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\n// Variables globals per mantenir l'estat de les alarmes\nlet alarmaLH = global.get(`alarmes.${concepte}.fuxa.alt`) || 0;\nlet alarmaLL = global.get(`alarmes.${concepte}.fuxa.baix`) || 0;\n\n// Tractament\nif (valor >= limitHigh && servei == 1) {\n    if (!alarmaLH) {\n        saveGlobalState(1, valor, '1');\n        global.set(`alarmes.${concepte}.fuxa.alt`, 1);\n        alarmaLH = 1;\n    }\n} else if ((alarmaLH && (valor < limitHigh)) || (servei != 1)) {\n    saveGlobalState(0, valor, '2');\n    global.set(`alarmes.${concepte}.fuxa.alt`, 0);\n    alarmaLH = 0;\n    }\n    ",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 1940,
        "wires": []
    },
    {
        "id": "a76c7dc43ba9ce09",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 1940,
        "wires": [
            [
                "8151a345a28b32e7"
            ]
        ]
    },
    {
        "id": "59e5572e1580a8e8",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 1900,
        "wires": [
            [
                "95afc6fd03638ff6"
            ]
        ]
    },
    {
        "id": "5b92396e73b2409c",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 1800,
        "wires": [
            [
                "b12d1e872dcfe000"
            ]
        ]
    },
    {
        "id": "396c5545aeef730d",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "cabal5.ea",
        "payloadType": "global",
        "x": 190,
        "y": 1800,
        "wires": [
            [
                "fbf29ed380d3d356"
            ]
        ]
    },
    {
        "id": "61334d7bc495e69b",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 1760,
        "wires": [
            [
                "8a618c49f760115f"
            ]
        ]
    },
    {
        "id": "6a969910f20bb0e1",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "cabal3.ea",
        "payloadType": "global",
        "x": 190,
        "y": 1760,
        "wires": [
            [
                "63741b86de34532a"
            ]
        ]
    },
    {
        "id": "63741b86de34532a",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. UMF 2",
        "property": "plc.tarja2",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1760,
        "wires": [
            [
                "61334d7bc495e69b"
            ]
        ]
    },
    {
        "id": "fbf29ed380d3d356",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. UMF 2",
        "property": "plc.tarja2",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1800,
        "wires": [
            [
                "5b92396e73b2409c"
            ]
        ]
    },
    {
        "id": "8a618c49f760115f",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Cabal 3 EA",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'cabal3';\nconst concepte = 'cabal3ea';\n\n// Consignes\nconst limitHigh = 27648; // 20mA\nconst limitLow = 9;   // 4mA\nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Estat de l'alarma (guardarà l'estat)\nconst alarmaEstat = global.get(`alarmes.${concepte}.estat`) || 0;\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nif ((valor > limitHigh || valor < limitLow) && servei == 1) {\n    // Si el valor és superior o inferior als límits i l'alarma no està activa\n    if (!alarmaEstat) {\n        saveGlobalState(1, valor, '11');\n        global.set(`alarmes.${concepte}.fuxa.ea`,1);\n    }\n} else {\n    // Si el valor torna a la normalitat i l'alarma està activa\n    if (alarmaEstat || servei != 1) {\n        saveGlobalState(0, valor, '12');\n        global.set(`alarmes.${concepte}.fuxa.ea`,0);\n    }\n}",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 1760,
        "wires": []
    },
    {
        "id": "b12d1e872dcfe000",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Cabal 5 EA",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'cabal5';\nconst concepte = 'cabal5';\n\n// Consignes\nconst limitHigh = 27648; // 20mA\nconst limitLow = 9;   // 4mA\nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Estat de l'alarma (guardarà l'estat)\nconst alarmaEstat = global.get(`alarmes.${concepte}.estat`) || 0;\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nif ((valor > limitHigh || valor < limitLow) && servei == 1) {\n    // Si el valor és superior o inferior als límits i l'alarma no està activa\n    if (!alarmaEstat) {\n        saveGlobalState(1, valor, '11');\n        global.set(`alarmes.${concepte}.fuxa.ea`,1);\n    }\n} else {\n    // Si el valor torna a la normalitat i l'alarma està activa\n    if (alarmaEstat || servei != 1) {\n        saveGlobalState(0, valor, '12');\n        global.set(`alarmes.${concepte}.fuxa.ea`,0);\n    }\n}",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 1800,
        "wires": []
    },
    {
        "id": "4368cd8c19b54655",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "cabal7.ea",
        "payloadType": "global",
        "x": 190,
        "y": 2020,
        "wires": [
            [
                "7b0544130a3b726a"
            ]
        ]
    },
    {
        "id": "a1e73493b670f8e2",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "cabal6.ea",
        "payloadType": "global",
        "x": 190,
        "y": 1980,
        "wires": [
            [
                "4b7594a1052d81fb"
            ]
        ]
    },
    {
        "id": "4b7594a1052d81fb",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. UMF 3",
        "property": "plc.tarja3",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1980,
        "wires": [
            [
                "4d0307f17de9f79d"
            ]
        ]
    },
    {
        "id": "7b0544130a3b726a",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. UMF 3",
        "property": "plc.tarja3",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 2020,
        "wires": [
            [
                "04d18f5e61b343a3"
            ]
        ]
    },
    {
        "id": "710556f6e0097261",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Cabal 6 EA",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'cabal6';\nconst concepte = 'cabal6ea';\n\n// Consignes\nconst limitHigh = 27648; // 20mA\nconst limitLow = 9;   // 4mA\nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Estat de l'alarma (guardarà l'estat)\nconst alarmaEstat = global.get(`alarmes.${concepte}.estat`) || 0;\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nif ((valor > limitHigh || valor < limitLow) && servei == 1) {\n    // Si el valor és superior o inferior als límits i l'alarma no està activa\n    if (!alarmaEstat) {\n        saveGlobalState(1, valor, '11');\n        global.set(`alarmes.${concepte}.fuxa.ea`, 1);\n    }\n} else {\n    // Si el valor torna a la normalitat i l'alarma està activa\n    if (alarmaEstat || servei != 1) {\n        saveGlobalState(0, valor, '12');\n        global.set(`alarmes.${concepte}.fuxa.ea`, 0);\n    }\n}",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 1980,
        "wires": []
    },
    {
        "id": "ef2316da6b270b71",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Cabal 7 EA",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'cabal7';\nconst concepte = 'cabal7ea';\n\n// Consignes\nconst limitHigh = 27648; // 20mA\nconst limitLow = 9;   // 4mA\nconst servei = global.get(`${sensor}.consigna.servei`); // 0=Fora de rang, 1=Operatiu, 2= Anul·lat\n\n// Estat de l'alarma (guardarà l'estat)\nconst alarmaEstat = global.get(`alarmes.${concepte}.estat`) || 0;\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\nif ((valor > limitHigh || valor < limitLow) && servei == 1) {\n    // Si el valor és superior o inferior als límits i l'alarma no està activa\n    if (!alarmaEstat) {\n        saveGlobalState(1, valor, '11');\n        global.set(`alarmes.${concepte}.fuxa.ea`,1);\n    }\n} else {\n    // Si el valor torna a la normalitat i l'alarma està activa\n    if (alarmaEstat || servei != 1) {\n        saveGlobalState(0, valor, '12');\n        global.set(`alarmes.${concepte}.fuxa.ea`,0);\n    }\n}",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 2020,
        "wires": []
    },
    {
        "id": "04d18f5e61b343a3",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 2020,
        "wires": [
            [
                "ef2316da6b270b71"
            ]
        ]
    },
    {
        "id": "4d0307f17de9f79d",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 1980,
        "wires": [
            [
                "710556f6e0097261"
            ]
        ]
    },
    {
        "id": "752299edd23e2ece",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "cabal2.inst",
        "payloadType": "global",
        "x": 190,
        "y": 1860,
        "wires": [
            [
                "9409b6741df8a591"
            ]
        ]
    },
    {
        "id": "9409b6741df8a591",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. UMF 3",
        "property": "plc.tarja3",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 1860,
        "wires": [
            [
                "a5c90b9390d7c3f3"
            ]
        ]
    },
    {
        "id": "2dcf6610d54f92a3",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Cabal 2",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'cabal2';\nconst concepte = 'cabal2';\n\n// Consignes\nconst limitHigh = global.get(`${sensor}.consigna.maxim`, 'file'); // Límit alt\nconst limitLow = global.get(`${sensor}.consigna.minim`, 'file'); // Límit baix\nconst servei = global.get(`${sensor}.consigna.servei`, 'file');  \n \n\n\n// Dades d'entrada\nconst valor = msg.payload;\n\n// Variables internes\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\n\n// Variables globals per mantenir l'estat de les alarmes\nlet alarmaLH = global.get(`alarmes.${concepte}.fuxa.alt`) || 0;\nlet alarmaLL = global.get(`alarmes.${concepte}.fuxa.baix`) || 0;\n\n// Tractament\nif (valor >= limitHigh && servei == 1) {\n    if (!alarmaLH) {\n        saveGlobalState(1, valor, '1');\n        global.set(`alarmes.${concepte}.fuxa.alt`, 1);\n        alarmaLH = 1;\n    }\n} else if ((alarmaLH && (valor < limitHigh)) || (servei != 1)) {\n    saveGlobalState(0, valor, '2');\n    global.set(`alarmes.${concepte}.fuxa.alt`, 0);\n    alarmaLH = 0;\n    }\n    ",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 1860,
        "wires": []
    },
    {
        "id": "a5c90b9390d7c3f3",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 1860,
        "wires": [
            [
                "2dcf6610d54f92a3"
            ]
        ]
    },
    {
        "id": "652f774103cd5cbb",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. Analitzador 2",
        "property": "analitzador2.comunicacio",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 430,
        "y": 2180,
        "wires": [
            [
                "1c82ecf3b131c571"
            ]
        ]
    },
    {
        "id": "0e629436207fa0df",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. Analitzador 2",
        "property": "analitzador2.comunicacio",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 430,
        "y": 2220,
        "wires": [
            [
                "9be7936c69b427f6"
            ]
        ]
    },
    {
        "id": "f2a472c55d451cfb",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. Analitzador 2",
        "property": "analitzador2.comunicacio",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 430,
        "y": 2260,
        "wires": [
            [
                "1347855876902ae2"
            ]
        ]
    },
    {
        "id": "c48d6c948bb425e4",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "intrusio.alarma",
        "payloadType": "global",
        "x": 200,
        "y": 680,
        "wires": [
            [
                "5cdf51f810195ecc"
            ]
        ]
    },
    {
        "id": "abaf0d4e90b4d2a7",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "intrusio.fcporta1",
        "payloadType": "global",
        "x": 210,
        "y": 720,
        "wires": [
            [
                "83418fffc9073379"
            ]
        ]
    },
    {
        "id": "5cdf51f810195ecc",
        "type": "rbe",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 750,
        "y": 680,
        "wires": [
            [
                "0414160e175fa462"
            ]
        ]
    },
    {
        "id": "83418fffc9073379",
        "type": "rbe",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 750,
        "y": 720,
        "wires": [
            [
                "3df26833bbd65a92"
            ]
        ]
    },
    {
        "id": "9d63760523ccf54c",
        "type": "comment",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "Previ a 27/01/2025 ",
        "info": "",
        "x": 190,
        "y": 240,
        "wires": []
    },
    {
        "id": "b6eae5b9a9e6349b",
        "type": "comment",
        "z": "d18f2ebb0dd49b18",
        "g": "93e274aebef92385",
        "name": "Previ a 27/01/2025 ",
        "info": "",
        "x": 990,
        "y": 60,
        "wires": []
    },
    {
        "id": "b12b14314a74abc2",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "reset.consigna",
        "payloadType": "global",
        "x": 840,
        "y": 380,
        "wires": [
            [
                "c12f4135c27a4fe7"
            ]
        ]
    },
    {
        "id": "c12f4135c27a4fe7",
        "type": "change",
        "z": "d18f2ebb0dd49b18",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset.consigna",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1110,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "067a4d719e99ae70",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "reset.consigna",
        "payloadType": "global",
        "x": 840,
        "y": 420,
        "wires": [
            [
                "485ba5efaed9d66e"
            ]
        ]
    },
    {
        "id": "485ba5efaed9d66e",
        "type": "change",
        "z": "d18f2ebb0dd49b18",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset.consigna",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1110,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "33c20d0b6413a737",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "plc4.comunic",
        "payloadType": "global",
        "x": 200,
        "y": 2500,
        "wires": [
            [
                "e025a0b23ab4bbe0"
            ]
        ]
    },
    {
        "id": "e025a0b23ab4bbe0",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Comunicació PLC 4 Gronxadors",
        "func": "// Definim les variables del sensor i el concepte\nconst concepte = 'comunicacioplc4';\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\nif (valor == 0) {\n    saveGlobalState(1, valor, '28');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 1);\n} else {\n\n    saveGlobalState(0, valor, '29');\n    global.set(`alarmes.${concepte}.fuxa.avaria`, 0);\n}\n\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 2500,
        "wires": []
    },
    {
        "id": "50497a4fed4459c7",
        "type": "comment",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Post 27/01/2025 ",
        "info": "",
        "x": 340,
        "y": 560,
        "wires": []
    },
    {
        "id": "3df26833bbd65a92",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Intrusió Info",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'intrusio';\nconst concepte = 'infointrusio';\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\nif (valor==0)  {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    saveGlobalState(1, valor, '36');\n    global.set(`alarmes.${concepte}.fuxa.avaria`,1);\n} else {\n    global.set(`alarmes.${concepte}.fuxa.avaria`,0);\n}\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 720,
        "wires": []
    },
    {
        "id": "0414160e175fa462",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Intrusió Alarma",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'intrusio';\nconst concepte = 'alarmaintrusio';\n\n// Dades d'entrada\nconst valor = msg.payload;\n\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.${concepte}.estat`, alarmActive);\n    global.set(`alarmes.${concepte}.lectura`, valor);\n    global.set(`alarmes.${concepte}.missatge`, message);\n}\nif (valor==1)  {\n    // Si el valor és superior al límit alt i l'alarma no està activa\n    saveGlobalState(1, valor, '34');\n    global.set(`alarmes.${concepte}.fuxa.avaria`,1);\n} else {\n\n    saveGlobalState(0, valor, '35');\n    global.set(`alarmes.${concepte}.fuxa.avaria`,0);\n}\n",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 680,
        "wires": []
    },
    {
        "id": "bf18c31f8fce413a",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. UMF 1",
        "property": "plc.tarja1",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 750,
        "y": 2180,
        "wires": [
            [
                "7501d6b258aa2b3c"
            ]
        ]
    },
    {
        "id": "becfabc507d2b2e0",
        "type": "comment",
        "z": "d18f2ebb0dd49b18",
        "g": "33361096e981ad94",
        "name": "No la controlem ",
        "info": "",
        "x": 180,
        "y": 300,
        "wires": []
    },
    {
        "id": "449978af8f6b75ce",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 2080,
        "wires": [
            [
                "2bef59883fb231a0"
            ]
        ]
    },
    {
        "id": "2bcdb5b0dda62826",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "cabal2.inst",
        "payloadType": "global",
        "x": 190,
        "y": 2080,
        "wires": [
            [
                "8bbefec9d90b74b7"
            ]
        ]
    },
    {
        "id": "2bef59883fb231a0",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "Cabalímetre 2 Pas Aigua  ",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'cabal2';\nconst concepte = 'cabalimetre2pasaigua';\n\n\n    // Consignes\n    const servei = global.get(`${sensor}.consigna.servei`) || 0; // Valor per defecte si és null/undefined\n    const noesperat = global.get(`${sensor}.calculada.pasaiguanoesperat`) || 0; // Valor per defecte si és null/undefined\n    const absencia = global.get(`${sensor}.calculada.absenciapasaigua`) || 0; // Valor per defecte si és null/undefined\n\n    // Dades d'entrada\n    const valor = msg.payload;\n\n    function saveGlobalState(alarmActive, valor, message) {\n        global.set(`alarmes.${concepte}.estat`, alarmActive);\n        global.set(`alarmes.${concepte}.lectura`, valor);\n        global.set(`alarmes.${concepte}.missatge`, message);\n    }\n\n    if (noesperat === 1 && servei === 1) {\n        saveGlobalState(1, valor, '37');\n        global.set(`alarmes.${concepte}.fuxa.noesperat`, 1);\n    } else if (noesperat === 0 || servei === 0) {\n        saveGlobalState(0, valor, '38');\n        global.set(`alarmes.${concepte}.fuxa.noesperat`, 0);\n    }\n\n    // Retard de 10 segons abans de continuar\n    setTimeout(() => {\n        if (absencia === 1 && servei === 1) {\n            saveGlobalState(1, valor, '39');\n            global.set(`alarmes.${concepte}.fuxa.absencia`, 1);\n        } else if (absencia === 0 || servei === 0) {\n            saveGlobalState(0, valor, '40');\n            global.set(`alarmes.${concepte}.fuxa.absencia`, 0);\n        }\n    }, 10000); // 10000 mil·lisegons = 10 segons\n\n\nreturn msg;",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 2080,
        "wires": []
    },
    {
        "id": "53bac92dcd594168",
        "type": "smooth",
        "z": "d18f2ebb0dd49b18",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "15",
        "round": "2",
        "mult": "single",
        "reduce": false,
        "x": 760,
        "y": 2120,
        "wires": [
            [
                "faa0bc1965ef6a87"
            ]
        ]
    },
    {
        "id": "dfec9e426f7362ec",
        "type": "inject",
        "z": "d18f2ebb0dd49b18",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "cabal3.inst",
        "payloadType": "global",
        "x": 190,
        "y": 2120,
        "wires": [
            [
                "bc835768be44f438"
            ]
        ]
    },
    {
        "id": "faa0bc1965ef6a87",
        "type": "function",
        "z": "d18f2ebb0dd49b18",
        "name": "Cabalímetre 3 Pas Aigua  ",
        "func": "// Definim les variables del sensor i el concepte\nconst sensor = 'cabal3';\nconst concepte = 'cabalimetre3pasaigua';\n\n\n    // Consignes\n    const servei = global.get(`${sensor}.consigna.servei`) || 0; // Valor per defecte si és null/undefined\n    const noesperat = global.get(`${sensor}.calculada.pasaiguanoesperat`) || 0; // Valor per defecte si és null/undefined\n    const absencia = global.get(`${sensor}.calculada.absenciapasaigua`) || 0; // Valor per defecte si és null/undefined\n\n    // Dades d'entrada\n    const valor = msg.payload;\n\n    function saveGlobalState(alarmActive, valor, message) {\n        global.set(`alarmes.${concepte}.estat`, alarmActive);\n        global.set(`alarmes.${concepte}.lectura`, valor);\n        global.set(`alarmes.${concepte}.missatge`, message);\n    }\n\n    if (noesperat === 1 && servei === 1) {\n        saveGlobalState(1, valor, '37');\n        global.set(`alarmes.${concepte}.fuxa.noesperat`, 1);\n    } else if (noesperat === 0 || servei === 0) {\n        saveGlobalState(0, valor, '38');\n        global.set(`alarmes.${concepte}.fuxa.noesperat`, 0);\n    }\n\n    // Retard de 10 segons abans de continuar\n    setTimeout(() => {\n        if (absencia === 1 && servei === 1) {\n            saveGlobalState(1, valor, '39');\n            global.set(`alarmes.${concepte}.fuxa.absencia`, 1);\n        } else if (absencia === 0 || servei === 0) {\n            saveGlobalState(0, valor, '40');\n            global.set(`alarmes.${concepte}.fuxa.absencia`, 0);\n        }\n    }, 10000); // 10000 mil·lisegons = 10 segons\n\n\nreturn msg;",
        "outputs": 0,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 2120,
        "wires": []
    },
    {
        "id": "8bbefec9d90b74b7",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. UMF 3",
        "property": "plc.tarja3",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 2080,
        "wires": [
            [
                "449978af8f6b75ce"
            ]
        ]
    },
    {
        "id": "bc835768be44f438",
        "type": "switch",
        "z": "d18f2ebb0dd49b18",
        "g": "5b1fd42b76148691",
        "name": "com. UMF 2",
        "property": "plc.tarja2",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 2120,
        "wires": [
            [
                "53bac92dcd594168"
            ]
        ]
    },
    {
        "id": "19387f63c14229ae",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 6420,
        "wires": [
            [
                "d737981c2463da04"
            ]
        ]
    },
    {
        "id": "47e456f7bbd6e9bc",
        "type": "mqtt in",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "",
        "topic": "dades_diaries",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "087c314fc1fb6566",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 140,
        "y": 6460,
        "wires": [
            [
                "5ca8b0088f5cc021"
            ]
        ]
    },
    {
        "id": "5ca8b0088f5cc021",
        "type": "change",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "dades.diaries",
        "rules": [
            {
                "t": "set",
                "p": "dades.diaries",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 6460,
        "wires": [
            [
                "d737981c2463da04"
            ]
        ]
    },
    {
        "id": "af04943cadfda188",
        "type": "debug",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "debug 153",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1120,
        "y": 6440,
        "wires": []
    },
    {
        "id": "d737981c2463da04",
        "type": "function",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "function 51",
        "func": "// Definició de límits en GB\nconst dades_max_diaries = 1; \nconst dades_max_mensuals = 8; \nconst dades_avis_mensuals = 5; \n\n// Dades MQTT DADES MISSATGES\nconst dades_publicades_bytes = global.get(`dades.diaries.dades_diaries.tx`); \nconst dades_rebudes_bytes = global.get(`dades.diaries.dades_diaries.rx`);\nconst dades_publicades_bytes_mes = global.get(`dades.mensuals.dades_mensuals.tx`); \nconst dades_rebudes_bytes_mes = global.get(`dades.mensuals.dades_mensuals.rx`);\n\n// CONVERTIR BYTE A GB\nvar dades_publicades_gb = dades_publicades_bytes / (1024 * 1024 * 1024);\nvar dades_rebudes_gb = dades_rebudes_bytes / (1024 * 1024 * 1024);\nvar dades_publicades_gb_mes = dades_publicades_bytes_mes / (1024 * 1024 * 1024);\nvar dades_rebudes_gb_mes = dades_rebudes_bytes_mes / (1024 * 1024 * 1024);\n\n// Guardar valors en el global\nglobal.set(`dades.diaries.publicades_gb`, dades_publicades_gb);\nglobal.set(`dades.diaries.rebudes_gb`, dades_rebudes_gb);\nglobal.set(`dades.mensuals.publicades_gb_mes`, dades_publicades_gb_mes);\nglobal.set(`dades.mensuals.rebudes_gb_mes`, dades_rebudes_gb_mes);\n\n// Calcular dades totals en GB \nvar dades_diaries_totals = dades_rebudes_gb + dades_publicades_gb;\nvar dades_mensuals_totals = dades_rebudes_gb_mes + dades_publicades_gb_mes;\n\nglobal.set(`dades.diaries.totals`, dades_diaries_totals);\nglobal.set(`dades.mensuals.totals`, dades_mensuals_totals);\n\n// ON GUARDAREM L'ALARMA\nfunction saveGlobalState(alarmActive, valor, message) {\n    global.set(`alarmes.dades.estat`, alarmActive);\n    global.set(`alarmes.dades.lectura`, valor);\n    global.set(`alarmes.dades.missatge`, message);\n}\n\n// Lògica de l'alarma\nif (dades_diaries_totals >= dades_max_diaries) {\n    saveGlobalState(1, dades_diaries_totals, '21');\n} else if (dades_mensuals_totals >= dades_max_mensuals) {\n    // Si el valor és inferior al límit baix i l'alarma no està activa\n    saveGlobalState(1, dades_mensuals_totals, '22');\n} else if (dades_mensuals_totals >= dades_avis_mensuals) {\n    saveGlobalState(1, dades_mensuals_totals, '23');\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 6440,
        "wires": [
            [
                "af04943cadfda188"
            ]
        ]
    },
    {
        "id": "2c3d9b508ef0467d",
        "type": "change",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "dades.mensuals",
        "rules": [
            {
                "t": "set",
                "p": "dades.mensuals",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 6520,
        "wires": [
            [
                "0135665d0e36716c"
            ]
        ]
    },
    {
        "id": "0885de2cf550d6cf",
        "type": "mqtt in",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "",
        "topic": "dades_mensuals",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "087c314fc1fb6566",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 150,
        "y": 6520,
        "wires": [
            [
                "2c3d9b508ef0467d"
            ]
        ]
    },
    {
        "id": "b1bc22d3d5938734",
        "type": "mqtt out",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "Cap a IOT",
        "topic": "",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "ad0b6903ab51bbcb",
        "x": 1140,
        "y": 6600,
        "wires": []
    },
    {
        "id": "13a4ee9b7a6c48ca",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/dadesdiariestotals",
        "payload": "dades.diaries.totals",
        "payloadType": "global",
        "x": 210,
        "y": 6600,
        "wires": [
            [
                "0ca6df7acc5282d7"
            ]
        ]
    },
    {
        "id": "c467fb78c281be0a",
        "type": "function",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "Procesar Mensaje",
        "func": "var valor = msg.payload;\n\n// Obtener el topic del mensaje de entrada\nvar topic = msg.topic;\nvar topicParts = topic.split('/');\nvar plcId = Number(topicParts[2]);  // Convertir a número\nvar tag = topicParts[3];  // Asumiendo que el tag está en la cuarta posición del topic\n\n// Obtener la fecha y hora actual en formato ISO 8601\nvar tiempo = new Date().toISOString();\n\n// Crear el nuevo mensaje con los datos\nvar newMsg = {\n    payload: {\n        valor: valor,\n        temps: tiempo,\n        plc: plcId,\n        tag: tag\n    },\n    topic: topic // Usar el mismo topic que el mensaje original\n};\n\nreturn newMsg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 6600,
        "wires": [
            [
                "b1bc22d3d5938734",
                "dd52ffe72bc699ed"
            ]
        ]
    },
    {
        "id": "d8e309b15ccd7db6",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/dadesmensualstotals",
        "payload": "dades.mensuals.totals",
        "payloadType": "global",
        "x": 220,
        "y": 6640,
        "wires": [
            [
                "65ca13542cb42f72"
            ]
        ]
    },
    {
        "id": "dcd38ebc6686396f",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/dadesmensualspublicades",
        "payload": "dades.mensuals.publicades_gb_mes",
        "payloadType": "global",
        "x": 260,
        "y": 6720,
        "wires": [
            [
                "c8be1e4288137fc8"
            ]
        ]
    },
    {
        "id": "39e60aa5c000a05e",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/dadesmensualsrebudes",
        "payload": "dades.mensuals.rebudes_gb_mes",
        "payloadType": "global",
        "x": 250,
        "y": 6760,
        "wires": [
            [
                "aadb51c673295760"
            ]
        ]
    },
    {
        "id": "c48126f67e54a4a7",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/dadesdiariespublicades",
        "payload": "dades.diaries.publicades_gb",
        "payloadType": "global",
        "x": 240,
        "y": 6840,
        "wires": [
            [
                "edbd16e2cd352173"
            ]
        ]
    },
    {
        "id": "3e5c26ce15f85a43",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/dadesdiariesrebudes",
        "payload": "dades.diaries.rebudes_gb",
        "payloadType": "global",
        "x": 230,
        "y": 6880,
        "wires": [
            [
                "6c947258bf249b62"
            ]
        ]
    },
    {
        "id": "0ca6df7acc5282d7",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 6600,
        "wires": [
            [
                "c467fb78c281be0a"
            ]
        ]
    },
    {
        "id": "65ca13542cb42f72",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 6640,
        "wires": [
            [
                "c467fb78c281be0a"
            ]
        ]
    },
    {
        "id": "c8be1e4288137fc8",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 6720,
        "wires": [
            [
                "c467fb78c281be0a"
            ]
        ]
    },
    {
        "id": "aadb51c673295760",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 6760,
        "wires": [
            [
                "c467fb78c281be0a"
            ]
        ]
    },
    {
        "id": "edbd16e2cd352173",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 6840,
        "wires": [
            [
                "c467fb78c281be0a"
            ]
        ]
    },
    {
        "id": "6c947258bf249b62",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 6880,
        "wires": [
            [
                "c467fb78c281be0a"
            ]
        ]
    },
    {
        "id": "499dffa763011a4e",
        "type": "function",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "Crear Missatge",
        "func": "var valor = msg.payload.lectura;\nvar estat = msg.payload.estat;\nvar missatge = msg.payload.missatge;\nvar prioritat = 0;\n// Obtener el topic del mensaje de entrada\nvar topic = msg.topic;\nvar topicParts = topic.split('/');\nvar plcId = Number(topicParts[2]);  // Convertir a número\nvar tag = topicParts[3];  // Asumiendo que el tag está en la cuarta posición del topic\n\n// Obtener la fecha y hora actual en formato ISO 8601\nvar tiempo = new Date().toISOString();\n\n// Crear el nuevo mensaje con los datos\nvar newMsg = {\n    payload: {\n        valor: valor,\n        temps: tiempo,\n        plc: plcId,\n        tag: tag,\n        prioritat: prioritat,\n        estat: estat,\n        missatge: missatge\n    },\n    topic: topic // Usar el mismo topic que el mensaje original\n};\n\nreturn newMsg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 6980,
        "wires": [
            [
                "b1bc22d3d5938734",
                "dd52ffe72bc699ed"
            ]
        ]
    },
    {
        "id": "8ee98e89a952a1f5",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/dades",
        "payload": "alarmes.dades",
        "payloadType": "global",
        "x": 190,
        "y": 6980,
        "wires": [
            [
                "9cf61e66d0bb0943"
            ]
        ]
    },
    {
        "id": "9cf61e66d0bb0943",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 6980,
        "wires": [
            [
                "499dffa763011a4e"
            ]
        ]
    },
    {
        "id": "0135665d0e36716c",
        "type": "delay",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 750,
        "y": 6520,
        "wires": [
            [
                "d737981c2463da04"
            ]
        ]
    },
    {
        "id": "4a384be57976e1ec",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/consignadiposit1",
        "payload": "alarmes.nivelldiposit1",
        "payloadType": "global",
        "x": 230,
        "y": 4860,
        "wires": [
            [
                "23954c07a119e332"
            ]
        ]
    },
    {
        "id": "23954c07a119e332",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload.estat",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 4860,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "246e7946027e2bdd",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5040,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "585e8dde1a46d302",
        "type": "function",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "Crear Missatge",
        "func": "var valor = msg.payload.lectura;\nvar estat = msg.payload.estat;\nvar missatge = msg.payload.missatge;\nvar prioritat = 0;\n// Obtener el topic del mensaje de entrada\nvar topic = msg.topic;\nvar topicParts = topic.split('/');\nvar plcId = Number(topicParts[2]);  // Convertir a número\nvar tag = topicParts[3];  // Asumiendo que el tag está en la cuarta posición del topic\n\n// Obtener la fecha y hora actual en formato ISO 8601\nvar tiempo = new Date().toISOString();\n\n// Crear el nuevo mensaje con los datos\nvar newMsg = {\n    payload: {\n        valor: valor,\n        temps: tiempo,\n        plc: plcId,\n        tag: tag,\n        prioritat: prioritat,\n        estat: estat,\n        missatge: missatge\n    },\n    topic: topic // Usar el mismo topic que el mensaje original\n};\n\nreturn newMsg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 4300,
        "wires": [
            [
                "c7adc06d2427f119",
                "27cd38b8eca595bf"
            ]
        ]
    },
    {
        "id": "c7adc06d2427f119",
        "type": "mqtt out",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "Servidor IOT",
        "topic": "",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "ad0b6903ab51bbcb",
        "x": 980,
        "y": 4300,
        "wires": []
    },
    {
        "id": "eecb1d012f844340",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/consignaterbolesaanalitzador3",
        "payload": "alarmes.terbolesa1",
        "payloadType": "global",
        "x": 230,
        "y": 5240,
        "wires": [
            [
                "0c02e3a68b8e54cc"
            ]
        ]
    },
    {
        "id": "d6acfb4d677f4ee4",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5140,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "0f82da69a7bb2106",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5180,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "89be7291c6732243",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 4540,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "abed3077c35c06ae",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 4500,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "edfb830fd62bfc77",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload.estat",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 4940,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "d05ab5c2bcc7f0f1",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload.estat",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 4900,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "b19f87724a792b75",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload.estat",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 4980,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "707b292b9c245786",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/consignadiposit2",
        "payload": "alarmes.nivelldiposit2",
        "payloadType": "global",
        "x": 230,
        "y": 4940,
        "wires": [
            [
                "edfb830fd62bfc77"
            ]
        ]
    },
    {
        "id": "b6a9fb652d9bf0a6",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5080,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "4c1fb34e99398ae4",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/disposiciov1",
        "payload": "alarmes.valvula1",
        "payloadType": "global",
        "x": 220,
        "y": 4720,
        "wires": [
            [
                "bf4840a9004cbaa9"
            ]
        ]
    },
    {
        "id": "86b6e06306c66bbf",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/minimboiadiposit1",
        "payload": "alarmes.bmindiposit1",
        "payloadType": "global",
        "x": 230,
        "y": 5080,
        "wires": [
            [
                "b6a9fb652d9bf0a6"
            ]
        ]
    },
    {
        "id": "03e7f0edfd8587af",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/maximboiadiposit1",
        "payload": "alarmes.bmaxdiposit1",
        "payloadType": "global",
        "x": 240,
        "y": 5040,
        "wires": [
            [
                "246e7946027e2bdd"
            ]
        ]
    },
    {
        "id": "a19892ce78f44494",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/maximboiadiposit2",
        "payload": "alarmes.bmaxdiposit2",
        "payloadType": "global",
        "x": 240,
        "y": 5140,
        "wires": [
            [
                "d6acfb4d677f4ee4"
            ]
        ]
    },
    {
        "id": "a648692c75dd3ef8",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/minimboiadiposit2",
        "payload": "alarmes.bmindiposit2",
        "payloadType": "global",
        "x": 230,
        "y": 5180,
        "wires": [
            [
                "0f82da69a7bb2106"
            ]
        ]
    },
    {
        "id": "55501adb2ba45c40",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/disposiciobr1",
        "payload": "alarmes.marxabr1",
        "payloadType": "global",
        "x": 220,
        "y": 4500,
        "wires": [
            [
                "abed3077c35c06ae"
            ]
        ]
    },
    {
        "id": "cda573fb3ab32f03",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/disposiciobr2",
        "payload": "alarmes.marxabr2",
        "payloadType": "global",
        "x": 220,
        "y": 4540,
        "wires": [
            [
                "89be7291c6732243"
            ]
        ]
    },
    {
        "id": "115fb740e21fb977",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 4300,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "bdc52c8c5d630b52",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/falladaalimentacio",
        "payload": "alarmes.falladaalimentacio",
        "payloadType": "global",
        "x": 250,
        "y": 4300,
        "wires": [
            [
                "115fb740e21fb977"
            ]
        ]
    },
    {
        "id": "3300e26910eed7b3",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 4340,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "b0ed73a163da8378",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/volatgeplc",
        "payload": "alarmes.volatgeplc",
        "payloadType": "global",
        "x": 230,
        "y": 4340,
        "wires": [
            [
                "3300e26910eed7b3"
            ]
        ]
    },
    {
        "id": "023f468f544cf5d3",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/analitzador2",
        "payload": "alarmes.analitzador2",
        "payloadType": "global",
        "x": 230,
        "y": 4580,
        "wires": [
            [
                "d4d695e42b583142"
            ]
        ]
    },
    {
        "id": "d4d695e42b583142",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 4580,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "5107fdf1702b6977",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/disposiciodosificadora1",
        "payload": "alarmes.marxad1",
        "payloadType": "global",
        "x": 220,
        "y": 4620,
        "wires": [
            [
                "5733e2054bd47b33"
            ]
        ]
    },
    {
        "id": "68454bdb5f1613ec",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/disposiciodosificadora3",
        "payload": "alarmes.marxad3",
        "payloadType": "global",
        "x": 220,
        "y": 4660,
        "wires": [
            [
                "aee019e62dd3826f"
            ]
        ]
    },
    {
        "id": "5733e2054bd47b33",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 4620,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "aee019e62dd3826f",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 4660,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "bf4840a9004cbaa9",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 4720,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "b4183ede9f22126d",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/disposiciov2",
        "payload": "alarmes.valvula2",
        "payloadType": "global",
        "x": 220,
        "y": 4760,
        "wires": [
            [
                "5aa95727f6453f81"
            ]
        ]
    },
    {
        "id": "5aa95727f6453f81",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 4760,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "8e8bf8ea5fcaa5ca",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/disposiciov3",
        "payload": "alarmes.valvula3",
        "payloadType": "global",
        "x": 220,
        "y": 4800,
        "wires": [
            [
                "bf576c8fdee14fff"
            ]
        ]
    },
    {
        "id": "bf576c8fdee14fff",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 4800,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "5d3175e0f89c73b4",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/eadiposit1",
        "payload": "alarmes.eadiposit1",
        "payloadType": "global",
        "x": 230,
        "y": 4900,
        "wires": [
            [
                "d05ab5c2bcc7f0f1"
            ]
        ]
    },
    {
        "id": "a93a7ad29a1bf7e0",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/eadiposit2",
        "payload": "alarmes.eadiposit2",
        "payloadType": "global",
        "x": 230,
        "y": 4980,
        "wires": [
            [
                "b19f87724a792b75"
            ]
        ]
    },
    {
        "id": "0b1f62f621bfaa71",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 4400,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "44168186b41f8b57",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/intrusio",
        "payload": "alarma.intrusio",
        "payloadType": "global",
        "x": 210,
        "y": 4400,
        "wires": [
            [
                "0b1f62f621bfaa71"
            ]
        ]
    },
    {
        "id": "fd41613e986e4fcb",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 4440,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "20751df6f2d28c04",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/infointrusio",
        "payload": "alarmes.infointrusio",
        "payloadType": "global",
        "x": 230,
        "y": 4440,
        "wires": [
            [
                "fd41613e986e4fcb"
            ]
        ]
    },
    {
        "id": "6bc2764185f34293",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/eacloranalitzador1",
        "payload": "alarmes.clor1ea",
        "payloadType": "global",
        "x": 220,
        "y": 5280,
        "wires": [
            [
                "c83cda06b8bd91c7"
            ]
        ]
    },
    {
        "id": "2bb64fbfb4871e0c",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/eaterbolesaanalitzador3",
        "payload": "alarmes.terbolesa1ea",
        "payloadType": "global",
        "x": 240,
        "y": 5320,
        "wires": [
            [
                "728ad3cbd624b432"
            ]
        ]
    },
    {
        "id": "0c02e3a68b8e54cc",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5240,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "c83cda06b8bd91c7",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5280,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "728ad3cbd624b432",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5320,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "4dfa54f53c87fb93",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/instantanicabal3",
        "payload": "alarmes.cabal3",
        "payloadType": "global",
        "x": 220,
        "y": 5380,
        "wires": [
            [
                "b6d428286ed9de8f"
            ]
        ]
    },
    {
        "id": "4130134589ca3eb2",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/instantanicabal5",
        "payload": "alarmes.cabal5",
        "payloadType": "global",
        "x": 220,
        "y": 5420,
        "wires": [
            [
                "8f7c4906517cf784"
            ]
        ]
    },
    {
        "id": "b6d428286ed9de8f",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5380,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "8f7c4906517cf784",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5420,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "b07bf872c766b402",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/eacabal3",
        "payload": "alarmes.cabal3ea",
        "payloadType": "global",
        "x": 220,
        "y": 5460,
        "wires": [
            [
                "98d182e0d92ceff0"
            ]
        ]
    },
    {
        "id": "ce80bd81b68d9a91",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/eacabal5",
        "payload": "alarmes.cabal5ea",
        "payloadType": "global",
        "x": 220,
        "y": 5500,
        "wires": [
            [
                "cc30e7407f5a79ea"
            ]
        ]
    },
    {
        "id": "98d182e0d92ceff0",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5460,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "cc30e7407f5a79ea",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5500,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "9fe8427360a42e93",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/instantanicabal2",
        "payload": "alarmes.cabal2",
        "payloadType": "global",
        "x": 220,
        "y": 5560,
        "wires": [
            [
                "b47f6021a35beee1"
            ]
        ]
    },
    {
        "id": "f7e501efe3e32d2a",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/instantanicabal6",
        "payload": "alarmes.cabal6",
        "payloadType": "global",
        "x": 220,
        "y": 5600,
        "wires": [
            [
                "0328592668b50fe4"
            ]
        ]
    },
    {
        "id": "b47f6021a35beee1",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5560,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "0328592668b50fe4",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5600,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "a204ebdd2ab10d9a",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/eacabal6",
        "payload": "alarmes.cabal6ea",
        "payloadType": "global",
        "x": 220,
        "y": 5680,
        "wires": [
            [
                "4862c9835311804b"
            ]
        ]
    },
    {
        "id": "f45798dedd182440",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/eacabal7",
        "payload": "alarmes.cabal7ea",
        "payloadType": "global",
        "x": 220,
        "y": 5720,
        "wires": [
            [
                "6a9131da5f4c53c4"
            ]
        ]
    },
    {
        "id": "4862c9835311804b",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5680,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "6a9131da5f4c53c4",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5720,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "7c3f99c6fea97b58",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/instantanicabal7",
        "payload": "alarmes.cabal7",
        "payloadType": "global",
        "x": 220,
        "y": 5640,
        "wires": [
            [
                "529c7d3953662ad3"
            ]
        ]
    },
    {
        "id": "529c7d3953662ad3",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5640,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "f4c9690ee8fb1218",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/consignaphanalitzador2",
        "payload": "alarmes.phanalitzador2",
        "payloadType": "global",
        "x": 240,
        "y": 5860,
        "wires": [
            [
                "b0f4520ed3dcc124"
            ]
        ]
    },
    {
        "id": "b374fca1736ccd41",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5820,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "b0f4520ed3dcc124",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5860,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "85f590f9ea6211fb",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/consignacloranalitzador1",
        "payload": "alarmes.cloranalitzador1",
        "payloadType": "global",
        "x": 240,
        "y": 5780,
        "wires": [
            [
                "d961e09854ea80b7"
            ]
        ]
    },
    {
        "id": "d961e09854ea80b7",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5780,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "76cced02ab77a3d3",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/consignacloranalitzador2",
        "payload": "alarmes.cloranalitzador2",
        "payloadType": "global",
        "x": 240,
        "y": 5820,
        "wires": [
            [
                "b374fca1736ccd41"
            ]
        ]
    },
    {
        "id": "f61122225ad932a1",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5920,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "44d4b6b9146a172e",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/tarjaumf1",
        "payload": "alarmes.comunicacioremota1",
        "payloadType": "global",
        "x": 260,
        "y": 5920,
        "wires": [
            [
                "f61122225ad932a1"
            ]
        ]
    },
    {
        "id": "83051c85674f33f3",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5960,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "1fdfc771b7ac9caa",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/tarjaumf2",
        "payload": "alarmes.comunicacioremota2",
        "payloadType": "global",
        "x": 260,
        "y": 5960,
        "wires": [
            [
                "83051c85674f33f3"
            ]
        ]
    },
    {
        "id": "0e8127a34a04e858",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 6000,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "a4e293da876d39d8",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/tarjaumf3",
        "payload": "alarmes.comunicacioremota3",
        "payloadType": "global",
        "x": 260,
        "y": 6000,
        "wires": [
            [
                "0e8127a34a04e858"
            ]
        ]
    },
    {
        "id": "5cbb8036a3345c15",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 6040,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "8e7904ba61f7853b",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/comunicacioanalitzador2",
        "payload": "alarmes.comunicacioanalitzador2",
        "payloadType": "global",
        "x": 270,
        "y": 6040,
        "wires": [
            [
                "5cbb8036a3345c15"
            ]
        ]
    },
    {
        "id": "37f508fe39dfaf2e",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 6080,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "dc12f015f2c3d593",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/9/comunicacioplc4",
        "payload": "alarmes.comunicacioplc4",
        "payloadType": "global",
        "x": 250,
        "y": 6080,
        "wires": [
            [
                "37f508fe39dfaf2e"
            ]
        ]
    },
    {
        "id": "a0930d9d9d9f0819",
        "type": "comment",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "Post 27/01/2025 ",
        "info": "",
        "x": 170,
        "y": 4260,
        "wires": []
    },
    {
        "id": "640b1768bd3a9056",
        "type": "mqtt out",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "Cap a IOT",
        "topic": "",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "ad0b6903ab51bbcb",
        "x": 1050,
        "y": 140,
        "wires": []
    },
    {
        "id": "777d64a2cf13897c",
        "type": "function",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "Procesar Mensaje",
        "func": "var valor = msg.payload;\n\n// Obtener el topic del mensaje de entrada\nvar topic = msg.topic;\nvar topicParts = topic.split('/');\nvar plcId = Number(topicParts[2]);  // Convertir a número\nvar tag = topicParts[3];  // Asumiendo que el tag está en la cuarta posición del topic\n\n// Obtener la fecha y hora actual en formato ISO 8601\nvar tiempo = new Date().toISOString();\n\n// Crear el nuevo mensaje con los datos\nvar newMsg = {\n    payload: {\n        valor: valor,\n        temps: tiempo,\n        plc: plcId,\n        tag: tag\n    },\n    topic: topic // Usar el mismo topic que el mensaje original\n};\n\nreturn newMsg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 140,
        "wires": [
            [
                "831f391c3ded6798",
                "640b1768bd3a9056",
                "1594eb6183bb9f44"
            ]
        ]
    },
    {
        "id": "831f391c3ded6798",
        "type": "debug",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "debug 140",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1050,
        "y": 360,
        "wires": []
    },
    {
        "id": "6f79b77431535226",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/analitzador1clor",
        "payload": "analitzador1.clor",
        "payloadType": "global",
        "x": 210,
        "y": 140,
        "wires": [
            [
                "62ecee1112054959"
            ]
        ]
    },
    {
        "id": "e5aa2df05f321711",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/analitzador2clor",
        "payload": "analitzador2.clor",
        "payloadType": "global",
        "x": 210,
        "y": 180,
        "wires": [
            [
                "3c010cc153f8d56e"
            ]
        ]
    },
    {
        "id": "50e5abfb2473be40",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/analitzador2ph",
        "payload": "analitzador2.ph",
        "payloadType": "global",
        "x": 210,
        "y": 220,
        "wires": [
            [
                "03a04a25ec7c0276"
            ]
        ]
    },
    {
        "id": "427cdd1862b91ffd",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/analitzador3terbolesa",
        "payload": "analitzador3.terb",
        "payloadType": "global",
        "x": 210,
        "y": 260,
        "wires": [
            [
                "9d5f17dbc16ec1ed"
            ]
        ]
    },
    {
        "id": "6a6e2a740a66c159",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/acumulatcabal1",
        "payload": "cabal1.acum",
        "payloadType": "global",
        "x": 200,
        "y": 460,
        "wires": [
            [
                "438190ae7d37face"
            ]
        ]
    },
    {
        "id": "fb115ec2915862fb",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal1",
        "payload": "cabal1.inst",
        "payloadType": "global",
        "x": 190,
        "y": 500,
        "wires": [
            [
                "d62b9dfa0cf69785"
            ]
        ]
    },
    {
        "id": "f63d088a7812546b",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/acumulatcabal2",
        "payload": "cabal2.acum",
        "payloadType": "global",
        "x": 200,
        "y": 540,
        "wires": [
            [
                "e31c874715762ffd"
            ]
        ]
    },
    {
        "id": "4a377b266eb11c44",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal2",
        "payload": "cabal2.inst",
        "payloadType": "global",
        "x": 190,
        "y": 580,
        "wires": [
            [
                "0abab518350d3d42"
            ]
        ]
    },
    {
        "id": "e14cdc8739cbfc27",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/acumulatcabal3",
        "payload": "cabal3.acum",
        "payloadType": "global",
        "x": 200,
        "y": 620,
        "wires": [
            [
                "20e0d67dd92368e0"
            ]
        ]
    },
    {
        "id": "1a60d2e72354b7af",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal3",
        "payload": "cabal3.inst",
        "payloadType": "global",
        "x": 190,
        "y": 660,
        "wires": [
            [
                "788dcce653000f77"
            ]
        ]
    },
    {
        "id": "6805f4b5e71b90c9",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/acumulatcabal4",
        "payload": "cabal4.acum",
        "payloadType": "global",
        "x": 200,
        "y": 700,
        "wires": [
            [
                "8e2826beec632698"
            ]
        ]
    },
    {
        "id": "cd6cabb0f9dc4e9a",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal4",
        "payload": "cabal4.inst",
        "payloadType": "global",
        "x": 190,
        "y": 740,
        "wires": [
            [
                "8d3ebbf4011b2fe6"
            ]
        ]
    },
    {
        "id": "dd382a812fcef6ac",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/acumulatcabal5",
        "payload": "cabal5.acum",
        "payloadType": "global",
        "x": 200,
        "y": 780,
        "wires": [
            [
                "19c5ecdde8c04049"
            ]
        ]
    },
    {
        "id": "6fb0d7af9a941589",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal5",
        "payload": "cabal5.inst",
        "payloadType": "global",
        "x": 190,
        "y": 820,
        "wires": [
            [
                "b99309940bdd81da"
            ]
        ]
    },
    {
        "id": "39acaa7479a8aa70",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/acumulatcabal6",
        "payload": "cabal6.acum",
        "payloadType": "global",
        "x": 200,
        "y": 860,
        "wires": [
            [
                "e8d482a96640b2ee"
            ]
        ]
    },
    {
        "id": "86553e272f8c2498",
        "type": "inject",
        "z": "662afd5c1069609f",
        "d": true,
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal6",
        "payload": "cabal6.inst",
        "payloadType": "global",
        "x": 190,
        "y": 900,
        "wires": [
            [
                "5a6836f48d5ee18d"
            ]
        ]
    },
    {
        "id": "e8cae876fe8472fa",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/acumulatcabal7",
        "payload": "cabal7.acum",
        "payloadType": "global",
        "x": 200,
        "y": 940,
        "wires": [
            [
                "7410787cfbc967e0"
            ]
        ]
    },
    {
        "id": "d3f82f354731ddf1",
        "type": "inject",
        "z": "662afd5c1069609f",
        "d": true,
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal7",
        "payload": "cabal7.inst",
        "payloadType": "global",
        "x": 190,
        "y": 980,
        "wires": [
            [
                "543cbc518246f985"
            ]
        ]
    },
    {
        "id": "6707384ce311e2f8",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/bmindiposit1",
        "payload": "diposit1.bminim",
        "payloadType": "global",
        "x": 210,
        "y": 1040,
        "wires": [
            [
                "9bd4a4defdbce77f"
            ]
        ]
    },
    {
        "id": "410bdc25e02b88c5",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/bmaxdiposit1",
        "payload": "diposit1.bmaxim",
        "payloadType": "global",
        "x": 210,
        "y": 1080,
        "wires": [
            [
                "c1873649f84bba37"
            ]
        ]
    },
    {
        "id": "b046d82e9f17db0a",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/bmindiposit2",
        "payload": "diposit2.bminim",
        "payloadType": "global",
        "x": 210,
        "y": 1180,
        "wires": [
            [
                "4d0159e7f066fead"
            ]
        ]
    },
    {
        "id": "a5500b91b3850d85",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/bmaxdiposit2",
        "payload": "diposit2.bmaxim",
        "payloadType": "global",
        "x": 210,
        "y": 1220,
        "wires": [
            [
                "1708fe3701ba7c67"
            ]
        ]
    },
    {
        "id": "8dad1bcba8e03dde",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/nivelldiposit1",
        "payload": "diposit1.nivell",
        "payloadType": "global",
        "x": 200,
        "y": 1120,
        "wires": [
            [
                "237c98b6feb2d065"
            ]
        ]
    },
    {
        "id": "9acad5adabbafee5",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/nivelldiposit2",
        "payload": "diposit2.nivell",
        "payloadType": "global",
        "x": 200,
        "y": 1260,
        "wires": [
            [
                "5098149d01675da8"
            ]
        ]
    },
    {
        "id": "29a3ca4a46af87c8",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/marxafiltre",
        "payload": "filtre.marxa",
        "payloadType": "global",
        "x": 190,
        "y": 1320,
        "wires": [
            [
                "cff0f51ce9ecf7eb"
            ]
        ]
    },
    {
        "id": "2c19eda128bcff60",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/presfiltre",
        "payload": "filtre.pres",
        "payloadType": "global",
        "x": 190,
        "y": 1360,
        "wires": [
            [
                "02a44ea50f8ba3de"
            ]
        ]
    },
    {
        "id": "dce3672fbfeae62a",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/maniobresfiltre",
        "payload": "filtre.mani",
        "payloadType": "global",
        "x": 190,
        "y": 1400,
        "wires": [
            [
                "739f06d2e83f524f"
            ]
        ]
    },
    {
        "id": "dd0f7851061befd8",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/pressacumulada",
        "payload": "filtre.pressacum",
        "payloadType": "global",
        "x": 210,
        "y": 1440,
        "wires": [
            [
                "8376866b256d20e2"
            ]
        ]
    },
    {
        "id": "aca477319dbc376a",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/obertavalvula1",
        "payload": "v1.oberta",
        "payloadType": "global",
        "x": 190,
        "y": 1500,
        "wires": [
            [
                "e9c728e8b8b0938d"
            ]
        ]
    },
    {
        "id": "f224b0b821b93998",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/obertavalvula2",
        "payload": "v2.oberta",
        "payloadType": "global",
        "x": 190,
        "y": 1540,
        "wires": [
            [
                "687d0af339aad277"
            ]
        ]
    },
    {
        "id": "4c81ec1b57dec879",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/obertavalvula3",
        "payload": "v3.oberta",
        "payloadType": "global",
        "x": 190,
        "y": 1580,
        "wires": [
            [
                "5d97e6a072c36140"
            ]
        ]
    },
    {
        "id": "5db79808c8912f8b",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/marxab1filtre",
        "payload": "b1.marxa",
        "payloadType": "global",
        "x": 190,
        "y": 320,
        "wires": [
            [
                "65d3820746840648"
            ]
        ]
    },
    {
        "id": "91f7ef66bf40c405",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/marxab1recirculadora",
        "payload": "br1.marxa",
        "payloadType": "global",
        "x": 190,
        "y": 360,
        "wires": [
            [
                "4f776fa032193554"
            ]
        ]
    },
    {
        "id": "b5f9c97e7cb02dbf",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/marxab2recirculadora",
        "payload": "br2.marxa",
        "payloadType": "global",
        "x": 190,
        "y": 400,
        "wires": [
            [
                "6fc03f83733e6138"
            ]
        ]
    },
    {
        "id": "6f33383d7d1c1bb3",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/marxadspre",
        "payload": "d1.marxa",
        "payloadType": "global",
        "x": 190,
        "y": 1760,
        "wires": [
            [
                "c51a785dd7a9c86e"
            ]
        ]
    },
    {
        "id": "b624897340149a4b",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/marxadspost",
        "payload": "d2.marxa",
        "payloadType": "global",
        "x": 190,
        "y": 1800,
        "wires": [
            [
                "3e219ec4aec01397"
            ]
        ]
    },
    {
        "id": "66814c011c6e3f10",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/marxadsacid",
        "payload": "d3.marxa",
        "payloadType": "global",
        "x": 190,
        "y": 1840,
        "wires": [
            [
                "7b806e35134ac807"
            ]
        ]
    },
    {
        "id": "aac47ec3e032836b",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/tancadavalvula1",
        "payload": "v1.tancada",
        "payloadType": "global",
        "x": 190,
        "y": 1620,
        "wires": [
            [
                "afd934dda5c66c4b"
            ]
        ]
    },
    {
        "id": "39d4ac0f24c3c643",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/tancadavalvula2",
        "payload": "v2.tancada",
        "payloadType": "global",
        "x": 190,
        "y": 1660,
        "wires": [
            [
                "1057f091bb49c4b8"
            ]
        ]
    },
    {
        "id": "7d0381cb96158ce8",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/tancadavalvula3",
        "payload": "v3.tancada",
        "payloadType": "global",
        "x": 190,
        "y": 1700,
        "wires": [
            [
                "d28e1316ed26b7aa"
            ]
        ]
    },
    {
        "id": "7870e622b10632c3",
        "type": "comment",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "Post27/01/2025 ",
        "info": "",
        "x": 380,
        "y": 100,
        "wires": []
    },
    {
        "id": "3626aedb7fa0d29f",
        "type": "mqtt out",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "Cap a IOT",
        "topic": "",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "ad0b6903ab51bbcb",
        "x": 1050,
        "y": 2100,
        "wires": []
    },
    {
        "id": "0c83fcb7a0a90a14",
        "type": "function",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "Procesar Mensaje",
        "func": "var valor = msg.payload;\n\n// Obtener el topic del mensaje de entrada\nvar topic = msg.topic;\nvar topicParts = topic.split('/');\nvar plcId = Number(topicParts[2]);  // Convertir a número\nvar tag = topicParts[3];  // Asumiendo que el tag está en la cuarta posición del topic\n\n// Obtener la fecha y hora actual en formato ISO 8601\nvar tiempo = new Date().toISOString();\n\n// Crear el nuevo mensaje con los datos\nvar newMsg = {\n    payload: {\n        valor: valor,\n        temps: tiempo,\n        plc: plcId,\n        tag: tag\n    },\n    topic: topic // Usar el mismo topic que el mensaje original\n};\n\nreturn newMsg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 2100,
        "wires": [
            [
                "7da318aaa46b87c9",
                "3626aedb7fa0d29f",
                "75617ee996f17dd2"
            ]
        ]
    },
    {
        "id": "7da318aaa46b87c9",
        "type": "debug",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "debug 213",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1050,
        "y": 2160,
        "wires": []
    },
    {
        "id": "c2c1a32d93c5afe9",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/analitzador1clor",
        "payload": "analitzador1.clor",
        "payloadType": "global",
        "x": 210,
        "y": 2100,
        "wires": [
            [
                "b854465d1db54e20"
            ]
        ]
    },
    {
        "id": "e572a7970ec12afc",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/analitzador2clor",
        "payload": "analitzador2.clor",
        "payloadType": "global",
        "x": 210,
        "y": 2140,
        "wires": [
            [
                "42623841a3f4e966"
            ]
        ]
    },
    {
        "id": "6ee93059a8f8af84",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/analitzador2ph",
        "payload": "analitzador2.ph",
        "payloadType": "global",
        "x": 210,
        "y": 2180,
        "wires": [
            [
                "66fd87f81331eab8"
            ]
        ]
    },
    {
        "id": "ed1a49882bd5ec7e",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/analitzador3terbolesa",
        "payload": "analitzador3.terb",
        "payloadType": "global",
        "x": 210,
        "y": 2220,
        "wires": [
            [
                "cab0cd1605dd8940"
            ]
        ]
    },
    {
        "id": "8d81760a056f85ea",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/acumulatcabal1",
        "payload": "cabal1.acum",
        "payloadType": "global",
        "x": 200,
        "y": 2420,
        "wires": [
            [
                "6d650839d593cd2f"
            ]
        ]
    },
    {
        "id": "e71e7a14a0854e27",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal1",
        "payload": "cabal1.inst",
        "payloadType": "global",
        "x": 190,
        "y": 2460,
        "wires": [
            [
                "2982df14a21baf6c"
            ]
        ]
    },
    {
        "id": "46b7333a1b5aea68",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/acumulatcabal2",
        "payload": "cabal2.acum",
        "payloadType": "global",
        "x": 200,
        "y": 2500,
        "wires": [
            [
                "53d43a492dc32838"
            ]
        ]
    },
    {
        "id": "3fda8f5dd8bb59ed",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal2",
        "payload": "cabal2.inst",
        "payloadType": "global",
        "x": 190,
        "y": 2540,
        "wires": [
            [
                "34d66fa407bded98"
            ]
        ]
    },
    {
        "id": "873be17fca6d182e",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/acumulatcabal3",
        "payload": "cabal3.acum",
        "payloadType": "global",
        "x": 200,
        "y": 2580,
        "wires": [
            [
                "aeafe5d8c5755185"
            ]
        ]
    },
    {
        "id": "09e78e5812b1396d",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal3",
        "payload": "cabal3.inst",
        "payloadType": "global",
        "x": 190,
        "y": 2620,
        "wires": [
            [
                "088346f62662b312"
            ]
        ]
    },
    {
        "id": "bfb64b6e69936def",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/acumulatcabal4",
        "payload": "cabal4.acum",
        "payloadType": "global",
        "x": 200,
        "y": 2660,
        "wires": [
            [
                "418c87ea68c7fb1c"
            ]
        ]
    },
    {
        "id": "f7f5024a17dceb30",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal4",
        "payload": "cabal4.inst",
        "payloadType": "global",
        "x": 190,
        "y": 2700,
        "wires": [
            [
                "bd4837a4724a6d76"
            ]
        ]
    },
    {
        "id": "272600cf55fbea44",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/acumulatcabal5",
        "payload": "cabal5.acum",
        "payloadType": "global",
        "x": 200,
        "y": 2740,
        "wires": [
            [
                "b6a8b6a79e63a172"
            ]
        ]
    },
    {
        "id": "c583881421e35c99",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal5",
        "payload": "cabal5.inst",
        "payloadType": "global",
        "x": 190,
        "y": 2780,
        "wires": [
            [
                "e36da733a722677f"
            ]
        ]
    },
    {
        "id": "97b06ef17b0811ad",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/acumulatcabal6",
        "payload": "cabal6.acum",
        "payloadType": "global",
        "x": 200,
        "y": 2820,
        "wires": [
            [
                "84bcccb58c97b16a"
            ]
        ]
    },
    {
        "id": "6ae005e6067a7e4c",
        "type": "inject",
        "z": "662afd5c1069609f",
        "d": true,
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal6",
        "payload": "cabal6.inst",
        "payloadType": "global",
        "x": 190,
        "y": 2860,
        "wires": [
            [
                "bd92a45bd09360fd"
            ]
        ]
    },
    {
        "id": "4244038abd13028c",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/acumulatcabal7",
        "payload": "cabal7.acum",
        "payloadType": "global",
        "x": 200,
        "y": 2900,
        "wires": [
            [
                "6c9fe0a069b1446e"
            ]
        ]
    },
    {
        "id": "aaac046819d0c889",
        "type": "inject",
        "z": "662afd5c1069609f",
        "d": true,
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal7",
        "payload": "cabal7.inst",
        "payloadType": "global",
        "x": 190,
        "y": 2940,
        "wires": [
            [
                "31cc842710ab6f81"
            ]
        ]
    },
    {
        "id": "d4a20cdac3bd7718",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/bmindiposit1",
        "payload": "diposit1.bminim",
        "payloadType": "global",
        "x": 210,
        "y": 3000,
        "wires": [
            [
                "7d94af341dbf3e12"
            ]
        ]
    },
    {
        "id": "a4004c1a58892a07",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/bmaxdiposit1",
        "payload": "diposit1.bmaxim",
        "payloadType": "global",
        "x": 210,
        "y": 3040,
        "wires": [
            [
                "9e8f545a8d9524d7"
            ]
        ]
    },
    {
        "id": "b275a3ce573028e0",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/bmindiposit2",
        "payload": "diposit2.bminim",
        "payloadType": "global",
        "x": 210,
        "y": 3140,
        "wires": [
            [
                "3ccaf49f23c416b0"
            ]
        ]
    },
    {
        "id": "32865a7fd75ebabf",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/bmaxdiposit2",
        "payload": "diposit2.bmaxim",
        "payloadType": "global",
        "x": 210,
        "y": 3180,
        "wires": [
            [
                "320b878aa6de7c1c"
            ]
        ]
    },
    {
        "id": "890dd9b58f8fac9f",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/nivelldiposit1",
        "payload": "diposit1.nivell",
        "payloadType": "global",
        "x": 200,
        "y": 3080,
        "wires": [
            [
                "02faaa0dd3eed122"
            ]
        ]
    },
    {
        "id": "01115f72671cf392",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/nivelldiposit2",
        "payload": "diposit2.nivell",
        "payloadType": "global",
        "x": 200,
        "y": 3220,
        "wires": [
            [
                "1a7bb7acee69e0a2"
            ]
        ]
    },
    {
        "id": "549c36f1f68c571a",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/marxafiltre",
        "payload": "filtre.marxa",
        "payloadType": "global",
        "x": 190,
        "y": 3280,
        "wires": [
            [
                "f42bf27cf9f1e473"
            ]
        ]
    },
    {
        "id": "35d9fe748ee3f6c6",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/presfiltre",
        "payload": "filtre.pres",
        "payloadType": "global",
        "x": 190,
        "y": 3320,
        "wires": [
            [
                "5a5bb04bc30162e7"
            ]
        ]
    },
    {
        "id": "9bf0a17e91203a51",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/maniobresfiltre",
        "payload": "filtre.mani",
        "payloadType": "global",
        "x": 190,
        "y": 3360,
        "wires": [
            [
                "6fc75b14f9e6281b"
            ]
        ]
    },
    {
        "id": "6dcaad29423e1d8b",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/pressacumulada",
        "payload": "filtre.pressacum",
        "payloadType": "global",
        "x": 210,
        "y": 3400,
        "wires": [
            [
                "9e431e40d721c189"
            ]
        ]
    },
    {
        "id": "f2798f27e77a7964",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/obertavalvula1",
        "payload": "v1.oberta",
        "payloadType": "global",
        "x": 190,
        "y": 3460,
        "wires": [
            [
                "0b91dab45395e981"
            ]
        ]
    },
    {
        "id": "2ce3e84d255b2ec0",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/obertavalvula2",
        "payload": "v2.oberta",
        "payloadType": "global",
        "x": 190,
        "y": 3500,
        "wires": [
            [
                "e76707fa9509dac6"
            ]
        ]
    },
    {
        "id": "6ad07c30ee59632d",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/obertavalvula3",
        "payload": "v3.oberta",
        "payloadType": "global",
        "x": 190,
        "y": 3540,
        "wires": [
            [
                "567c9dc50ade8159"
            ]
        ]
    },
    {
        "id": "2fdd63fb5a3d690d",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/marxab1filtre",
        "payload": "b1.marxa",
        "payloadType": "global",
        "x": 190,
        "y": 2280,
        "wires": [
            [
                "4e19b1a9b50a41be"
            ]
        ]
    },
    {
        "id": "3a216e90ab2aa455",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/marxab1recirculadora",
        "payload": "br1.marxa",
        "payloadType": "global",
        "x": 190,
        "y": 2320,
        "wires": [
            [
                "c189e0af65b900cb"
            ]
        ]
    },
    {
        "id": "98ef9afb24529f57",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/marxab2recirculadora",
        "payload": "br2.marxa",
        "payloadType": "global",
        "x": 190,
        "y": 2360,
        "wires": [
            [
                "4065893b41b302f8"
            ]
        ]
    },
    {
        "id": "eab412e1f4537d14",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/marxadspre",
        "payload": "d1.marxa",
        "payloadType": "global",
        "x": 190,
        "y": 3720,
        "wires": [
            [
                "b0bcfd04d551e164"
            ]
        ]
    },
    {
        "id": "37e76e508b06df74",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/marxadspost",
        "payload": "d2.marxa",
        "payloadType": "global",
        "x": 190,
        "y": 3760,
        "wires": [
            [
                "8e530a0e122687fa"
            ]
        ]
    },
    {
        "id": "f7835ecebdf50fb9",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/marxadsacid",
        "payload": "d3.marxa",
        "payloadType": "global",
        "x": 190,
        "y": 3800,
        "wires": [
            [
                "970d10eb78dff6dd"
            ]
        ]
    },
    {
        "id": "01e48a5a86286519",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/tancadavalvula1",
        "payload": "v1.tancada",
        "payloadType": "global",
        "x": 190,
        "y": 3580,
        "wires": [
            [
                "cd0d78a35148bc0c"
            ]
        ]
    },
    {
        "id": "e447ccf614717f19",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/tancadavalvula2",
        "payload": "v2.tancada",
        "payloadType": "global",
        "x": 190,
        "y": 3620,
        "wires": [
            [
                "b12b9de30326b166"
            ]
        ]
    },
    {
        "id": "353fe52afee9f6a0",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/tancadavalvula3",
        "payload": "v3.tancada",
        "payloadType": "global",
        "x": 190,
        "y": 3660,
        "wires": [
            [
                "9acad962c82b5311"
            ]
        ]
    },
    {
        "id": "65d3820746840648",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 320,
        "wires": [
            [
                "15dfaf5234f4238b"
            ]
        ]
    },
    {
        "id": "4f776fa032193554",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 360,
        "wires": [
            [
                "9c1d1f5e7b3746ea"
            ]
        ]
    },
    {
        "id": "6fc03f83733e6138",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 400,
        "wires": [
            [
                "7e492a08914dd8f7"
            ]
        ]
    },
    {
        "id": "9bd4a4defdbce77f",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1040,
        "wires": [
            [
                "c098236dbf71bb95"
            ]
        ]
    },
    {
        "id": "c1873649f84bba37",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1080,
        "wires": [
            [
                "f0901526e4a23ffb"
            ]
        ]
    },
    {
        "id": "4d0159e7f066fead",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1180,
        "wires": [
            [
                "b956c0fc02067a99"
            ]
        ]
    },
    {
        "id": "1708fe3701ba7c67",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1220,
        "wires": [
            [
                "87449f4a9e659fec"
            ]
        ]
    },
    {
        "id": "cff0f51ce9ecf7eb",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1320,
        "wires": [
            [
                "d81902d1f01ab8a8"
            ]
        ]
    },
    {
        "id": "02a44ea50f8ba3de",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1360,
        "wires": [
            [
                "4371b5e87e24494b"
            ]
        ]
    },
    {
        "id": "739f06d2e83f524f",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1400,
        "wires": [
            [
                "0526d90880caa80a"
            ]
        ]
    },
    {
        "id": "8376866b256d20e2",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1440,
        "wires": [
            [
                "f1c43578f7a49a8e"
            ]
        ]
    },
    {
        "id": "e9c728e8b8b0938d",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1500,
        "wires": [
            [
                "65a47c6a6663fa7c"
            ]
        ]
    },
    {
        "id": "687d0af339aad277",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1540,
        "wires": [
            [
                "e73ce8cb7b77ec81"
            ]
        ]
    },
    {
        "id": "5d97e6a072c36140",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1580,
        "wires": [
            [
                "88b3ae7d7eb576ab"
            ]
        ]
    },
    {
        "id": "afd934dda5c66c4b",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1620,
        "wires": [
            [
                "8d2e5e3aa0f9def8"
            ]
        ]
    },
    {
        "id": "1057f091bb49c4b8",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1660,
        "wires": [
            [
                "412dca95b1bd649f"
            ]
        ]
    },
    {
        "id": "d28e1316ed26b7aa",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1700,
        "wires": [
            [
                "62e6d289c199f5c7"
            ]
        ]
    },
    {
        "id": "c51a785dd7a9c86e",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1760,
        "wires": [
            [
                "1466da104e6483a7"
            ]
        ]
    },
    {
        "id": "3e219ec4aec01397",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1800,
        "wires": [
            [
                "fd54caee8b77423b"
            ]
        ]
    },
    {
        "id": "7b806e35134ac807",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1840,
        "wires": [
            [
                "e9614325288b3e66"
            ]
        ]
    },
    {
        "id": "d742b2b309bfba64",
        "type": "comment",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "afegir dosificadores!",
        "info": "",
        "x": 200,
        "y": 6280,
        "wires": []
    },
    {
        "id": "5fe78a6c62e944a0",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 6140,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "b3a5d09a35864707",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/10/cabalimetre2pasaigua",
        "payload": "alarmes.cabalimetre2pasaigua",
        "payloadType": "global",
        "x": 260,
        "y": 6140,
        "wires": [
            [
                "5fe78a6c62e944a0"
            ]
        ]
    },
    {
        "id": "f95fa385367cda6a",
        "type": "switch",
        "z": "662afd5c1069609f",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 580,
        "y": 5860,
        "wires": [
            [
                "585e8dde1a46d302"
            ]
        ]
    },
    {
        "id": "15211fab5323bd17",
        "type": "inject",
        "z": "662afd5c1069609f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "alarmes/plc/10/cabalimetre3pasaigua",
        "payload": "alarmes.cabalimetre3pasaigua",
        "payloadType": "global",
        "x": 260,
        "y": 5860,
        "wires": [
            [
                "f95fa385367cda6a"
            ]
        ]
    },
    {
        "id": "84fad30a1ddfbeee",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/estatvalvula1",
        "payload": "v1.calculada.estat",
        "payloadType": "global",
        "x": 210,
        "y": 1880,
        "wires": [
            [
                "8f4f086b640b9906"
            ]
        ]
    },
    {
        "id": "2696c3a86af1f280",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/estatvalvula2",
        "payload": "v2.calculada.estat",
        "payloadType": "global",
        "x": 210,
        "y": 1920,
        "wires": [
            [
                "8c2b0bc81ad8bf7c"
            ]
        ]
    },
    {
        "id": "8f4f086b640b9906",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1880,
        "wires": [
            [
                "7582e6731c1423f8"
            ]
        ]
    },
    {
        "id": "8c2b0bc81ad8bf7c",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1920,
        "wires": [
            [
                "935b16774b6281f7"
            ]
        ]
    },
    {
        "id": "8b32db0c36d475a4",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/estatvalvula3",
        "payload": "v3.calculada.estat",
        "payloadType": "global",
        "x": 210,
        "y": 1960,
        "wires": [
            [
                "0dbd1915fbf2b68b"
            ]
        ]
    },
    {
        "id": "0dbd1915fbf2b68b",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 1960,
        "wires": [
            [
                "960aa0d6346cb721"
            ]
        ]
    },
    {
        "id": "1f749ec98b66a9f9",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/estatvalvula1",
        "payload": "v1.calculada.estat",
        "payloadType": "global",
        "x": 210,
        "y": 3840,
        "wires": [
            [
                "ba896631eca3bd05"
            ]
        ]
    },
    {
        "id": "48edb5b8c11120ce",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/estatvalvula2",
        "payload": "v2.calculada.estat",
        "payloadType": "global",
        "x": 210,
        "y": 3880,
        "wires": [
            [
                "3a478dada6b0e9fb"
            ]
        ]
    },
    {
        "id": "441956122f5c21c3",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/estatvalvula3",
        "payload": "v3.calculada.estat",
        "payloadType": "global",
        "x": 210,
        "y": 3920,
        "wires": [
            [
                "c93f66dafd208d55"
            ]
        ]
    },
    {
        "id": "e2d8f6dc2e24a6a2",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/demandagronxadors",
        "payload": "bgronxadors.tarifes",
        "payloadType": "global",
        "x": 220,
        "y": 2000,
        "wires": [
            [
                "dc46d3f456c0f523"
            ]
        ]
    },
    {
        "id": "dc46d3f456c0f523",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 550,
        "y": 2000,
        "wires": [
            [
                "90d9a5cf271e3c74"
            ]
        ]
    },
    {
        "id": "339a38bc9ea38c97",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "43200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/demandagronxadors",
        "payload": "bgronxadors.tarifes",
        "payloadType": "global",
        "x": 220,
        "y": 3960,
        "wires": [
            [
                "4f2b6861104ca839"
            ]
        ]
    },
    {
        "id": "eedf434a79bcf9a7",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "consignadiposit1",
        "payload": "alarmes.nivelldiposit1",
        "payloadType": "global",
        "x": 1310,
        "y": 4860,
        "wires": [
            [
                "2df3ff515ff84cb0"
            ]
        ]
    },
    {
        "id": "2df3ff515ff84cb0",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload.estat",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 4860,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "06f45ae8ede804c6",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5040,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "c4367426c4d7266c",
        "type": "mqtt out",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "Servidor IOT",
        "topic": "",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "ad0b6903ab51bbcb",
        "x": 2040,
        "y": 4460,
        "wires": []
    },
    {
        "id": "397afeff3ddf603d",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "consignaterbolesaanalitzador3",
        "payload": "alarmes.terbolesa1",
        "payloadType": "global",
        "x": 1310,
        "y": 5240,
        "wires": [
            [
                "88a7e17d30ef221c"
            ]
        ]
    },
    {
        "id": "dcfae06d5af2152b",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5140,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "c68d3321965ce6be",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5180,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "9a7c6ffa08e7a657",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 4540,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "7c2824437ebda03f",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 4500,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "f61596bdedcf995a",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload.estat",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 4940,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "ba7e5bd7e1e6aa91",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload.estat",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 4900,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "b9acf4d98cd6f805",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload.estat",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 4980,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "916d408ed2b39a7a",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "consignadiposit2",
        "payload": "alarmes.nivelldiposit2",
        "payloadType": "global",
        "x": 1310,
        "y": 4940,
        "wires": [
            [
                "f61596bdedcf995a"
            ]
        ]
    },
    {
        "id": "ac6ec5524ddb2f2f",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5080,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "f773a03015682152",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "disposiciov1",
        "payload": "alarmes.valvula1",
        "payloadType": "global",
        "x": 1300,
        "y": 4720,
        "wires": [
            [
                "c0c187e889f38521"
            ]
        ]
    },
    {
        "id": "a9788522eefd5f1e",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "minimboiadiposit1",
        "payload": "alarmes.bmindiposit1",
        "payloadType": "global",
        "x": 1310,
        "y": 5080,
        "wires": [
            [
                "ac6ec5524ddb2f2f"
            ]
        ]
    },
    {
        "id": "3c80fb74b4188859",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "maximboiadiposit1",
        "payload": "alarmes.bmaxdiposit1",
        "payloadType": "global",
        "x": 1320,
        "y": 5040,
        "wires": [
            [
                "06f45ae8ede804c6"
            ]
        ]
    },
    {
        "id": "2e452e3ae0804160",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "maximboiadiposit2",
        "payload": "alarmes.bmaxdiposit2",
        "payloadType": "global",
        "x": 1320,
        "y": 5140,
        "wires": [
            [
                "dcfae06d5af2152b"
            ]
        ]
    },
    {
        "id": "ba4c54b72334b653",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "minimboiadiposit2",
        "payload": "alarmes.bmindiposit2",
        "payloadType": "global",
        "x": 1310,
        "y": 5180,
        "wires": [
            [
                "c68d3321965ce6be"
            ]
        ]
    },
    {
        "id": "5ec481901edf3808",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "disposiciobr1",
        "payload": "alarmes.marxabr1",
        "payloadType": "global",
        "x": 1300,
        "y": 4500,
        "wires": [
            [
                "7c2824437ebda03f"
            ]
        ]
    },
    {
        "id": "93684397d221f4f1",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "disposiciobr2",
        "payload": "alarmes.marxabr2",
        "payloadType": "global",
        "x": 1300,
        "y": 4540,
        "wires": [
            [
                "9a7c6ffa08e7a657"
            ]
        ]
    },
    {
        "id": "d535b86e88bc1ff4",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 4300,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "8a86dfb4edda940a",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "falladaalimentacio",
        "payload": "alarmes.falladaalimentacio",
        "payloadType": "global",
        "x": 1330,
        "y": 4300,
        "wires": [
            [
                "d535b86e88bc1ff4"
            ]
        ]
    },
    {
        "id": "46f05dd7b1524668",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 4340,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "a77216c87a5c118e",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "volatgeplc",
        "payload": "alarmes.volatgeplc",
        "payloadType": "global",
        "x": 1310,
        "y": 4340,
        "wires": [
            [
                "46f05dd7b1524668"
            ]
        ]
    },
    {
        "id": "9272931cfde1269e",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "analitzador2",
        "payload": "alarmes.analitzador2",
        "payloadType": "global",
        "x": 1310,
        "y": 4580,
        "wires": [
            [
                "46106005a17306b3"
            ]
        ]
    },
    {
        "id": "46106005a17306b3",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 4580,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "d45438b464e0fea1",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "disposiciodosificadora1",
        "payload": "alarmes.marxad1",
        "payloadType": "global",
        "x": 1300,
        "y": 4620,
        "wires": [
            [
                "8cf7c7149040e4c7"
            ]
        ]
    },
    {
        "id": "287f0eb710f94095",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "disposiciodosificadora3",
        "payload": "alarmes.marxad3",
        "payloadType": "global",
        "x": 1300,
        "y": 4660,
        "wires": [
            [
                "2846b8cfedd79b45"
            ]
        ]
    },
    {
        "id": "8cf7c7149040e4c7",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 4620,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "2846b8cfedd79b45",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 4660,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "c0c187e889f38521",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 4720,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "6780a1656f2d0f43",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "disposiciov2",
        "payload": "alarmes.valvula2",
        "payloadType": "global",
        "x": 1300,
        "y": 4760,
        "wires": [
            [
                "0fd3095d8ee576be"
            ]
        ]
    },
    {
        "id": "0fd3095d8ee576be",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 4760,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "b18ba915e1ca80d7",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "disposiciov3",
        "payload": "alarmes.valvula3",
        "payloadType": "global",
        "x": 1300,
        "y": 4800,
        "wires": [
            [
                "378f03e714388994"
            ]
        ]
    },
    {
        "id": "378f03e714388994",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 4800,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "3efcb3f14c5371f3",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "eadiposit1",
        "payload": "alarmes.eadiposit1",
        "payloadType": "global",
        "x": 1310,
        "y": 4900,
        "wires": [
            [
                "ba7e5bd7e1e6aa91"
            ]
        ]
    },
    {
        "id": "642654960aa24332",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "eadiposit2",
        "payload": "alarmes.eadiposit2",
        "payloadType": "global",
        "x": 1310,
        "y": 4980,
        "wires": [
            [
                "b9acf4d98cd6f805"
            ]
        ]
    },
    {
        "id": "8de92d2ddc32897a",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 4400,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "4b48c991158b44e7",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "intrusio",
        "payload": "alarma.intrusio",
        "payloadType": "global",
        "x": 1290,
        "y": 4400,
        "wires": [
            [
                "8de92d2ddc32897a"
            ]
        ]
    },
    {
        "id": "ee42dd32b5824a06",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 4440,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "0b52fca5346cb029",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "infointrusio",
        "payload": "alarmes.infointrusio",
        "payloadType": "global",
        "x": 1310,
        "y": 4440,
        "wires": [
            [
                "ee42dd32b5824a06"
            ]
        ]
    },
    {
        "id": "e96f0b86969e3156",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "eacloranalitzador1",
        "payload": "alarmes.clor1ea",
        "payloadType": "global",
        "x": 1300,
        "y": 5280,
        "wires": [
            [
                "5a4d1b91b29dc88f"
            ]
        ]
    },
    {
        "id": "6196f1c9c291b30d",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "eaterbolesaanalitzador3",
        "payload": "alarmes.terbolesa1ea",
        "payloadType": "global",
        "x": 1320,
        "y": 5320,
        "wires": [
            [
                "a28f1c94c14a85bc"
            ]
        ]
    },
    {
        "id": "88a7e17d30ef221c",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5240,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "5a4d1b91b29dc88f",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5280,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "a28f1c94c14a85bc",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5320,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "1cf5b4022b0c6b5d",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "instantanicabal3",
        "payload": "alarmes.cabal3",
        "payloadType": "global",
        "x": 1300,
        "y": 5380,
        "wires": [
            [
                "44009a33eecc673f"
            ]
        ]
    },
    {
        "id": "30cb4e4556ed28e2",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "instantanicabal5",
        "payload": "alarmes.cabal5",
        "payloadType": "global",
        "x": 1300,
        "y": 5420,
        "wires": [
            [
                "19b4b0eb33dc72fa"
            ]
        ]
    },
    {
        "id": "44009a33eecc673f",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5380,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "19b4b0eb33dc72fa",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5420,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "db9ec4aea498fb5b",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "eacabal3",
        "payload": "alarmes.cabal3ea",
        "payloadType": "global",
        "x": 1300,
        "y": 5460,
        "wires": [
            [
                "af2ca0f87887fc23"
            ]
        ]
    },
    {
        "id": "0fe8b653dd0483b3",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "eacabal5",
        "payload": "alarmes.cabal5ea",
        "payloadType": "global",
        "x": 1300,
        "y": 5500,
        "wires": [
            [
                "c5bcb6864a05ebc8"
            ]
        ]
    },
    {
        "id": "af2ca0f87887fc23",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5460,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "c5bcb6864a05ebc8",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5500,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "65b706dd56aad988",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "instantanicabal2",
        "payload": "alarmes.cabal2",
        "payloadType": "global",
        "x": 1300,
        "y": 5560,
        "wires": [
            [
                "52e6ef9ea1da1128"
            ]
        ]
    },
    {
        "id": "6effb8d24ea11a80",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "instantanicabal6",
        "payload": "alarmes.cabal6",
        "payloadType": "global",
        "x": 1300,
        "y": 5600,
        "wires": [
            [
                "c267ec2c5b395297"
            ]
        ]
    },
    {
        "id": "52e6ef9ea1da1128",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5560,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "c267ec2c5b395297",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5600,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "e971bb5cfb27b58d",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "eacabal6",
        "payload": "alarmes.cabal6ea",
        "payloadType": "global",
        "x": 1300,
        "y": 5680,
        "wires": [
            [
                "e356d03e1f4235ba"
            ]
        ]
    },
    {
        "id": "7ef6128eb03d227c",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "eacabal7",
        "payload": "alarmes.cabal7ea",
        "payloadType": "global",
        "x": 1300,
        "y": 5720,
        "wires": [
            [
                "14d285a7a6dcf8f7"
            ]
        ]
    },
    {
        "id": "e356d03e1f4235ba",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5680,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "14d285a7a6dcf8f7",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5720,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "82680d57991d0b11",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "instantanicabal7",
        "payload": "alarmes.cabal7",
        "payloadType": "global",
        "x": 1300,
        "y": 5640,
        "wires": [
            [
                "67507d3206a2dadc"
            ]
        ]
    },
    {
        "id": "67507d3206a2dadc",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5640,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "9dfa5fe8e37108a1",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "consignaphanalitzador2",
        "payload": "alarmes.phanalitzador2",
        "payloadType": "global",
        "x": 1320,
        "y": 5860,
        "wires": [
            [
                "2844602117189374"
            ]
        ]
    },
    {
        "id": "50ee3fe15a43659e",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5820,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "2844602117189374",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5860,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "19d2fdd92d1d0d92",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "consignacloranalitzador1",
        "payload": "alarmes.cloranalitzador1",
        "payloadType": "global",
        "x": 1320,
        "y": 5780,
        "wires": [
            [
                "8622aba5bdb6be4f"
            ]
        ]
    },
    {
        "id": "8622aba5bdb6be4f",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5780,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "ebbd271652d28957",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "consignacloranalitzador2",
        "payload": "alarmes.cloranalitzador2",
        "payloadType": "global",
        "x": 1320,
        "y": 5820,
        "wires": [
            [
                "50ee3fe15a43659e"
            ]
        ]
    },
    {
        "id": "f6c7aafccfe97980",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5920,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "4e7782b931a83223",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "tarjaumf1",
        "payload": "alarmes.comunicacioremota1",
        "payloadType": "global",
        "x": 1340,
        "y": 5920,
        "wires": [
            [
                "f6c7aafccfe97980"
            ]
        ]
    },
    {
        "id": "6351af48592b3f49",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 5960,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "130198fb4ff781c3",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "tarjaumf2",
        "payload": "alarmes.comunicacioremota2",
        "payloadType": "global",
        "x": 1340,
        "y": 5960,
        "wires": [
            [
                "6351af48592b3f49"
            ]
        ]
    },
    {
        "id": "008286b028eb6c0a",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 6000,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "10263d84e49d26ad",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "tarjaumf3",
        "payload": "alarmes.comunicacioremota3",
        "payloadType": "global",
        "x": 1340,
        "y": 6000,
        "wires": [
            [
                "008286b028eb6c0a"
            ]
        ]
    },
    {
        "id": "38e5e3bb5c143575",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 6040,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "07403caf809e199c",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "comunicacioanalitzador2",
        "payload": "alarmes.comunicacioanalitzador2",
        "payloadType": "global",
        "x": 1350,
        "y": 6040,
        "wires": [
            [
                "38e5e3bb5c143575"
            ]
        ]
    },
    {
        "id": "ab4a16ac4c9833db",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 6080,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "9afd9667e1b3d618",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "comunicacioplc4",
        "payload": "alarmes.comunicacioplc4",
        "payloadType": "global",
        "x": 1330,
        "y": 6080,
        "wires": [
            [
                "ab4a16ac4c9833db"
            ]
        ]
    },
    {
        "id": "b13fb1fa4994efd2",
        "type": "comment",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "Post 08/05/2025 ",
        "info": "",
        "x": 1250,
        "y": 4260,
        "wires": []
    },
    {
        "id": "8a8cc11f8852c73a",
        "type": "comment",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "afegir dosificadores!",
        "info": "",
        "x": 1280,
        "y": 6280,
        "wires": []
    },
    {
        "id": "01d954a258890f2a",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "cabalimetre2pasaigua",
        "payload": "alarmes.cabalimetre2pasaigua",
        "payloadType": "global",
        "x": 1340,
        "y": 6140,
        "wires": [
            [
                "34f4464b541a681a"
            ]
        ]
    },
    {
        "id": "34f4464b541a681a",
        "type": "switch",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "PreviusValue",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "prev"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1660,
        "y": 6140,
        "wires": [
            [
                "ab1201b7606c182c"
            ]
        ]
    },
    {
        "id": "ab1201b7606c182c",
        "type": "function",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "Prepare alarms topic & payload",
        "func": "let numero = msg.payload.missatge;\nvar topic_init = \"alarmes/plc/\"\nvar plc = \"9\"\nvar topic = msg.topic;\nmsg.payload.temps = new Date().toISOString();\nmsg.payload.tag = topic;\nmsg.payload.missatge = numero\n\nswitch (true){\n    case (numero < 21):\n        if (numero % 2 == 0) {\n            numero = numero - 1;\n            msg.topic = topic_init + plc + \"/\" + numero + \"/\" + topic;\n            msg.payload.estat = 0;\n            msg.payload.valor = 0;\n        }\n        else {\n            msg.payload.estat = 1;\n            msg.payload.valor = 1;\n        }\n        break;\n    case (numero == 21):\n    case (numero == 22):\n    case (numero == 23):\n        msg.topic = topic_init + plc + \"/\" + numero + \"/\" + topic;\n        msg.payload = true;\n        break;\n    case (numero > 23):\n        if (numero % 2 != 0) {\n            numero = numero - 1;\n            msg.topic = topic_init + plc + \"/\" + numero + \"/\" + topic;\n            msg.payload.estat = 0;\n            msg.payload.valor = 0;\n        }\n        else {\n            msg.payload.estat = 1;\n            msg.payload.valor = 1;\n        }\n        break;\n}\n\nmsg.payload.prioritat = 0;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1960,
        "y": 4300,
        "wires": [
            [
                "c4367426c4d7266c",
                "7bd96b7d88ed4d2e"
            ]
        ]
    },
    {
        "id": "b1853772b0ed2158",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "74c5fe9af2d83de1",
        "name": "minimcabal6",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "01 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/minimcabal6",
        "payload": "cabal6",
        "payloadType": "global",
        "x": 180,
        "y": 4060,
        "wires": [
            [
                "d2748d935b1962cc"
            ]
        ]
    },
    {
        "id": "386b875be345d4c8",
        "type": "inject",
        "z": "662afd5c1069609f",
        "g": "74c5fe9af2d83de1",
        "name": "minimcabal7",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "01 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/minimcabal7",
        "payload": "cabal7",
        "payloadType": "global",
        "x": 180,
        "y": 4100,
        "wires": [
            [
                "d2748d935b1962cc"
            ]
        ]
    },
    {
        "id": "dbb8f2bdbde007cf",
        "type": "mqtt out",
        "z": "662afd5c1069609f",
        "g": "74c5fe9af2d83de1",
        "name": "Cap a IOT",
        "topic": "",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "ad0b6903ab51bbcb",
        "x": 630,
        "y": 4060,
        "wires": []
    },
    {
        "id": "d2748d935b1962cc",
        "type": "function",
        "z": "662afd5c1069609f",
        "g": "74c5fe9af2d83de1",
        "name": "Procesar Mensaje",
        "func": "var valor = msg.payload.min;\n\n// Obtener el topic del mensaje de entrada\nvar topic = msg.topic;\nvar topicParts = topic.split('/');\nvar plcId = Number(topicParts[2]);  // Convertir a número\nvar tag = topicParts[3];  // Asumiendo que el tag está en la cuarta posición del topic\n\n// Obtener la fecha y hora actual en formato ISO 8601\nvar tiempo = new Date(msg.payload.minTime).toISOString();\n\n// Crear el nuevo mensaje con los datos\nvar newMsg = {\n    payload: {\n        valor: valor,\n        temps: tiempo,\n        plc: plcId,\n        tag: tag\n    },\n    topic: topic // Usar el mismo topic que el mensaje original\n};\n\nreturn newMsg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 4060,
        "wires": [
            [
                "dbb8f2bdbde007cf"
            ]
        ]
    },
    {
        "id": "e4ae54b5e9ce89d2",
        "type": "inject",
        "z": "662afd5c1069609f",
        "d": true,
        "g": "1491e3910f4adf1d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "10",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lectures/plc/9/instantanicabal7",
        "payload": "cabal7.inst",
        "payloadType": "global",
        "x": 390,
        "y": 1000,
        "wires": [
            [
                "529df419da5ba9a9"
            ]
        ]
    },
    {
        "id": "529df419da5ba9a9",
        "type": "function",
        "z": "662afd5c1069609f",
        "d": true,
        "g": "1491e3910f4adf1d",
        "name": "function 73",
        "func": "let now = new Date();\nlet hour = now.getHours();\n\nif (hour >= 2 && hour < 4) {\n    // Hora entre las 2:00 y 3:59 AM → deja pasar el mensaje\n    return msg;\n} else {\n    // No está en el rango → bloquea el mensaje\n    return null;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 1000,
        "wires": [
            [
                "543cbc518246f985"
            ]
        ]
    },
    {
        "id": "1594eb6183bb9f44",
        "type": "mqtt out",
        "z": "662afd5c1069609f",
        "g": "1491e3910f4adf1d",
        "name": "Cap a EMQX",
        "topic": "",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "c10d01a84abb2744",
        "x": 1050,
        "y": 200,
        "wires": []
    },
    {
        "id": "75617ee996f17dd2",
        "type": "mqtt out",
        "z": "662afd5c1069609f",
        "g": "c57236362ca5da04",
        "name": "Cap a EMQX",
        "topic": "",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "c10d01a84abb2744",
        "x": 1050,
        "y": 2200,
        "wires": []
    },
    {
        "id": "27cd38b8eca595bf",
        "type": "mqtt out",
        "z": "662afd5c1069609f",
        "g": "5d019910101c91dd",
        "name": "Cap a EMQX",
        "topic": "",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "c10d01a84abb2744",
        "x": 990,
        "y": 4360,
        "wires": []
    },
    {
        "id": "7bd96b7d88ed4d2e",
        "type": "mqtt out",
        "z": "662afd5c1069609f",
        "g": "5cae43d5c30dde7c",
        "name": "Cap a EMQX",
        "topic": "",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "c10d01a84abb2744",
        "x": 2050,
        "y": 4520,
        "wires": []
    },
    {
        "id": "dd52ffe72bc699ed",
        "type": "mqtt out",
        "z": "662afd5c1069609f",
        "g": "4f7fe2aadae19e9a",
        "name": "Cap a EMQX",
        "topic": "",
        "qos": "2",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "c10d01a84abb2744",
        "x": 1150,
        "y": 6840,
        "wires": []
    },
    {
        "id": "ef2d554d8d6793bd",
        "type": "sshexec",
        "z": "8d8051626fa38eec",
        "name": "",
        "sshccfg": "5baf0657d8598a6d",
        "command": "uci show firewall | grep Deny",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "sigint": false,
        "x": 440,
        "y": 160,
        "wires": [
            [
                "f19c1925b8ce62f4"
            ],
            [],
            []
        ]
    },
    {
        "id": "f0c8f36a275d8153",
        "type": "inject",
        "z": "8d8051626fa38eec",
        "name": "disable internet",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 160,
        "wires": [
            [
                "ef2d554d8d6793bd"
            ]
        ]
    },
    {
        "id": "f19c1925b8ce62f4",
        "type": "function",
        "z": "8d8051626fa38eec",
        "name": "function 1",
        "func": "let input = msg.payload;\n\nlet match = input.match(/firewall\\.(\\d+)\\.name/);\n\nif (match && match[1]) {\n    let id = match[1];\n    msg.payload = `uci set firewall.${id}.enabled='1'`;\n} else {\n    msg.payload = 'ID no encontrado';\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 140,
        "wires": [
            [
                "71c5ab1765ca5ac5"
            ]
        ]
    },
    {
        "id": "71c5ab1765ca5ac5",
        "type": "sshexec",
        "z": "8d8051626fa38eec",
        "name": "",
        "sshccfg": "5baf0657d8598a6d",
        "command": "",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "sigint": false,
        "x": 770,
        "y": 160,
        "wires": [
            [
                "8e2154ca07e12df9"
            ],
            [],
            []
        ]
    },
    {
        "id": "aad6639d82df74b9",
        "type": "sshexec",
        "z": "8d8051626fa38eec",
        "name": "",
        "sshccfg": "5baf0657d8598a6d",
        "command": "uci show firewall | grep Deny",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "sigint": false,
        "x": 440,
        "y": 80,
        "wires": [
            [
                "82f35447a16beb33"
            ],
            [],
            []
        ]
    },
    {
        "id": "ebc42b69dee93db6",
        "type": "inject",
        "z": "8d8051626fa38eec",
        "name": "enable internet",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 80,
        "wires": [
            [
                "aad6639d82df74b9"
            ]
        ]
    },
    {
        "id": "82f35447a16beb33",
        "type": "function",
        "z": "8d8051626fa38eec",
        "name": "function 2",
        "func": "let input = msg.payload;\n\nlet match = input.match(/firewall\\.(\\d+)\\.name/);\n\nif (match && match[1]) {\n    let id = match[1];\n    msg.payload = `uci set firewall.${id}.enabled='0'`;\n} else {\n    msg.payload = 'ID no encontrado';\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 60,
        "wires": [
            [
                "064ae75da29a9c94"
            ]
        ]
    },
    {
        "id": "064ae75da29a9c94",
        "type": "sshexec",
        "z": "8d8051626fa38eec",
        "name": "",
        "sshccfg": "5baf0657d8598a6d",
        "command": "",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "sigint": false,
        "x": 770,
        "y": 80,
        "wires": [
            [
                "8e2154ca07e12df9"
            ],
            [],
            []
        ]
    },
    {
        "id": "3a5e540e6dfc7d44",
        "type": "exec",
        "z": "8d8051626fa38eec",
        "command": "cd /home/pi; ls",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 480,
        "y": 320,
        "wires": [
            [
                "3c79b69ebb7dd25d"
            ],
            [
                "c77204eff209625d"
            ],
            [
                "e0107eced5d64212"
            ]
        ]
    },
    {
        "id": "ca58619e66e45ced",
        "type": "inject",
        "z": "8d8051626fa38eec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 320,
        "wires": [
            [
                "3a5e540e6dfc7d44"
            ]
        ]
    },
    {
        "id": "3c79b69ebb7dd25d",
        "type": "debug",
        "z": "8d8051626fa38eec",
        "name": "debug 223",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 300,
        "wires": []
    },
    {
        "id": "c77204eff209625d",
        "type": "debug",
        "z": "8d8051626fa38eec",
        "name": "debug 224",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 610,
        "y": 340,
        "wires": []
    },
    {
        "id": "e0107eced5d64212",
        "type": "debug",
        "z": "8d8051626fa38eec",
        "name": "debug 225",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 610,
        "y": 380,
        "wires": []
    },
    {
        "id": "02052b3367ef0e35",
        "type": "template",
        "z": "8d8051626fa38eec",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "text",
        "syntax": "plain",
        "template": "cd /home/pi/.node-red/projects/programacio\nmkdir plc_9_jan_pere\ncp flows_cred.json  plc_9_jan_pere/\ncp flows.json  plc_9_jan_pere/\ncp package.json  plc_9_jan_pere/\ngit remote set-url origin git@github.com:aiguesmanresa/tc_mura.git\ngit add plc_9_jan_pere\ngit commit -m \"test\"\ngit push --set-upstream origin main",
        "output": "str",
        "x": 280,
        "y": 480,
        "wires": [
            [
                "b88296fe7ed85f79"
            ]
        ]
    },
    {
        "id": "b88296fe7ed85f79",
        "type": "exec",
        "z": "8d8051626fa38eec",
        "command": "",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "15",
        "winHide": false,
        "oldrc": false,
        "name": "backup node-red",
        "x": 450,
        "y": 500,
        "wires": [
            [
                "b099d8c7d9f23ce4"
            ],
            [
                "ceb30df5f1273514"
            ],
            [
                "c1cdc8b3d1e43893"
            ]
        ]
    },
    {
        "id": "b099d8c7d9f23ce4",
        "type": "debug",
        "z": "8d8051626fa38eec",
        "name": "debug 226",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 620,
        "y": 480,
        "wires": []
    },
    {
        "id": "ceb30df5f1273514",
        "type": "debug",
        "z": "8d8051626fa38eec",
        "name": "debug 227",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 620,
        "y": 520,
        "wires": []
    },
    {
        "id": "c1cdc8b3d1e43893",
        "type": "debug",
        "z": "8d8051626fa38eec",
        "name": "debug 228",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 580,
        "y": 600,
        "wires": []
    },
    {
        "id": "bec3033735949a1e",
        "type": "inject",
        "z": "8d8051626fa38eec",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 460,
        "wires": [
            [
                "02052b3367ef0e35"
            ]
        ]
    },
    {
        "id": "8e2154ca07e12df9",
        "type": "sshexec",
        "z": "8d8051626fa38eec",
        "name": "",
        "sshccfg": "5baf0657d8598a6d",
        "command": "uci commit; /etc/init.d/firewall restart",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "sigint": false,
        "x": 1020,
        "y": 120,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "18f4e5fa3281515c",
        "type": "comment",
        "z": "8d8051626fa38eec",
        "name": "ignorar error, funciona bé",
        "info": "",
        "x": 1050,
        "y": 160,
        "wires": []
    },
    {
        "id": "47c07496bbc2212a",
        "type": "template",
        "z": "8d8051626fa38eec",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "text",
        "syntax": "plain",
        "template": "cd /home/pi/.node-red/projects/programacio\n\n# Establece el remote solo si hace falta\ncurrent_remote=$(git remote get-url origin 2>/dev/null)\nif [ \"$current_remote\" != \"git@github.com:aiguesmanresa/tc_mura.git\" ]; then\n  git remote set-url origin git@github.com:aiguesmanresa/tc_mura.git\nfi\n\ngit add .\n\n# Solo hace commit si hay cambios\nif ! git diff --cached --quiet; then\n  git commit -m \"test\"\nfi\n\n# Push normal (asume que upstream ya está configurado tras la primera vez)\ngit push origin main\n",
        "output": "str",
        "x": 276,
        "y": 537,
        "wires": [
            []
        ]
    }
]